<ngx-spinner bdColor="rgba(68,64,66,0.8)" size="large" color="#fff" type="ball-clip-rotate-multiple"
  [fullScreen]="true">
  <p style="color: white"> Loading... </p>
</ngx-spinner>
<div class="container-fluid card card:hover headerrspace">
  <div class="row headerspace">
    <div class="col-lg-3">
      <h5>{{labels[0].myAppointments}}</h5>
    </div>
  </div>
</div>
<br>
<div class="container-fluid card card:hover">
  <div class="row" style="margin-top: 20px;">
    <div class="col-lg-3">
      <!-- <ng-daterangepicker [(ngModel)]="value" [options]="options" (ngModelChange)="selectedDate($event)">
        </ng-daterangepicker> -->

      <input *ngIf="languageid==1" type="text" placeholder="Select Date" [bsConfig]="{ showWeekNumbers:false }"
        class="form-control" [(ngModel)]="value" (ngModelChange)="selectedDate($event)" bsDaterangepicker>
      <input *ngIf="languageid==6" type="text" placeholder="Sélecteur de date" [bsConfig]="{ showWeekNumbers:false }"
        class="form-control" [(ngModel)]="value" (bsValueChange)="selectedDate($event)" bsDaterangepicker>
    </div>
    <div class="col-lg-3">
      <input type="text" class="form-control" [(ngModel)]="term" placeholder="{{labels[0].search}}">
    </div>
    <div class="col-lg-3">
    </div>
    <div class="col-lg-3" style="text-align: end;margin-left: -8px; ">
      <label>
        {{labels[0].count}} : {{count}}
      </label>
    </div>
  </div>
  <br>
  <div class="row">
    <div class="col-lg-6">
    </div>
  </div>
  <div class="row" *ngIf="apppppp=='0'">
    <div class="col-lg-12" style="overflow: auto;">
      <table>
        <thead>
          <tr>
            <th id="imp">{{labels[0].appointmentDate}}</th>
            <th id="imp">{{labels[0].slot}}</th>
            <th id="imp">{{labels[0].appointmentType}}</th>
            <th id="imp">{{labels[0].appointmentNumber}}</th>
            <th>{{labels[0].primarypatientname}}</th>
            <th>{{labels[0].phoneNoo}}</th>
            <th id="imp">{{labels[0].bookedPatientname}}</th>
            <th>Relation</th>
            <th>{{labels[0].bookedpatientphno}}</th>
            <!-- <th>{{labels[0].patientName}}</th>
            <th>{{labels[0].phoneNo}}</th> -->
            <th>{{labels[0].age}}</th>
            <th>{{labels[0].reason_For_Visit}}</th>
            <th>{{labels[0].patientDocuments}}</th>
            <th>{{labels[0].actions}}</th>
            <th>{{labels[0].status}}</th>
            <th id="imp">{{labels[0].previousvisitdocument}}</th>
          </tr>
          <tr [style.background-color]="details.appointmentColorCode"
            *ngFor="let details of appointmentlist|filter:term| paginate: { id: 'foo', itemsPerPage: 10, currentPage: p}">
            <td>{{details.appoinmentttdate}}</td>
            <td>{{details.slots}}</td>
            <td>

              <!-- early call -->
              <ng-template #tipcontent8>{{labels[0].vedioConference}}</ng-template>
              <button
                [disabled]="details.isVisited=='1' &&details.bookingTypeID=='2'&& details.completed=='2'||details.disableall=='0'||details.cancelled=='1'||details.docCancelled=='1'"
                type="button" class="strtvideobtn" [ngbTooltip]="tipcontent8"
                *ngIf="details.bookingTypeID=='2'&&details.earlycall=='2'"
                (click)="GetVideoconfrenceEarlycall(details.patientID,details.appointmentID,details.appdate,details.slots,details.endTime)">{{labels[0].startvideo}}
              </button>
              <!-- normal call -->
              <ng-template #tipcontent8>{{labels[0].vedioConference}}</ng-template>
              <button
                [disabled]="details.isVisited=='1'&&details.bookingTypeID=='2' && details.completed=='2'||details.disableall=='0'||details.cancelled=='1'||details.docCancelled=='1'"
                type="button" class="strtvideobtn" [ngbTooltip]="tipcontent8"
                *ngIf="details.bookingTypeID=='2'&&details.earlycall=='0'||details.earlycall=='1'||details.earlycall=='3'"
                (click)="getvedioconferencebydateandtime(details.patientID,details.appointmentID,details.appdate,details.slots,details.endTime)">{{labels[0].startvideo}}
              </button>

              <ng-template #tipcontent828>{{labels[0].vedioConference}}</ng-template>
              <button type="button" class="ondemand" [ngbTooltip]="tipcontent828" *ngIf="details.bookingTypeID=='1'"
                (click)="getvedioconferencebydateandtimedemand(details.patientID,details.appointmentID,details.appdate,details.slots,details.endTime,details.completed)">{{labels[0].startvideo}}
              </button>

              <ng-template #tipcontent2099>{{labels[0].homeVisit}}</ng-template>
              <button type="button" class="homecarebtn" [ngbTooltip]="tipcontent2099"
                *ngIf="details.appointmentTypeID=='5'">{{labels[0].homeVisit}}
              </button>

              <ng-template #tipcontent20>{{labels[0].inClinic}}</ng-template>
              <button type="button" class="inclinicbutton" [ngbTooltip]="tipcontent20"
                *ngIf="details.appointmentTypeID=='1'">{{labels[0].inClinic}}
              </button>
              <!-- [routerLink]="['/Mychats',details.doctorID,details.patientID]" -->
              <ng-template #tipcontent36>{{labels[0].chat}}</ng-template>
              <button type="button" class="strtchatbtn" [ngbTooltip]="tipcontent36"
                *ngIf="details.appointmentTypeID=='2'&&details.disableall=='1'&&details.cancelled=='0'&&details.docCancelled=='0'"
                (click)="GetChatShowID(details.patientID,details.appdate,details.slots,details.pEmail,details.appointmentID)">{{labels[0].chat}}</button>
            </td>
            <td>{{details.appointmentID}}</td>
            <td>{{details.primarypatientname}}</td>
            <td>{{details.primarymobileno}}</td>
            <td>{{details.pName}}</td>
            <td>{{details.pRelation}}</td>
            <td>{{details.pMobileNo}}</td>
            <td>{{details.age}}</td>
            <td>{{details.reasonForVisit}}</td>
            <td>
              <img src="assets/Images/imgicon.png" title="{{labels[0].images}}"
                *ngIf="details.photoexist=='1'&&details.cancelled=='0'&&details.docCancelled=='0'"
                (click)="GetImagesID(details.appointmentID)" data-toggle="modal" data-target="#exampleModalLong2"
                style="margin: 2%;width: 20px;" />&nbsp;

              <img src="assets/Images/showvedio.png"
                *ngIf="details.appointmentTypeID=='2'&&details.videoexist=='1'&&details.cancelled=='0'&&details.docCancelled=='0'"
                data-toggle="modal" data-target="#exampleModalLong3" title="{{labels[0].video}}"
                style="margin: 2%;width: 20px;" (click)="GetVedioID(details.appointmentID)" />&nbsp;

              <ng-template #tipcontent300>{{labels[0].viewdetils}}</ng-template>
              <img src="assets/Images/medicalquestion.png" *ngIf="details.cancelled=='0'&&details.docCancelled=='0'"
                [ngbTooltip]="tipcontent300" style="margin: 2%;width: 24px;" data-toggle="modal"
                data-target="#exampleModalLong78"
                (click)="GetViewDetails(details.appointmentID,details.patientID)" />&nbsp;

              <ng-template #tipcontent2094>{{labels[0].diagnosticreport}}</ng-template>
              <a [ngbTooltip]="tipcontent2094">
                <img src="assets/Images/pdf.png" style="height:20px;" *ngIf="details.reportUrl!='0'"
                  title="Diagnostic Report" (click)="GetReportPdf(details.reportUrl)"></a>

              <ng-template #tipcontent2004>Pdf</ng-template>
              <a [ngbTooltip]="tipcontent2004">
                <img src="assets/Images/pdf.png" style="height:20px;" *ngIf="details.uploadrepornotexist!='0'"
                  title="Diagnostic Report" (click)="GetReportsssss(details.illnesspdf)"></a>


              <!-- <ng-template #tipcontent2094>Vitals</ng-template>
              <a [ngbTooltip]="tipcontent2094">
                <img src="assets/Images/heart.png" style="height:20px;" data-toggle="modal" data-target="#Vitaldetals"
                  title="Diagnostic Report" (click)="getvitaldetails(details.appointmentID)"></a> -->
            </td>
            <td>
              <table style="box-shadow:none">


                <tr>
                  <td style="border:none">
                    <ng-template #tipcontent3>{{labels[0].cancel}}</ng-template>
                    <!-- &&details.doctorCancelvalidation=='1' -->
                    <a [ngbTooltip]="tipcontent3"
                      *ngIf="details.cancelled=='0'&&details.docCancelled=='0'&&details.isVisited=='0'&&details.bookingTypeID!='1'&&details.doctorCancelvalidation=='1'">
                      <img src="assets/Images/can.png" style="height:20px;" data-toggle="modal"
                        data-target="#exampleModal"
                        (click)="cancelappoinement(details.appointmentID,details.patientID,details.notificationdate,details.doctorName,details.hospital_ClinicName,details.pEmail,details.paidAmount,details.walletAmount,details.pMobileNo,details,details.smsmobileno,details.appointmentTypeText)" />
                    </a>
                    <!-- &&details.bookingTypeID=='2'||details.bookingTypeID=='0' -->
                    <ng-template #tipcontent3>{{labels[0].cancel}}</ng-template>
                    <a [ngbTooltip]="tipcontent3"
                      *ngIf="details.cancelled=='0'&&details.docCancelled=='0'&&details.isVisited=='0'&&details.bookingTypeID=='1'">
                      <img src="assets/Images/can.png" style="height:20px;" data-toggle="modal"
                        data-target="#exampleModal"
                        (click)="cancelappoinement(details.appointmentID,details.patientID,details.notificationdate,details.doctorName,details.hospital_ClinicName,details.pEmail,details.paidAmount,details.walletAmount,details.pMobileNo,details,details.smsmobileno,details.appointmentTypeText)" />
                    </a>
                  </td>
                  <td style="border:none">
                    <ng-template #tipcontent2>{{labels[0].accept}}</ng-template>
                    <a [ngbTooltip]="tipcontent2"
                      *ngIf="details.accepted=='0'&&details.isVisited=='0'&&details.cancelled=='0'&&details.docCancelled=='0'">
                      <img src="assets/Images/acc.png"
                        (click)="Appointmentstatus(details.appointmentID,details.patientID,details.notificationdate,details.doctorName,details.hospital_ClinicName,details.emailID,details.smsmobileno,details.appointmentTypeText)"
                        style="height:20px;" />
                    </a>
                    <!-- <ng-template #tipcontent2>{{labels[0].accept}}</ng-template>
                    <a [ngbTooltip]="tipcontent2"
                      *ngIf="details.accepted=='0'&&details.isVisited=='0'&&details.cancelled=='0'&&details.docCancelled=='0'&&details.appointmentTypeID=='5'">
                      <img src="assets/Images/acc.png" data-toggle="modal" data-target="#NextAVilabletime"
                        (click)="GetNextAvailabilityTime(details.appointmentID,details.patientID,details.notificationdate,details.doctorName,details.hospital_ClinicName,details.emailID,details.slots,details.smsmobileno)"
                        style="height:20px;" />
                    </a> -->

                  </td>
                  <td style="border:none">
                    <ng-template #tipcontent4>{{labels[0].notvisited}}</ng-template>
                    <a [ngbTooltip]="tipcontent4"
                      *ngIf="details.accepted=='1'&&details.isVisited=='0'&&details.cancelled=='0'&&details.docCancelled=='0'&&details.noShow=='0'&&details.appointmentTypeID!='5'">
                      <img src="assets/Images/notvisit.png" style="height:25px;"
                        (click)="UpdateBookAppointmentNoShow(details.appointmentID,details.appdate,details.slots)" />
                    </a>
                  </td>
                  <td style="border:none">
                    <ng-template #tipcontent201>{{labels[0].followup}}</ng-template>
                    <a [ngbTooltip]="tipcontent201"
                      *ngIf="details.isVisited=='1'&&details.followUpVisit=='0'&&details.followApp=='0'">
                      <img src="assets/Images/followup.png" style="height:25px;" data-toggle="modal"
                        data-target="#FollowUpVisit" (click)="GetFollowUpID(details.appointmentID)" />
                    </a>
                  </td>
                  <td style="border:none">
                    <ng-template #tipcontent56>{{labels[0].receipt}}</ng-template>
                    <a [ngbTooltip]="tipcontent56"
                      *ngIf="details.isVisited=='1'&&details.reportBit=='0'&&details.payPayment=='1'">
                      <img src="assets/Images/Receipts.png" style="height:25px;" (click)="GenerateReciept(details)"
                        data-toggle="modal" data-target="#Reciept" />
                    </a>
                  </td>
                  <!-- <td style="border:none">
                    <ng-template #tipcontent567>{{labels[0].uploadprescription}}</ng-template>
                    <a [ngbTooltip]="tipcontent567"
                      *ngIf="details.accepted=='1'&&details.cancelled=='0'&&details.docCancelled=='0'&&details.disableall=='1'">
                      <img src=" assets/Images/uploadfile.png" style="height:25px;" data-toggle="modal"
                        data-target="#UploadPhotos" (click)="GetPrescriptionPhoto(details)" />
                    </a>
                  </td> -->
                  <td style="border:none">
                    <ng-template #tipcontent567>{{labels[0].uploaddocuments}}</ng-template>
                    <a [ngbTooltip]="tipcontent567"
                      *ngIf="details.accepted=='1'&&details.cancelled=='0'&&details.docCancelled=='0'">
                      <img src=" assets/Images/uploadfile.png" style="height:25px;" data-toggle="modal"
                        data-target="#UploadPhotosDiagnostic" (click)="GetPrescriptionPhoto(details)" />
                    </a>
                  </td>
                  <td style="border:none">
                    <ng-template #tipcontent948>whats app</ng-template>
                    <a [ngbTooltip]="tipcontent948">
                      <img src=" assets/Images/whatapp.png" style="height:25px;"
                        *ngIf="details.accepted=='1'&&details.cancelled=='0'&&details.docCancelled=='0'&&details.disableall=='1'"
                        (click)="GetDocWhatsaPP(details.smsmobileno)" />
                    </a>
                  </td>
                </tr>
                <tr>
                  <td style="border:none">
                    <!-- earlyprescription -->

                    <ng-template #tipcontent5>{{labels[0].addPrescription}}</ng-template>
                    <a [ngbTooltip]="tipcontent5"
                      *ngIf="details.accepted=='1'&&details.cancelled=='0'&&details.categoryID=='1'&&details.docCancelled=='0'&&details.noShow=='0'&&details.disableall=='1'&&details.earlycall=='2'">
                      <img src="assets/Images/pre.png" data-toggle="modal" data-target="#exampleModalLong"
                        style="height:25px;" (click)="GetEarlyprescription(details)" />
                    </a>

                    <!-- normal precsription -->

                    <ng-template #tipcontent5345>{{labels[0].addPrescription}}</ng-template>
                    <a [ngbTooltip]="tipcontent5345"
                      *ngIf="details.accepted=='1'&&details.cancelled=='0'&&details.docCancelled=='0'&&details.noShow=='0'&&details.disableall=='1'&&details.earlycall=='0'&&details.categoryID=='1'||details.earlycall=='1'||details.earlycall=='3'">
                      <img src="assets/Images/pre.png" data-toggle="modal" data-target="#exampleModalLong"
                        style="height:25px;" (click)="GetPatientid(details)" />
                    </a>
                  </td>
                  <td style="border:none">
                    <!-- early test -->
                    <ng-template #tipcontent7>{{labels[0].addTest}}</ng-template>
                    <a [ngbTooltip]="tipcontent7"
                      *ngIf="details.accepted=='1'&&details.cancelled=='0'&&details.categoryID=='1'&&details.docCancelled=='0'&&details.noShow=='0'&&details.disableall=='1'&&details.earlycall=='2'">
                      <img src="assets/Images/test.png" data-toggle="modal" data-target="#exampleModalLong1"
                        style="height:25px;"
                        (click)="GetEarlyDiaTest(details.patientID,details.appointmentID,details.appdate,details.slots,details.pEmail,details.smsmobileno)" />
                    </a>
                    <!-- normal test -->
                    <ng-template #tipcontent7566>{{labels[0].addTest}}</ng-template>
                    <a [ngbTooltip]="tipcontent7566"
                      *ngIf="details.accepted=='1'&&details.cancelled=='0'&&details.categoryID=='1'&&details.docCancelled=='0'&&details.noShow=='0'&&details.disableall=='1'&&details.earlycall=='0'||details.earlycall=='1'||details.earlycall=='3'">
                      <img src="assets/Images/test.png" data-toggle="modal" data-target="#exampleModalLong1"
                        style="height:25px;"
                        (click)="GetDiatestPatientid(details.patientID,details.appointmentID,details.appdate,details.slots,details.pEmail,details.smsmobileno,details.appointmentTypeID)" />
                    </a>
                  </td>
                  <td style="border:none">
                    <!-- early soap -->
                    <ng-template #tipcontent10>{{labels[0].addSoapNotes}}</ng-template>
                    <a [ngbTooltip]="tipcontent10"
                      *ngIf="details.accepted=='1'&&details.cancelled=='0'&&details.categoryID=='1'&&details.docCancelled=='0'&&details.noShow=='0'&&details.disableall=='1'&&details.earlycall=='2'">
                      <img src="assets/Images/soap.png" data-toggle="modal" data-target="#exampleModal5"
                        style="height:25px;"
                        (click)="GetEarlySoap(details.patientID,details.adate,details.appointmentID,details.appdate,details.slots,details.pEmail,details.smsmobileno,details.categoryID)" />
                    </a>

                    <!-- normal soap -->
                    <ng-template #tipcontent905>{{labels[0].addSoapNotes}}</ng-template>
                    <a [ngbTooltip]="tipcontent905"
                      *ngIf="details.accepted=='1'&&details.cancelled=='0'&&details.categoryID=='1'&&details.docCancelled=='0'&&details.noShow=='0'&&details.disableall=='1'&&details.earlycall=='0'||details.earlycall=='1'||details.earlycall=='3'">
                      <img src="assets/Images/soap.png" data-toggle="modal" data-target="#exampleModal5"
                        style="height:25px;"
                        (click)="GetSoapID(details.patientID,details.adate,details.appointmentID,details.appdate,details.slots,details.pEmail,details.smsmobileno,details.categoryID,details.appointmentTypeID)" />
                    </a>
                  </td>
                  <td style="border:none">
                    <ng-template #tipcontent88>{{labels[0].refertodoctor}}</ng-template>
                    <a [ngbTooltip]="tipcontent88"
                      *ngIf="details.accepted=='1'&&details.cancelled=='0'&&details.categoryID=='1'&&details.docCancelled=='0'&&details.noShow=='0'&&details.disableall=='1'">
                      <img src="assets/Images/refer.png" style="height:25px;" data-toggle="modal"
                        data-target="#exampleModalCenterRefferal" (click)="GetReferralID(details)" />
                    </a>
                  </td>
                  <td style="border:none">
                    <ng-template #tipcontent89>{{labels[0].generateSickSlip}}</ng-template>
                    <a [ngbTooltip]="tipcontent89"
                      *ngIf="details.accepted=='1'&&details.cancelled=='0'&&details.categoryID=='1'&&details.docCancelled=='0'&& details.noShow=='0'&&details.disableall=='1'">
                      <img src="assets/Images/medical.png" style="height:25px;" data-toggle="modal"
                        data-target="#exampleModalCenterSickSlip"
                        (click)="GetSickSlipID(details.patientID,details.appointmentID,details.pEmail,details.smsmobileno,details.nationalIdentityNo)" />
                    </a>
                  </td>
                  <td style="border:none">
                    <ng-template #tipcontent293>{{labels[0].earlyCallReminder}}</ng-template>
                    <!-- &&details.appointmentTypeID=='2' -->
                    <a [ngbTooltip]="tipcontent293"
                      *ngIf="details.accepted=='1'&&details.cancelled=='0'&&details.docCancelled=='0'&&details.noShow=='0'&&details.isVisited=='0'&&details.earlycall=='0'&&details.earlycallvalidation=='0'&&details.bookingTypeID=='2'">
                      <img src="assets/Images/earlycall.png" style="height:25px;" data-toggle="modal"
                        data-target="#exampleealycall"
                        (click)="GetEarlycallPatientID(details.patientID,details.pEmail,details.appointmentID,details.smsmobileno)" />
                    </a>
                  </td>
                  <td style="border:none">
                    <ng-template #tipcontent84943>{{labels[0].rejoin}}</ng-template>
                    <a [ngbTooltip]="tipcontent84943"
                      *ngIf="details.isVisited=='1' && details.completed=='2'&&details.videoCallReJoin=='0'||details.disableall=='0'&&details.cancelled=='0'&&details.docCancelled=='0'">
                      <img src="assets/Images/rejoin.png" style="height:25px;"
                        (click)="GetRejointhecall(details.appointmentID,details.pEmail,details.smsmobileno)" />
                    </a>
                  </td>
                  <td style="border:none">
                    <ng-template #tipcontent9586>{{labels[0].refund}}</ng-template>
                    <!-- &&details.alertBit=='1' -->
                    <a [ngbTooltip]="tipcontent9586"
                      *ngIf="details.accepted=='1'&&details.refundBit=='0'&&details.appointmentTypeID=='2'&&details.followApp=='0'">
                      <img src="assets/Images/refund.png" title="{{labels[0].refund}}" style="height:25px;"
                        data-toggle="modal" data-target="#RefundAmount" (click)="GetRefundPatientDetailsID(details)" />
                      <!-- [routerLink]="['/Soapdash',details.patientID]" -->
                    </a>
                  </td>
                  <td style="border:none">
                    <ng-template #tipcontent95353>{{labels[0].consulationReport}}</ng-template>
                    <a [ngbTooltip]="tipcontent95353">
                      <img src="assets/Images/conreport.png" style="height:30px;" data-toggle="modal"
                        data-target="#PdfsCheck"
                        *ngIf="details.noShow=='0'&&details.cancelled=='0'&&details.docCancelled=='0'&&details.accepted=='1'"
                        (click)="GetAllPrescription(details.appointmentID,details.pEmail,details.patientID)">
                    </a>
                  </td>
                </tr>
              </table>
              <!-- <ng-template #tipcontent4>Visit</ng-template>
                  <a [ngbTooltip]="tipcontent4"
                    *ngIf="details.accepted=='1'&&details.isVisited=='0'&&details.cancelled=='0'">
                    <img src="assets/Images/Visit.png" style="height:20px;"
                      (click)="VisitDoctorAppointmentStatus(details.appointmentID,details.patientID,details.notificationdate,details.doctorName,details.hospital_ClinicName,details.emailID)" />
                  </a> -->

            </td>
            <td>
              <label *ngIf="details.followApp=='1'" style="color:red;font-size: 5px;">{{labels[0].followup}}</label>

              <label *ngIf=" details.accepted=='1' &&details.cancelled=='0' &&details.docCancelled=='0'
                    &&details.isVisited=='0' &&details.noShow=='0'&&details.earlycall=='0'"
                style=" color: green;">{{labels[0].accepted}}</label>

              <label *ngIf="details.earlycall=='1'&&details.isVisited=='0'" style="color: red;">
                {{labels[0].waitforresponce}}</label>

              <label *ngIf="details.earlycall=='2'&&details.isVisited=='0'"
                style="color: red;">{{labels[0].earlycallaccpeted}}
              </label>

              <label *ngIf="details.earlycall=='3'&&details.isVisited=='0'"
                style="color: red;">{{labels[0].earlycallrejeted}}
              </label>

              <label *ngIf="details.cancelled=='1'" style="color: red;">{{labels[0].patientCancelled}}</label>


              <label *ngIf="details.cancelled=='1'" style="color: red;">{{labels[0].patientCancelled}}</label>
              <label *ngIf="details.docCancelled=='1'" style="color: red;">{{labels[0].doctorCancelled}}</label>

              <label *ngIf="details.isVisited=='1'" style="color: orange;">{{labels[0].visited}}</label>
              <label *ngIf="details.noShow=='1'" style="color: orange;">{{labels[0].notvisited}}</label>
            </td>
            <td>
              <ng-template #tipcontent6>{{labels[0].previousPrescription}}</ng-template>
              <a [ngbTooltip]="tipcontent6"
                *ngIf="details.cancelled=='0'&&details.docCancelled=='0'&&details.noShow=='0'&&details.accepted=='1'">
                <img src="assets/Images/preprescription.png" data-toggle="modal" data-target="#exampleModalCenter"
                  style="height:25px;" (click)="GetDoctorPatientid(details.patientID)" />
              </a>&nbsp;
              <ng-template #tipcontent12>{{labels[0].previousTests}}</ng-template>
              <a [ngbTooltip]="tipcontent12"
                *ngIf="details.cancelled=='0'&&details.docCancelled=='0'&&details.noShow=='0'&&details.accepted=='1'">
                <img src="assets/Images/previoustest.png" data-toggle="modal" data-target="#exampleModalCenter1"
                  style="height:20px;" (click)="GetDiaID(details.patientID)" />
              </a>&nbsp;
              <ng-template #tipcontent98>{{labels[0].previousSoapNotes}}</ng-template>
              <a [ngbTooltip]="tipcontent98"
                *ngIf="details.noShow=='0'&&details.cancelled=='0'&&details.docCancelled=='0'&&details.accepted=='1'">
                <img src="assets/Images/previoussoap.png" style="height:25px;" data-toggle="modal"
                  data-target="#exampleModalCenter90" (click)="GetSoapPatientID(details.patientID)" />
                <!-- [routerLink]="['/Soapdash',details.patientID]" -->
              </a>&nbsp;

              <ng-template #tipcontent9283>{{labels[0].previousmedicalcertificate}}</ng-template>
              <a [ngbTooltip]="tipcontent9283"
                *ngIf="details.noShow=='0'&&details.cancelled=='0'&&details.docCancelled=='0'&&details.accepted=='1'">
                <img src="assets/Images/medical.png" style="height:25px;" data-toggle="modal"
                  data-target="#Previousmedicalcertificate"
                  (click)="GetPreviousmediclcertificates(details.patientID)" />
                <!-- [routerLink]="['/Soapdash',details.patientID]" -->
              </a>&nbsp;

              <!-- <ng-template #tipcontent11>{{labels[0].misUseComments}}</ng-template>
              <a [ngbTooltip]="tipcontent11" data-toggle="modal" data-target="#exampleModalCenter15"
                *ngIf="details.misUse=='1'">
                <img src="assets/Images/upload.png" (click)="GetMisusecomments(details.misUseComments)"
                  style="height:25px;" />
              </a> -->
            </td>
          </tr>
        </thead>
      </table>
    </div>
  </div>
  <br>
  <div class="container-fluid" *ngIf="apppppp=='1'">
    <div class="row">
      <div class="col-lg-12">
        <h4 style="color:#f18235">{{labels[0].thereIsNoAppointments}}</h4>
      </div>
    </div>
  </div>
  <div class="col-lg-12" style="text-align: center">
    <br>
    <pagination-controls id="foo" (pageChange)="pageChanged($event)" maxSize="15" directionLinks="true" autoHide="true"
      responsive="true" previousLabel="Previous" nextLabel="Next" screenReaderPaginationLabel="Pagination"
      screenReaderPageLabel="page" screenReaderCurrentLabel="You're on page">
    </pagination-controls>
  </div>
  <br>
  <br>
</div>
<br>
<br>
<br>







<div class="modal fade" id="FollowUpVisit" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <!-- <h5 class="modal-title" id="exampleModalLabel" *ngIf="languageid=='1'">Refund</h5>
        <h5 class="modal-title" id="exampleModalLabel" *ngIf="languageid=='6'"> Remboursement au patient</h5> -->
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="container-fluid">
          <div class="row">
            <div class="col-lg-12">
              <input type="radio" value="1" [(ngModel)]="followupAppointmentTypeID"
                name="followupAppointmentTypeID">&nbsp;{{labels[0].inClinic}} &nbsp; &nbsp;
              <input type="radio" value="2" [(ngModel)]="followupAppointmentTypeID"
                name="followupAppointmentTypeID">&nbsp;{{labels[0].vedioConference}} &nbsp; &nbsp;
              <input type="radio" value="5" [(ngModel)]="followupAppointmentTypeID"
                name="followupAppointmentTypeID">&nbsp;{{labels[0].homeVisit}} &nbsp; &nbsp;
            </div>

          </div><br>
          <div class="row">
            <div class="col-lg-4">
            </div>
            <div class="col-lg-3">
              <button type="button" class="btn btncolor" (click)="GetFolloupVistID()" data-dismiss="modal">Sauvegarder </button>
            </div>
          </div>

        </div>
      </div>
      <div class="modal-footer">
        <p class="paracolor"> {{labels[0].followupNote}}</p>
        <button type="button" class="btn btn-secondary" *ngIf="languageid=='1'" id="close"
          style="background-color: #f18235;color: white;" data-dismiss="modal">{{labels[0].close}}</button>
        <button type="button" class="btn btn-secondary" *ngIf="languageid=='6'" id="close"
          style="background-color: #f18235;color: white;" data-dismiss="modal">Fermer </button>
      </div>
    </div>
  </div>
</div>





<div class="modal fade" id="PdfsCheck" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <!-- <h5 class="modal-title" id="exampleModalLabel" *ngIf="languageid=='1'">Refund</h5>
        <h5 class="modal-title" id="exampleModalLabel" *ngIf="languageid=='6'"> Remboursement au patient</h5> -->

        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="container-fluid">
          <div class="row">
            <div class="col-lg-6">
              <input type="checkbox" value="1" [(ngModel)]="soappdf" name="soappdf">&nbsp;
              <label *ngIf="languageid=='1'">SOAP Notes</label>
              <label *ngIf="languageid=='6'">Notes SOAP </label>

            </div>
            <div class="col-lg-6">
              <input type="checkbox" value="1" [(ngModel)]="referals" name="referals">&nbsp;
              <label>{{labels[0].refertodoctor}}</label>

            </div> <br>
            <div class="col-lg-6">

              <input type="checkbox" value="1" [(ngModel)]="Prescription" name="Prescription">&nbsp;
              <label *ngIf="languageid=='1'">Prescription</label>
              <label *ngIf="languageid=='6'">Ordonnance </label>
            </div>
            <div class="col-lg-6">
              <input type="checkbox" value="1" [(ngModel)]="medicalcertificate" name="medicalcertificate">&nbsp;
              <label *ngIf="languageid=='1'">Medical Certificate</label>
              <label *ngIf="languageid=='6'">Certificat médical </label>


            </div><br>
            <div class="col-lg-6">
              <input type="checkbox" value="1" [(ngModel)]="Test" name="Test">&nbsp;
              <label *ngIf="languageid=='1'">Diagnostic Test</label>
              <label *ngIf="languageid=='6'">Test de laboratoire</label>
            </div>


            <div class="col-lg-6">
              <input type="checkbox" value="1" [(ngModel)]="medical" name="medical">&nbsp;
              <label *ngIf="languageid=='6'">Evaluation médicale</label>
              <label *ngIf="languageid=='1'">Medical questionnaire</label>
            </div>
          </div><br>
          <div class="row">
            <div class="col-lg-3">
            </div>
            <div class="col-lg-7">
              <button type="button" class="btn btn-secondary" style="background-color: #f18235;color: white;"
                data-toggle="modal" data-target="#mymodalss" (click)="GenaratePdf()">
                <label *ngIf="languageid=='1'">View</label>
                <label *ngIf="languageid=='6'">Voir
                </label>
              </button>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" *ngIf="languageid=='1'" id="close"
          style="background-color: #f18235;color: white;" data-dismiss="modal">{{labels[0].close}}</button>
        <button type="button" class="btn btn-secondary" *ngIf="languageid=='6'" id="close"
          style="background-color: #f18235;color: white;" data-dismiss="modal">Fermer </button>
      </div>
    </div>
  </div>
</div>


<!-- single consulation report -->

<div id="mymodalss" class="modal fade" role="dialog">
  <div class="modal-dialog modal-lg">
    <div class="modal-content" style="width: 900px;
      height: auto;">
      <div class="modal-header">
        <!-- <h5 class="modal-title" id="exampleModalLabel" *ngIf="languageid=='1'">Refund</h5>
        <h5 class="modal-title" id="exampleModalLabel" *ngIf="languageid=='6'"> Remboursement au patient</h5> -->

        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>

      <div class="modal-body" id="Prescriptions">
        <div class="container-fluid" *ngFor="let alldetails of pdfprslist">
          <div *ngIf="alldetails.prescriptionExists!='0'&&Prescription==1">
            <div class="row">
              <div class="col-lg-5">
                <img src="assets/Images/logo.png" style="width: 26%;">
              </div>
              <div class="col-lg-4">
                <h3 *ngIf="languageid=='1'">Prescription</h3>
                <h3 *ngIf="languageid=='6'">Ordonnance</h3>
              </div>
            </div>
            <hr style="color:#333;background-color:#333;">
            <div class="row">
              <div class="col-lg-5">
                <label><b>{{labels[0].patientName}}</b> : {{alldetails.patientName}}</label><br>
                <label><b>{{labels[0].phoneNo}}</b> : {{alldetails.mobileNumber}}</label><br>
                <label><b>{{labels[0].address}}</b> : {{alldetails.address}}</label><br>
                <label><b> Email</b> : {{alldetails.emailID}}</label><br>
                <label><b> {{labels[0].nationalIDNo}}</b> : {{alldetails.nationalidno}}</label><br>
                <label><b>Age</b> : {{alldetails.age}}</label><br>
                <label><b> {{labels[0].dateOfBirth}}</b> : {{alldetails.dateOfBirth}}</label><br>
                <label><b> {{labels[0].gender}}</b> : {{alldetails.gender}}</label><br>
                <label><b> {{labels[0].appointmentNumber}}</b> : {{appointmentid}}</label><br>
              </div>
              <div class="col-lg-3">
                <h6 *ngIf="languageid==1"><b>Appointment Date</b></h6>
                <h6 *ngIf="languageid==6"><b>Date de rendez-vous</b></h6>
                <span><b style="margin-left: 20px;">{{alldetails.appointmentdate}}</b></span>
              </div>
              <div class="col-lg-4">
                <label><b>{{labels[0].doctorName}}</b> : {{alldetails.doctorName}}</label>
                <label><b>{{labels[0].registratinno}}</b> : {{alldetails.registrationNo}}</label>
                <label><b>{{labels[0].phoneNo}}</b> : {{alldetails.doctorMobileNo}}</label>
                <label><b>{{labels[0].department}}</b> : {{alldetails.departmentname}}</label>
                <label><b>{{labels[0].address}}</b> : {{alldetails.doctorAddress}}</label>
              </div>
              <br>
            </div><br><br>
            <div class="row">
              <div class="col-lg-12">
                <table>
                  <thead>
                    <tr>
                      <th id="imp">{{labels[0].date}}</th>
                      <th id="imp">{{labels[0].drugName}} </th>
                      <th id="imp">{{labels[0].sig}} </th>
                      <th id="imp">{{labels[0].dispenseQuantity}} </th>
                      <th id="imp">{{labels[0].howmanyRefills}} </th>
                      <th id="imp">{{labels[0].noteToPharmasist}} </th>
                    </tr>
                    <tr *ngFor="let medicines of alldetails.medicines">
                      <td style="    width: 13%;">{{medicines.date}}</td>
                      <td>{{medicines.medicineName}}</td>
                      <td>{{medicines.sig}}</td>
                      <td>{{medicines.dispenseQuantity}}</td>
                      <td>{{medicines.howmanyRefills}}</td>
                      <td>{{medicines.noteToPharmasist}}</td>
                    </tr>
                  </thead>
                </table>
              </div><br>
            </div><br><br><br><br><br><br>
            <div class="row">
              <div class="col-lg-12">
                <!-- <p style="justify-content: center;">
                  Prescriptions in the USA often have a box. When checked, the pharmacist is instructed to
                  label the medication and provide information about the prescription itself is given in addition to
                  instructions on taking the medication. Otherwise, the patient is simply given the instructions. Some
                  prescribers further inform the patient and pharmacist by providing the indication for the medication;
                  i.e. what is being treated. This assists the pharmacist in checking for errors as many common
                  medications can be used for multiple medical conditions. Some prescriptions will specify whether and
                  how
                  many "repeats" or "refills" are allowed; that is whether the patient may obtain more of the same
                  medication without getting a new prescription from the medical practitioner. Regulations may restrict
                  some types of drugs from being refilled.
                </p> -->
              </div><br><br><br><br><br><br><br>
              <!-- <div cl ass="col-lg-4">s
            <img src="assets/Images/sign.png" style="width: 39%;"><br>
            <label>Prescription provided by doctor</label>
          </div> -->
            </div><br><br>
            <div class="row">
              <div class="col-lg-8">
              </div>
              <div class="col-lg-4">
                <img src="assets/Images/sign.png" style="width: 39%;"><br>
                <!-- <label>Prescription provided by doctor</label><br> -->
                <b>Dr. {{alldetails.doctorName}}</b><br>
                <label><b>{{labels[0].registratinno}} : {{alldetails.registrationNo}}</b></label>
              </div>

            </div><br><br><br><br><br><br><br><br><br><br><br><br><br>
          </div>
          <!-- soapnotes -->

          <div *ngIf="alldetails.soapNotesExist!='0'&&soappdf==1">
            <div class="row">
              <div class="col-lg-5">
                <img src="assets/Images/logo.png" style="width: 26%;">
              </div>
              <div class="col-lg-4">
                <h3>{{labels[0].soapnotess}}</h3>
              </div>
            </div>
            <hr style="color:#333;background-color:#333;">
            <div class="row">
              <div class="col-lg-5">
                <label><b>{{labels[0].patientName}}</b> : {{alldetails.patientName}}</label><br>
                <label><b>{{labels[0].phoneNo}}</b> : {{alldetails.mobileNumber}}</label><br>
                <label><b>{{labels[0].address}}</b> : {{alldetails.address}}</label><br>
                <label><b> {{labels[0].email}}</b> : {{alldetails.emailID}}</label><br>
                <label><b> {{labels[0].nationalIDNo}}</b> : {{alldetails.nationalidno}}</label><br>
                <label><b>{{labels[0].age}}</b> : {{alldetails.age}}</label><br>
                <label><b> {{labels[0].dateOfBirth}}</b> : {{alldetails.dateOfBirth}}</label><br>
                <label><b> {{labels[0].gender}}</b> : {{alldetails.gender}}</label><br>
                <label><b> {{labels[0].appointmentNumber}}</b> : {{appointmentid}}</label><br>
              </div>
              <div class="col-lg-3">
                <h6 *ngIf="languageid==1"><b>Appointment Date</b></h6>
                <h6 *ngIf="languageid==6"><b>Date de rendez-vous</b></h6>
                <span><b style="margin-left: 20px;">{{alldetails.appointmentdate}}</b></span>
              </div>
              <div class="col-lg-4">
                <label><b>{{labels[0].doctorName}}</b> : {{alldetails.doctorName}}</label>
                <label><b>{{labels[0].registratinno}}</b> : {{alldetails.registrationNo}}</label>
                <label><b>{{labels[0].phoneNo}}</b> : {{alldetails.doctorMobileNo}}</label>
                <label><b>{{labels[0].department}}</b> : {{alldetails.departmentname}}</label>
                <label><b>{{labels[0].address}}</b> : {{alldetails.doctorAddress}}</label>
              </div>
              <br>
            </div><br><br>
            <h5>{{labels[0].soap}}</h5>
            <div class="row" *ngFor="let soap of alldetails.soaplist">
              <div class="col-lg-6">

                <label><b>{{labels[0].date}} : </b> {{soap.appointmentDate}}</label>

              </div><br>
              <div class="col-lg-6">
                <label><b>{{labels[0].subjective}} : </b> {{soap.subjective}}</label>
              </div>
              <div class="col-lg-6">
                <label><b>{{labels[0].objective}} : </b>{{soap.objective}}</label>
              </div>
              <div class="col-lg-6">
                <label><b>{{labels[0].assessment}} : </b>{{soap.assessment}}</label>
              </div>
              <div class="col-lg-6">
                <label><b>{{labels[0].plan}} : </b> {{soap.plan}}</label>
              </div>
              <div class="col-lg-6">
                <label><b>{{labels[0].diagnosis}} : </b> {{soap.diagnostic}}</label>
              </div>
              <div class="col-lg-6">
                <label><b>{{labels[0].diagnosisCode}} : </b> {{soap.diagnoticCode}}</label>
              </div>
              <div class="col-lg-6">
                <label><b>{{labels[0].followUpPlan}} : </b>{{soap.followUpPlan}}</label>
              </div>
            </div><br><br>
            <div class="row">
              <div class="col-lg-3">
                <label><b>{{labels[0].allergies}} : </b> {{alldetails.knownAllergies}}</label>
              </div>
              <div class="col-lg-3">
                <label><b>{{labels[0].statutvaccinal}} : </b> {{alldetails.vaccinationStatus}}</label>
              </div>
            </div><br>
            <h5>{{labels[0].vitalDetals}} </h5><br>
            <div class="row">
              <div class="col-lg-4">
                <label><b>BPM : </b> {{alldetails.bpm}}</label>

              </div>
              <div class="col-lg-4">
                <label><b>RR : </b> {{alldetails.rr}}</label>
              </div>
              <div class="col-lg-4">
                <label><b>{{labels[0].oxygen}} : </b>{{alldetails.bpm}}</label>
              </div>
              <div class="col-lg-4">
                <label><b>{{labels[0].stress}} : </b>{{alldetails.streeLevel}}</label>
              </div>
              <div class="col-lg-4">
                <label><b>{{labels[0].bloodpressure}} : </b> {{alldetails.bloodPressureStatus}}</label>
              </div>
            </div>
            <br><br><br>
            <div class="row">
              <div class="col-lg-8">
              </div>
              <div class="col-lg-4">
                <img src="assets/Images/sign.png" style="width: 39%;"><br>
                <!-- <label>SOAP Notes provided by doctor</label><br> -->
                <b>Dr. {{alldetails.doctorName}}</b><br>
                <label><b>{{labels[0].registratinno}} : {{alldetails.registrationNo}}</b></label>
              </div>

            </div><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
          </div>
          <!-- Test -->

          <div *ngIf="alldetails.diagnosticTestExist!='0'&&soappdf==1">
            <div class="row">
              <div class="col-lg-5">
                <img src="assets/Images/logo.png" style="width: 26%;">
              </div>
              <div class="col-lg-6">
                <h3 *ngIf="languageid=='1'">Diagnostic Test</h3>
                <h3 *ngIf="languageid=='6'">Test diagnostique/imagerie</h3>
              </div>
            </div>
            <hr style="color:#333;background-color:#333;">
            <div class="row">
              <div class="col-lg-5">
                <label><b>{{labels[0].patientName}}</b> : {{alldetails.patientName}}</label><br>
                <label><b>{{labels[0].phoneNo}}</b> : {{alldetails.mobileNumber}}</label><br>
                <label><b>{{labels[0].address}}</b> : {{alldetails.address}}</label><br>
                <label><b> {{labels[0].email}}</b> : {{alldetails.emailID}}</label><br>
                <label><b> {{labels[0].nationalIDNo}}</b> : {{alldetails.nationalidno}}</label><br>
                <label><b>{{labels[0].age}}</b> : {{alldetails.age}}</label><br>
                <label><b> {{labels[0].dateOfBirth}}</b> : {{alldetails.dateOfBirth}}</label><br>
                <label><b> {{labels[0].gender}}</b> : {{alldetails.gender}}</label><br>
                <label><b> {{labels[0].appointmentNumber}}</b> : {{appointmentid}}</label><br>
              </div>
              <div class="col-lg-3">
                <h6 *ngIf="languageid==1"><b>Appointment Date</b></h6>
                <h6 *ngIf="languageid==6"><b>Date de rendez-vous</b></h6>
                <span><b style="margin-left: 20px;">{{alldetails.appointmentdate}}</b></span>
              </div>
              <div class="col-lg-4">
                <label><b>{{labels[0].doctorName}}</b> : {{alldetails.doctorName}}</label>
                <label><b>{{labels[0].registratinno}}</b> : {{alldetails.registrationNo}}</label>
                <label><b>{{labels[0].phoneNo}}</b> : {{alldetails.doctorMobileNo}}</label>
                <label><b>{{labels[0].department}}</b> : {{alldetails.departmentname}}</label>
                <label><b>{{labels[0].address}}</b> : {{alldetails.doctorAddress}}</label>
              </div>
              <br>
            </div><br><br>
            <div class="row">
              <div class="col-lg-12">
                <table>
                  <thead>
                    <tr>
                      <th id="imp">{{labels[0].date}}</th>
                      <th id="imp">{{labels[0].testType}} </th>
                      <th id="imp">{{labels[0].testName}} </th>
                      <th id="imp">{{labels[0].clinicalInfo}} </th>
                    </tr>
                    <tr *ngFor="let test of alldetails.diagnosticTest">
                      <td style="    width: 13%;">{{test.appdate}}</td>
                      <td>{{test.name}}</td>
                      <td>{{test.testName}}</td>
                      <td>{{test.clinicalInfo}}</td>
                    </tr>
                  </thead>
                </table>
              </div><br>
            </div><br><br><br><br>
            <div class="row">
              <div class="col-lg-12">
                <!-- <p style="justify-content: center;">
                  Prescriptions in the USA often have a box. When checked, the pharmacist is instructed to
                  label the medication and provide information about the prescription itself is given in addition to
                  instructions on taking the medication. Otherwise, the patient is simply given the instructions. Some
                  prescribers further inform the patient and pharmacist by providing the indication for the medication;
                  i.e. what is being treated. This assists the pharmacist in checking for errors as many common
                  medications can be used for multiple medical conditions. Some prescriptions will specify whether and
                  how
                  many "repeats" or "refills" are allowed; that is whether the patient may obtain more of the same
                  medication without getting a new prescription from the medical practitioner. Regulations may restrict
                  some types of drugs from being refilled.
                </p> -->
              </div><br><br><br><br><br><br><br><br>
              <!-- <div cl ass="col-lg-4">s
  <img src="assets/Images/sign.png" style="width: 39%;"><br>
  <label>Prescription provided by doctor</label>
</div> -->
            </div><br><br>
            <div class="row">
              <div class="col-lg-8">
              </div>
              <div class="col-lg-4">
                <img src="assets/Images/sign.png" style="width: 39%;"><br>
                <!-- <label>Diagnostic Test provided by doctor</label><br> -->
                <b>Dr. {{alldetails.doctorName}}</b><br>
                <label><b>{{labels[0].registratinno}} : {{alldetails.registrationNo}}</b></label>
              </div>
            </div>
            <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
          </div>
          <div *ngIf="medical==1">
            <div class="row">
              <div class="col-lg-5">
                <img src="assets/Images/logo.png" style="width: 26%;">
              </div>
              <div class="col-lg-4">
                <h5 *ngIf="languageid==6"><b>Rapport de consultation</b></h5>
                <h5 *ngIf="languageid==1"><b>Consulatation Report</b></h5>
              </div>
            </div>
            <hr style="color:#333;background-color:#333;">
            <div>
              <div class="row">
                <div class="col-lg-5">
                  <label><b>{{labels[0].patientName}}</b> : {{alldetails.patientName}}</label><br>
                  <label><b>{{labels[0].phoneNo}}</b> : {{alldetails.mobileNumber}}</label><br>
                  <label><b>{{labels[0].address}}</b> : {{alldetails.address}}</label><br>
                  <label><b> {{labels[0].email}}</b> : {{alldetails.emailID}}</label><br>
                  <label><b> {{labels[0].nationalIDNo}}</b> : {{alldetails.nationalidno}}</label><br>
                  <label><b>{{labels[0].age}}</b> : {{alldetails.age}}</label><br>
                  <label><b> {{labels[0].dateOfBirth}}</b> : {{alldetails.dateOfBirth}}</label><br>
                  <label><b> {{labels[0].gender}}</b> : {{alldetails.gender}}</label><br>
                  <label><b> {{labels[0].appointmentNumber}}</b> : {{appointmentid}}</label><br>
                </div>
                <div class="col-lg-3">
                  <h6 *ngIf="languageid==1"><b>Appointment Date</b></h6>
                  <h6 *ngIf="languageid==6"><b>Date de rendez-vous</b></h6>
                  <span><b style="margin-left: 20px;">{{alldetails.appointmentdate}}</b></span>
                </div>
                <div class="col-lg-4">
                  <label><b>{{labels[0].doctorName}}</b> : {{alldetails.doctorName}}</label>
                  <label><b>{{labels[0].registratinno}}</b> : {{alldetails.registrationNo}}</label>
                  <label><b>{{labels[0].phoneNo}}</b> : {{alldetails.doctorMobileNo}}</label>
                  <label><b>{{labels[0].department}}</b> : {{alldetails.departmentname}}</label>
                  <label><b>{{labels[0].address}}</b> : {{alldetails.doctorAddress}}</label>
                </div>
                <br>
              </div>
            </div>
            <div><br><br><br><br>
              <div>
                <div class="row">
                  <!-- <h5 style="text-align: center;"><b>Vital Details</b></h5>
                  <div class="table">
                    <thead>
                      <tr>
                        <td><b>BPM : {{alldetails.bpm}}</b></td>
                        <td><b>RR : {{alldetails.rr}}</b></td>
                        <td><b>Oxygen : {{alldetails.oxygenSaturation}}</b></td>
                        <td><b>Stress : {{alldetails.streeLevel}}</b></td>
                        <td><b>Blood Pressure : {{alldetails.bloodPressureStatus}}</b></td>
                      </tr>
                    </thead>
                  </div> -->
                </div><br><br>
                <div class="row">
                  <h5 style="text-align: center;" *ngIf="languageid==1"><b>Medical Questionare</b></h5>
                  <h5 style="text-align: center;" *ngIf="languageid==6"><b>Evaluation médicale</b></h5>
                  <br>
                </div>
                <div class="row" *ngFor="let medical of alldetails.medicalquestion">
                  <div class="col-lg-4">
                    <label>{{labels[0].nationalidentityno}} : <b>{{medical.nationalidno}}</b></label>
                  </div>
                  <div class="col-lg-4">
                    <label>{{labels[0].attendingDoctor}} : <b>{{medical.attendingdoctor}}</b></label>
                  </div>
                  <div class="col-lg-4">
                    <label>{{labels[0].medicalhistory}} : <b>{{medical.medicalHistory}}</b></label>
                  </div>
                  <div class="col-lg-4">
                    <label>{{labels[0].surgeryhistory}} : <b>{{medical.surgeryHistory}}</b></label>
                  </div>
                  <div class="col-lg-4">
                    <label>{{labels[0].longtermtreatment}} : <b>{{medical.longtermTreatment}}</b></label>
                  </div>

                  <div class="col-lg-4">
                    <label>{{labels[0].dietaryissues}} : <b>{{medical.dietaryIssues}}</b></label>
                  </div>
                  <div class="col-lg-4">
                    <label>{{labels[0].doyoudrinkalcohol}} : <span *ngIf="medical.alcohol=='1'">
                        <b>Yes</b></span></label>
                  </div>
                  <div class="col-lg-4">
                    <label>{{labels[0].areyoasmoker}} : <span *ngIf="medical.smoker=='1'"> <b>Yes</b></span></label>
                  </div>
                  <div class="col-lg-4">
                    <label>{{labels[0].medicalinsurance}} : <span *ngIf="medical.medicalinsurance=='1'">
                        <b>Yes</b></span></label>
                  </div>
                  <div class="col-lg-4">
                    <label>{{labels[0].doyouecescise}} : <span *ngIf="medical.exercise=='1'"> <b>Yes</b></span></label>
                  </div>
                  <div class="col-lg-4">
                    <label>{{labels[0].height}} : <b>{{medical.height}}</b></label>
                  </div>
                  <div class="col-lg-4">
                    <label>{{labels[0].weight}} : <b>{{medical.weight}}</b></label>
                  </div>
                  <div class="col-lg-4">
                    <label>{{labels[0].bmi}} : <b>{{medical.bmi}}</b></label>
                  </div>
                  <div class="col-lg-4">
                    <label>{{labels[0].statutvaccinal}} : <b>{{medical.vaccinationStatus}}</b></label>
                  </div>
                  <div class="col-lg-4">
                    <label>{{labels[0].allergies}} : <b>{{medical.knownAllergies}}</b></label>
                  </div>
                </div>
              </div>
            </div><br><br><br><br><br><br><br>
            <div class="row">
              <div class="col-lg-8">
              </div>
              <div class="col-lg-4">
                <img src="assets/Images/sign.png" style="width: 39%;"><br>
                <!-- <label>Medical Questionare</label> -->
                <b>Dr. {{alldetails.doctorName}}</b><br>
                <label><b>{{labels[0].registratinno}} : {{alldetails.registrationNo}}</b></label>
              </div>
            </div><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
          </div>

          <div *ngIf="alldetails.sickslipcount!='0'&&medicalcertificate==1">
            <div class="row">
              <div class="col-lg-5">
                <img src="assets/Images/logo.png" style="width: 26%;">
              </div>
              <div class="col-lg-4">
                <h5><b *ngIf="languageid=='1'">Medical Certificate</b></h5>
                <h5><b *ngIf="languageid=='6'">Certificat médical</b></h5>
              </div>
            </div>
            <hr style="color:#333;background-color:#333;">
            <div>
              <div class="row">
                <div class="col-lg-5">
                  <label><b>{{labels[0].patientName}}</b> : {{alldetails.patientName}}</label><br>
                  <label><b>{{labels[0].phoneNo}}</b> : {{alldetails.mobileNumber}}</label><br>
                  <label><b>{{labels[0].address}}</b> : {{alldetails.address}}</label><br>
                  <label><b> {{labels[0].email}}</b> : {{alldetails.emailID}}</label><br>
                  <label><b> {{labels[0].nationalIDNo}}</b> : {{alldetails.nationalidno}}</label><br>
                  <label><b> {{labels[0].age}}</b> : {{alldetails.age}}</label><br>
                  <label><b> {{labels[0].dateOfBirth}}</b> : {{alldetails.dateOfBirth}}</label><br>
                  <label><b> {{labels[0].gender}}</b> : {{alldetails.gender}}</label><br>
                  <label><b> {{labels[0].appointmentNumber}}</b> : {{appointmentid}}</label><br>
                </div>
                <div class="col-lg-3">
                  <h6 *ngIf="languageid==1"><b>Appointment Date</b></h6>
                  <h6 *ngIf="languageid==6"><b>Date de rendez-vous</b></h6>
                  <span><b style="margin-left: 20px;">{{alldetails.appointmentdate}}</b></span>
                </div>
                <div class="col-lg-4">
                  <label><b>{{labels[0].doctorName}}</b> : {{alldetails.doctorName}}</label>
                  <label><b>{{labels[0].registratinno}}</b> : {{alldetails.registrationNo}}</label>
                  <label><b>{{labels[0].phoneNo}}</b> : {{alldetails.doctorMobileNo}}</label>
                  <label><b>{{labels[0].department}}</b> : {{alldetails.departmentname}}</label>
                  <label><b>{{labels[0].address}}</b> : {{alldetails.doctorAddress}}</label>
                </div>
                <br>
              </div>
            </div><br><br><br><br>
            <div>
              <div class="row" *ngFor="let sickslip of alldetails.sicksliplist">
                <div class="col-lg-12">

                  <p [innerHTML]="sickslip.description">
                  </p>

                </div><br>
              </div>
            </div><br><br><br><br><br><br>
            <div class="row">
              <div class="col-lg-8">
              </div>
              <div class="col-lg-4">
                <img src="assets/Images/sign.png" style="width: 39%;"><br>
                <!-- <label>Medical certificate provided by doctor</label> -->
                <b>{{alldetails.doctorName}}</b><br>
                <label><b>{{labels[0].registratinno}} : {{alldetails.registrationNo}}</b></label>
              </div>
            </div><br><br><br><br><br><br><br><br>
          </div>

          <div *ngIf="alldetails.referalsCount!='0'&&referals==1">
            <div class="row">
              <div class="col-lg-5">
                <img src="assets/Images/logo.png" style="width: 26%;">
              </div>
              <div class="col-lg-4">
                <h5 *ngIf="languageid=='1'"><b>Doctor Referals</b></h5>
                <h5 *ngIf="languageid=='6'"><b>Références de médecins</b></h5>
              </div>
            </div>
            <hr style="color:#333;background-color:#333;">
            <div>
              <div class="row">
                <div class="col-lg-5">
                  <label><b>{{labels[0].patientName}}</b> : {{alldetails.patientName}}</label><br>
                  <label><b>{{labels[0].phoneNo}}</b> : {{alldetails.mobileNumber}}</label><br>
                  <label><b>{{labels[0].address}}</b> : {{alldetails.address}}</label><br>
                  <label><b> {{labels[0].email}}</b> : {{alldetails.emailID}}</label><br>
                  <label><b> {{labels[0].nationalIDNo}}</b> : {{alldetails.nationalidno}}</label><br>
                  <label><b>{{labels[0].age}}</b> : {{alldetails.age}}</label><br>
                  <label><b> {{labels[0].dateOfBirth}}</b> : {{alldetails.dateOfBirth}}</label><br>
                  <label><b> {{labels[0].gender}}</b> : {{alldetails.gender}}</label><br>
                  <label><b> {{labels[0].appointmentNumber}}</b> : {{appointmentid}}</label><br>
                </div>
                <div class="col-lg-3">
                  <h6 *ngIf="languageid==1"><b>Appointment Date</b></h6>
                  <h6 *ngIf="languageid==6"><b>Date de rendez-vous</b></h6>
                  <span><b style="margin-left: 20px;">{{alldetails.appointmentdate}}</b></span>
                </div>
                <div class="col-lg-4">
                  <label><b>{{labels[0].doctorName}}</b> : {{alldetails.doctorName}}</label>
                  <label><b>{{labels[0].registratinno}}</b> : {{alldetails.registrationNo}}</label>
                  <label><b>{{labels[0].phoneNo}}</b> : {{alldetails.doctorMobileNo}}</label>
                  <label><b>{{labels[0].department}}</b> : {{alldetails.departmentname}}</label>
                  <label><b>{{labels[0].address}}</b> : {{alldetails.doctorAddress}}</label>
                </div>
                <br>
              </div>
            </div><br><br><br><br>

            <div class="row" *ngFor="let ref of alldetails.referalist">
              <div class="col-lg-12">
                <p [innerHTML]="ref.referalNotes">
                </p>

              </div><br>
            </div><br><br><br><br>

            <div class="row">
              <div class="col-lg-8">
              </div>
              <div class="col-lg-4">
                <img src="assets/Images/sign.png" style="width: 39%;"><br>
                <!-- <label>Doctor Referals provided by doctor</label> -->
                <b>Dr. {{alldetails.doctorName}}</b><br>
                <label><b>{{labels[0].registratinno}} : {{alldetails.registrationNo}}</b></label>
              </div>
            </div><br><br><br><br><br><br><br><br><br><br>
          </div>
        </div>
        <!-- <button type="button" class="btn btn-default" data-dismiss="modal">Close</button> -->
      </div>
      <div class="modal-footer" style="margin-top: -24px;">
        <button type="button" class="btn btn-default" style="background-color: #f18235;color: white;"
          data-dismiss="modal" (click)="SavePdf()">{{labels[0].sendtopatient}}</button>


        <button type="button" class="btn btn-default" style="background-color: #f18235;color: white;"
          data-dismiss="modal" (click)="DownloadPDf()">{{labels[0].download}}</button>


      </div>
    </div>
  </div>
</div>




<!-- Amount Refund -->

<div class="modal fade" id="RefundAmount" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel" *ngIf="languageid=='1'">Refund</h5>
        <h5 class="modal-title" id="exampleModalLabel" *ngIf="languageid=='6'"> Remboursement au patient</h5>

        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="container-fluid">
          <div class="row">
            <div class="col-lg-4">
              <label *ngIf="languageid=='1'">Refund Amount :</label>

              <label *ngIf="languageid=='6'">Montant :</label>
            </div>
            <div class="col-lg-6">
              <input type="text" [(ngModel)]="paidamount" disabled name="paidamount" class="form-control">
            </div>
          </div><br>
          <div class="row">
            <div class="col-lg-4">
              <label *ngIf="languageid=='1'">Refund Reason : </label>
              <label *ngIf="languageid=='6'"> Motif : </label>
            </div>
            <div class="col-lg-6">
              <textarea class="form-control" rows="4" [(ngModel)]="refundreason" name="refundreason"
                placeholder="{{labels[0].reason}}"></textarea>
            </div>
            <!-- <div class="col-lg-3">
          <select class="form-control" (change)="getfromampm($event)">
            <option value="">{{labels[0].select}}</option>
            <option value="am">am</option>
            <option value="pm">pm</option>
          </select>
        </div> -->
          </div>
          <br>
          <div class="row">
            <div class="col-lg-5">
            </div>
            <div class="col-lg-2">
              <button class="btn btn-primary" style="background-color: #f18235;color: white;" (click)="updaterefund()"
                data-dismiss="modal">{{labels[0].refund}}</button>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" *ngIf="languageid=='1'"
          style="background-color: #f18235;color: white;" data-dismiss="modal">{{labels[0].close}}</button>
        <button type="button" class="btn btn-secondary" *ngIf="languageid=='6'"
          style="background-color: #f18235;color: white;" data-dismiss="modal">Annuler </button>
      </div>
    </div>
  </div>
</div>





<!-- send email prescription -->

<div id="PrecsriptionPdfFormat" class="modal fade" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content" style="width: 900px;
      height: auto;">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body" id="content">
        <div class="container-fluid" *ngFor="let alldetails of pdfprslist">
          <div>
            <div class="row">
              <div class="col-lg-5">
                <img src="assets/Images/logo.png" style="width: 26%;">
              </div>
              <div class="col-lg-4">

                <div *ngIf="sendMailPrescriptions=='1'">
                  <h3 *ngIf="languageid=='1'">Prescription</h3>
                  <h3 *ngIf="languageid=='6'">Ordonnance</h3>
                </div>

              </div>
            </div>
            <hr style="color:#333;background-color:#333;">
            <div class="row">
              <div class="col-lg-5">
                <label><b>{{labels[0].patientName}}</b> : {{alldetails.patientName}}</label><br>
                <label><b>{{labels[0].phoneNo}}</b> : {{alldetails.mobileNumber}}</label><br>
                <label><b>{{labels[0].address}}</b> : {{alldetails.address}}</label><br>
                <label><b> Email</b> : {{alldetails.emailID}}</label><br>
                <label><b> {{labels[0].nationalIDNo}}</b> : {{alldetails.nationalidno}}</label><br>
                <label><b>Age</b> : {{alldetails.age}}</label><br>
                <label><b> {{labels[0].dateOfBirth}}</b> : {{alldetails.dateOfBirth}}</label><br>
                <label><b> {{labels[0].gender}}</b> : {{alldetails.gender}}</label><br>
                <label><b> {{labels[0].appointmentNumber}}</b> : {{appointmentid}}</label><br>
              </div>
              <div class="col-lg-3">
                <h6 *ngIf="languageid==1"><b>Appointment Date</b></h6>
                <h6 *ngIf="languageid==6"><b>Date de rendez-vous</b></h6>
                <span><b style="margin-left: 20px;">{{alldetails.appointmentdate}}</b></span>
              </div>
              <div class="col-lg-4">
                <label><b>{{labels[0].doctorName}}</b> : {{alldetails.doctorName}}</label>
                <label><b>{{labels[0].registratinno}}</b> : {{alldetails.registrationNo}}</label>
                <label><b>{{labels[0].phoneNo}}</b> : {{alldetails.doctorMobileNo}}</label>
                <label><b>{{labels[0].department}}</b> : {{alldetails.departmentname}}</label>
                <label><b>{{labels[0].address}}</b> : {{alldetails.doctorAddress}}</label>
              </div>
              <br>
            </div><br><br>
            <div class="row">
              <div *ngIf="sendMailPrescriptions=='1'">
                <div class="col-lg-12">
                  <table>
                    <thead>
                      <tr>
                        <!-- <th id="imp">{{labels[0].date}}</th> -->
                        <th id="imp">{{labels[0].drugName}} </th>
                        <th id="imp">{{labels[0].sig}} </th>
                        <th id="imp">{{labels[0].dispenseQuantity}} </th>
                        <th id="imp">{{labels[0].howmanyRefills}} </th>
                        <th id="imp">{{labels[0].noteToPharmasist}} </th>
                      </tr>
                      <tr *ngFor="let medicines of qwerty2">
                        <!-- <td style="    width: 13%;">{{medicines.date}}</td> -->
                        <td>{{medicines.MedicineName}}</td>
                        <td>{{medicines.SIG}}</td>
                        <td>{{medicines.DispenseQuantity}}</td>
                        <td>{{medicines.HowmanyRefills}}</td>
                        <td>{{medicines.NoteToPharmasist}}</td>
                      </tr>
                    </thead>
                  </table>
                </div><br>
              </div>
              <div *ngIf="sendMailPrescriptions=='2'">
                <div class="col-lg-12">
                  <table>
                    <thead>
                      <tr>

                        <th id="imp">{{labels[0].testType}} </th>
                        <th id="imp">{{labels[0].testName}} </th>
                        <th id="imp">{{labels[0].clinicalInfo}} </th>
                      </tr>
                      <tr *ngFor="let test of DiaenterArray">

                        <td>{{test.DiagnosticTestTypeName}}</td>
                        <td>{{test.TestName}}</td>
                        <td>{{test.ClinicalInfo}}</td>
                      </tr>
                    </thead>
                  </table>
                </div><br>
              </div>
            </div><br><br><br><br>
            <div class="row">
              <div class="col-lg-12">
              </div>
            </div><br><br>
            <div class="row">
              <div class="col-lg-8">
              </div>
              <div class="col-lg-4">
                <img src="assets/Images/sign.png" style="width: 39%;"><br>
                <!-- <label>Prescription provided by doctor</label><br> -->
                <b>Dr. {{alldetails.doctorName}}</b><br>
                <label><b>{{labels[0].registratinno}} : {{alldetails.registrationNo}}</b></label>
              </div>
            </div><br>
            <div class="col-lg-12">
              <p class="text-center">
                En cas d’urgence, appeler le 15<br>
                Pour toute question, appelez le service client Voiladoc : +212 522446145

              </p>
            </div>
          </div>
          <!-- soapnotes -->
        </div>
        <!-- <button type="button" class="btn btn-default" data-dismiss="modal">Close</button> -->
      </div>
      <div class="modal-footer" style="margin-top: -24px;">
        <button type="button" class="btn btn-default" style="background-color: #f18235;color: white;"
          data-dismiss="modal" id="sendprescription" (click)="SendPrescrriptionEmail()">send mail</button>

      </div>
    </div>
  </div>
</div>









<!-- reason for cancel-->


<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel" *ngIf="languageid=='1'">{{labels[0].reasonForCancel}}</h5>
        <h5 class="modal-title" id="exampleModalLabel" *ngIf="languageid=='6'">Motif du rejet (optionnel / note interne
          non destinée au patient).</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="container-fluid">
          <div class="row">
            <div class="col-lg-1">
            </div>
            <div class="col-lg-8">
              <textarea class="form-control" placeholder="{{labels[0].reason}}" [(ngModel)]="reason" rows="5"
                cols="30"></textarea>
            </div>
          </div>
          <br>
          <div class="row">
            <div class="col-lg-4">
            </div>
            <div class="col-lg-2">
              <button class="btn btn-default" style="background-color: #f18235;color: white;"
                (click)="cancelledappointment()" data-dismiss="modal">
                <label *ngIf="languageid=='1'">Cancel</label>
                <label *ngIf="languageid=='6'">Mettre à jour</label>
              </button>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" *ngIf="languageid=='1'" style="background-color: #f18235;color: white;"
          class="btn btn-default" data-dismiss="modal">{{labels[0].close}}</button>

        <button type="button" *ngIf="languageid=='6'" style="background-color: #f18235;color: white;"
          class="btn btn-default" data-dismiss="modal">Fermer</button>
      </div>
    </div>
  </div>
</div>


<!-- add prescription -->

<div class="backdrop" [ngStyle]="{ display: display }"></div>
<div class="modal" tabindex="-1" role="dialog" [ngStyle]="{ display: display }">
  <div class="modal-dialog modal-xl" role="document">
    <div class="modal-content modal-xl" style="margin-left: 114px;width: auto;">
      <p class="modal-title" style="line-height: 28px;">
      </p>
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLongTitle">{{labels[0].addPrescription}}</h5>
        <button type="button" class="close" aria-label="Close" (click)="onCloseHandled()">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body" style="height:600px;overflow-y: auto;">
        <div class="container-fluid">
          <form #medicineForm="ngForm">
            <div class="row">
              <div class="col-lg-4">
                <h6>{{labels[0].chooseFromtemplate}} </h6>
              </div>
              <div class="col-lg-6">
                <select class="form-control" (change)="GetDoctorPrecriptioTemplateID($event)">
                  <option selected="selected" value="0">{{labels[0].select}}</option>
                  <option *ngFor="let pretemp of docprtemplateslist" value="{{pretemp.id}}">{{pretemp.templateName}}
                  </option>
                </select>
              </div>
            </div>
            <br>
            <div class="row">
              <div class="col-lg-4"></div>
              <div class="col-lg-8">
                <h6>{{labels[0].fillAllDetails}}</h6>
              </div>
            </div>
            <br>
            <!-- <div class="row">
              <div class="col-lg-4">
                <label>{{labels[0].mttype}} :</label>
              </div>
              <div class="col-lg-7">
                <select class="form-control" (change)="GetMedicineID($event)" [(ngModel)]="medicineid" name="medicineid">
                  <option selected="selected" value="0">{{labels[0].select}}</option>
                  <option *ngFor="let medicine of medicinelist" value="{{medicine.id}}">{{medicine.name}}</option>
                </select>
              </div>
            </div>
            <br> -->
            <div>
              <div class="row">
                <div class="col-lg-4">
                  <label>{{labels[0].enterManuallydruname}} :</label>
                </div>
                <div class="col-lg-4">
                  <input type="radio" [(ngModel)]="manuallydrug" name="manuallydrug" [value]="1">&nbsp;
                  {{labels[0].yes}} &nbsp;&nbsp;
                  <input type="radio" [(ngModel)]="manuallydrug" name="manuallydrug" [value]="2">&nbsp;
                  {{labels[0].no}} &nbsp;&nbsp;
                </div>
              </div>
              <br>
            </div>
            <div *ngIf="languageid=='1'&&manuallydrug=='2'">
              <div class="row">
                <div class="col-lg-4">
                  <label>{{labels[0].drugName}} :</label>
                  <span class="required">*</span>
                </div>
                <div class="col-lg-6">
                  <!-- <input type="text" class="form-control" required name="medicinename" [(ngModel)]="medicinename"
                    placeholder="{{labels[0].drugName}}"> -->

                  <input type="text" [(ngModel)]="medicinename" name="medicinename" class="form-control"
                    placeholder="{{labels[0].drugName}}" (ngModelChange)="SerchDrugName(medicinename)">
                </div>
              </div>
              <br>
            </div>
            <div *ngIf="languageid=='1'&&manuallydrug=='1'">
              <div class="row">
                <div class="col-lg-4">
                  <label>{{labels[0].drugName}} :</label>
                  <span class="required">*</span>
                </div>
                <div class="col-lg-6">
                  <input type="text" class="form-control" required name="medicinename" [(ngModel)]="medicinename"
                    placeholder="{{labels[0].drugName}}">

                </div>
              </div>
              <br>
            </div>
            <div *ngIf="languageid=='6'&&manuallydrug=='2'">
              <div class=row>
                <div class="col-lg-4">
                  <label>{{labels[0].drugName}} :</label>
                  <span class="required">*</span>
                </div>
                <div class="col-lg-6">
                  <!-- <input id="typeahead-basic" type="text" class="form-control" placeholder="{{labels[0].drugName}}"
                    [(ngModel)]="medicinename" [ngModelOptions]="{standalone: true}" [ngbTypeahead]="search1"
                    (ngModelChange)="GetDrugNameID()" /> -->
                  <input type="text" [(ngModel)]="medicinename" name="medicinename" class="form-control"
                    placeholder="{{labels[0].drugName}}" (ngModelChange)="SerchDrugName(medicinename)">
                </div>
              </div><br>
            </div>
            <div class="row" *ngIf="SerachOn=='1'">
              <!-- <div class="col-lg-4">
              </div> -->
              <div class="col-lg-12" style="overflow-y:auto;height:300px">
                <table>
                  <thead>
                    <tr>
                      <th>Nom commercial </th>
                      <th>Principe actif </th>
                      <th>Dosage</th>
                      <th>Actions</th>
                    </tr>
                    <tr *ngFor="let code of drugnamelist|filter:medicinename | slice:0:100; let i=index">
                      <td (click)="GetDrugID(code.medicinename)">{{code.medicament}}</td>
                      <td (click)="GetDrugID(code.medicinename)">{{code.denomination}}</td>
                      <td (click)="GetDrugID(code.medicinename)">{{code.dosage}}</td>
                      <td>
                        <input type="checkbox" (click)="GetDrugID(code.medicinename)">
                      </td>
                    </tr>
                  </thead>
                </table>
              </div>
              <br>
            </div>


            <div *ngIf="languageid=='6'&&manuallydrug=='1'">
              <div class="row">
                <div class="col-lg-4">
                  <label>{{labels[0].drugName}} :</label>
                  <span class="required">*</span>
                </div>
                <div class="col-lg-6">
                  <input type="text" class="form-control" required name="medicinename" [(ngModel)]="medicinename"
                    placeholder="{{labels[0].drugName}}">
                </div>
              </div>
              <br>
            </div>
            <div class="row">
              <div class="col-lg-4">
                <label>{{labels[0].sig}} :</label>
                <span class="required">*</span>
              </div>
              <div class="col-lg-6">
                <input type="text" class="form-control" required name="sig" [(ngModel)]="sig"
                  placeholder="{{labels[0].sig}}">
              </div>
            </div>
            <br>
            <!-- <div class="row">
              <div class="col-lg-4">
                <label>{{labels[0].unitOfMeasure}} :</label>
              </div>
              <div class="col-lg-7">
                <input type="text" class="form-control" required name="unitofmeasure" [(ngModel)]="unitofmeasure" placeholder="{{labels[0].unitOfMeasure}}">
              </div>
            </div>
            <br>
            <div class="row">
              <div class="col-lg-4">
                <label>{{labels[0].dosagee}} :</label>
                <span class="required">*</span>
              </div>
              <div class="col-lg-7">
                <input type="text" class="form-control" required name="dosage" [(ngModel)]="dosage" placeholder="{{labels[0].dosagee}}">
              </div>
            </div>
            <br>
            <div class="row">
              <div class="col-lg-4">
                <label>{{labels[0].durationn}} :</label>
                <span class="required">*</span>
              </div>
              <div class="col-lg-7">
                <input type="text" class="form-control" required name="duration" [(ngModel)]="duration" placeholder="{{labels[0].duration}}">
              </div>
            </div>
            <br> -->

            <div class="row">
              <div class="col-lg-4">
                <label>{{labels[0].dispenseQuantityy}} :</label>
              </div>
              <div class="col-lg-6">
                <input type="text" class="form-control" name="dispensequantity" [(ngModel)]="dispensequantity"
                  placeholder="{{labels[0].dispenseQuantityy}}">
              </div>
            </div>
            <br>
            <div class="row">
              <div class="col-lg-4">
                <label>{{labels[0].howmanyRefillss}} :</label>
                <span class="required">*</span>
              </div>
              <div class="col-lg-6">
                <input type="text" class="form-control" required name="howmanyrefills" [(ngModel)]="howmanyrefills"
                  placeholder="{{labels[0].howmanyRefillss}}">
              </div>
            </div>
            <br>
            <div class="row">
              <div class="col-lg-4">
                <label>{{labels[0].substistude}} :</label>
                <span class="required">*</span>
              </div>
              <div class="col-lg-6">
                <input type="radio" [(ngModel)]="substainable" required name="substainable" [value]="1">&nbsp;
                {{labels[0].yes}} &nbsp;&nbsp;
                <input type="radio" [(ngModel)]="substainable" required name="substainable" [value]="2">&nbsp;
                {{labels[0].no}} &nbsp;&nbsp;
              </div>
            </div>
            <br>
            <div class="row">
              <div class="col-lg-4">
                <label>{{labels[0].noteToPharmasist}} :</label>
              </div>
              <div class="col-lg-6">
                <!-- <input type="text" class="form-control" name="notetopharmacist" [(ngModel)]="notetopharmacist"
                  placeholder="{{labels[0].noteToPharmasist}}"> -->
                <textarea rows="4" class="form-control" name="notetopharmacist" [(ngModel)]="notetopharmacist"
                  placeholder="{{labels[0].noteToPharmasist}}">

                  </textarea>
              </div>
            </div>
            <br>
            <!-- <div class="row">
              <div class="col-lg-4">
                <label>{{labels[0].diagnosiss}} :</label>
              </div>
              <div class="col-lg-7">
                <input type="text" class="form-control" required name="diagnosis" [(ngModel)]="diagnosis" placeholder="{{labels[0].diagnosiss}}">
              </div>
            </div>
            <br> -->

            <div class="row">
              <div class="col-lg-4">
                <label>{{labels[0].saveastemplate}} :</label>
              </div>
              <div class="col-lg-6">
                <input type="radio" [(ngModel)]="medicinetemplate" name="medicinetemplate" [value]="1">&nbsp;
                {{labels[0].yes}} &nbsp;&nbsp;
                <input type="radio" [(ngModel)]="medicinetemplate" name="medicinetemplate" [value]="2">&nbsp;
                {{labels[0].no}} &nbsp;&nbsp;
              </div>
            </div>
            <br>
            <div *ngIf="medicinetemplate=='1'">
              <div class="row">
                <div class="col-lg-4">
                  <label>{{labels[0].templateName}} :</label>
                </div>
                <div class="col-lg-6">
                  <input type="text" class="form-control" name="medicinetemplatename" [(ngModel)]="medicinetemplatename"
                    placeholder="{{labels[0].templateName}}">
                </div>
              </div>
              <br>
            </div>
            <div class="row">
              <div class="col-lg-5">
              </div>
              <div class="col-lg-2">
                <button type="button" style="background-color: #f18235;color: white;" class="btn btn-default"
                  [(disabled)]="medicineForm.form.invalid" (click)="adddetails1()">{{labels[0].add}}</button>
              </div>
              <div class="col-lg-5">
              </div>
            </div>
            <br>
            <!-- <div class="row">
              <div class="col-lg-4">
                <label>{{labels[0].followup}}</label>
              </div>
              <div class="col-lg-6">
                <input type="radio" [(ngModel)]="followupvisit" name="followupvisit" [value]="1">&nbsp;
                {{labels[0].yes}} &nbsp;&nbsp;
                <input type="radio" [(ngModel)]="followupvisit" name="followupvisit" [value]="0">&nbsp;
                {{labels[0].no}} &nbsp;&nbsp;
              </div>

            </div><br> -->
            <div class="row" *ngIf="tablecuont1=='1'">
              <div class="col-lg-12">
                <table>
                  <thead>
                    <tr>
                      <th>{{labels[0].drugName}}</th>
                      <!-- <th>{{labels[0].unitOfMeasure}}</th>
                      <th>{{labels[0].dosage}}</th> -->
                      <!-- <th>{{labels[0].duration}}</th> -->
                      <th>{{labels[0].sig}}</th>
                      <th>{{labels[0].dispenseQuantity}}</th>
                      <th>{{labels[0].howmanyRefills}}</th>
                      <th>{{labels[0].substistude}} </th>
                      <th>{{labels[0].noteToPharmasist}}</th>
                      <!-- <th>ICD Code</th> -->
                      <!-- <th>{{labels[0].diagnosis}}</th> -->
                      <th>Actions</th>
                    </tr>
                    <tr *ngFor="let medicinelist of qwerty2">
                      <td>{{medicinelist.MedicineName}}</td>
                      <!-- <td>{{medicinelist.UnitOfMeasure}}</td> -->
                      <!-- <td>{{medicinelist.Dosage}}</td> -->
                      <!-- <td>{{medicinelist.Duration}}</td> -->
                      <td>{{medicinelist.SIG}}</td>
                      <td>{{medicinelist.DispenseQuantity}}</td>
                      <td>{{medicinelist.HowmanyRefills}}</td>
                      <td>
                        <span *ngIf="medicinelist.SubstainablenotPermitted=='1'">{{labels[0].yes}}</span>
                        <span *ngIf="medicinelist.SubstainablenotPermitted=='2'"> {{labels[0].no}}</span>
                      </td>
                      <td>{{medicinelist.NoteToPharmasist}}</td>
                      <td>
                        <ng-template #tipcontent2>{{labels[0].delete}}</ng-template>
                        <a [ngbTooltip]="tipcontent2">
                          <img src="assets/Images/dell.png" style="width: 20px;margin-left: 10px;"
                            (click)="deleteMedicines(medicinelist.Sno)">
                        </a>
                      </td>

                      <!-- <td>{{medicinelist.NoteToPharmasist}}</td> -->
                      <!-- <td>{{medicinelist.ICDCode}}</td> -->
                      <!-- <td>{{medicinelist.Diagnosis}}</td> -->

                    </tr>
                  </thead>
                </table>
              </div>
            </div>
            <br>
            <!-- <div class="row">
              <div class="col-lg-4">
                <label>{{labels[0].followup}}</label>
              </div>
              <div class="col-lg-6">
                <input type="radio" [(ngModel)]="followupvisit" name="followupvisit" [value]="1">&nbsp;
                {{labels[0].yes}} &nbsp;&nbsp;
                <input type="radio" [(ngModel)]="followupvisit" name="followupvisit" [value]="0">&nbsp;
                {{labels[0].no}} &nbsp;&nbsp;
              </div>
              
            </div> -->
            <div class="row" *ngIf="tablecuont1=='1'">
              <div class="col-lg-5">
              </div>
              <div class="col-lg-2">
                <button type="button" style="background-color: #f18235;color: white;" class="btn btn-default"
                  (click)="insertdetails()" data-toggle="modal"
                  data-target="#PrecsriptionPdfFormat">{{labels[0].save}}</button>
              </div>
              <div class="col-lg-5">
              </div>
            </div>
          </form>
        </div>
      </div>

      <div class="modal-footer">
        <button type="button" style="background-color: #f18235;color: white;" class="btn btn-default"
          (click)="onCloseHandled()">
          {{labels[0].close}}
        </button>
      </div>
    </div>
  </div>
</div>



<!-- add test -->


<div class="backdrop" [ngStyle]="{ display: testdisplay }"></div>
<div class="modal" tabindex="-1" role="dialog" [ngStyle]="{ display: testdisplay }">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content modal-lg">
      <p class="modal-title" style="line-height: 28px;
          margin-left: 9px;">
      </p>
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLongTitle">{{labels[0].addADiagnosticTestt}}</h5>
        <button type="button" class="close" aria-label="Close" (click)="onclosetest()">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body" style="height:550px;width:800px;overflow-y: auto;">
        <div class="container-fluid">
          <form #diaForm="ngForm">


            <div class="row">
              <div class="col-lg-2">

              </div>
              <div class="col-lg-4">
                <input type="radio" value="1" [(ngModel)]="showothertest"
                  name="showothertest">&nbsp;{{labels[0].testdtabase}}

              </div>
              <div class="col-lg-4">

                <input type="radio" value="2" [(ngModel)]="showothertest"
                  name="showothertest">&nbsp;{{labels[0].manuallywritten}}
              </div>
            </div><br>
            <div *ngIf="showothertest==2">
              <div class="row">
                <div class="col-lg-2">
                  <label>{{labels[0].testName}} :</label>
                  <span class="required">*</span>
                </div>
                <div class="col-lg-6">
                  <input type="text" class="form-control" placeholder="Tests" [(ngModel)]="diagnostictestname"
                    name="diagnostictestname">
                </div>
              </div><br>
              <div class="row">
                <div class="col-lg-3">
                </div>
                <div class="col-lg-5">
                  <button type="button" style="background-color: #f18235;color: white;" class="btn btn-secondary"
                    (click)="adddetailstestenter()">{{labels[0].add}}</button>
                </div>
                <div class="col-lg-2">
                </div>
              </div><br>
              <div class="row" *ngIf="tablecount5=='1'">

                <div class="col-lg-12">
                  <table>
                    <thead>
                      <tr>
                        <!-- <th>{{labels[0].testType}}</th> -->
                        <th>{{labels[0].testName}}</th>
                        <th>{{labels[0].delete}}</th>
                      </tr>
                      <tr *ngFor="let diagtest of DiaenterArray">
                        <!-- <td>{{diagtest.DiagnosticTestTypeName}}</td> -->
                        <td>{{diagtest.TestName}}</td>
                        <td>
                          <ng-template #tipcontent2>{{labels[0].delete}}</ng-template>
                          <a [ngbTooltip]="tipcontent2">
                            <img src="assets/Images/dell.png" style="width: 20px;margin-left: 10px;"
                              (click)="delete(diagtest.Sno)">
                          </a>
                        </td>
                      </tr>
                    </thead>
                  </table>
                </div>
              </div>
              <br>
              <div class="row" *ngIf="tablecount5=='1'">
                <div class="col-lg-3">
                </div>
                <div class="col-lg-5">
                  <button type="button" style="background-color: #f18235;color: white;" class="btn btn-secondary"
                    (click)="insertDiagnostictest()">{{labels[0].save}}</button>
                </div>
                <div class="col-lg-2">
                </div>
              </div>
            </div>
            <div *ngIf="showothertest==1">
              <div class=row>
                <div class="col-lg-2">
                  <label>{{labels[0].testName}} :</label>
                  <span class="required">*</span>
                </div>
                <div class="col-lg-6">
                  <!-- <input id="typeahead-basic" type="text" class="form-control" placeholder="{{labels[0].drugName}}"
                    [(ngModel)]="medicinename" [ngModelOptions]="{standalone: true}" [ngbTypeahead]="search1"
                    (ngModelChange)="GetDrugNameID()" /> -->
                  <input type="text" [(ngModel)]="testsname" name="testsname" class="form-control"
                    placeholder="{{labels[0].testName}}" (ngModelChange)="SearchTestname(testsname)">
                </div>
              </div><br>
            </div>
            <div class="row" *ngIf="SerachtestOn=='1'&&showothertest==1">
              <!-- <div class="col-lg-4">
              </div> -->
              <div class="col-lg-12" style="overflow-y:auto;height:300px">
                <table>
                  <thead>
                    <tr>
                      <th>{{labels[0].testType}}</th>
                      <th>{{labels[0].testName}}</th>
                      <th>Actions</th>
                    </tr>
                    <tr *ngFor="let code of tsetssslist|filter:testsname">
                      <td>{{code.name}}</td>
                      <td>
                        <input type="text" class="form-control" [(ngModel)]="code.short" name="code.short" disabled
                          [ngModelOptions]="{standalone: true}">
                      </td>
                      <td>
                        <button (click)="adddetails(code)" class="Addbutton">{{labels[0].add}}</button>
                        <!-- <input type="checkbox" [(ngModel)]="code.checked" name="code.checked" > -->
                      </td>
                    </tr>
                  </thead>
                </table>
              </div>
              <br>
            </div><br>
            <div class="row" *ngIf="tablecount=='1'&&showothertest==1">

              <div class="col-lg-12">
                <table>
                  <thead>
                    <tr>
                      <th>{{labels[0].testType}}</th>
                      <th>{{labels[0].testName}}</th>
                      <th>{{labels[0].delete}}</th>
                    </tr>
                    <tr *ngFor="let diagtest of qwerty">
                      <td>{{diagtest.DiagnosticTestTypeName}}</td>
                      <td>{{diagtest.TestName}}</td>
                      <td>
                        <ng-template #tipcontent2>{{labels[0].delete}}</ng-template>
                        <a [ngbTooltip]="tipcontent2">
                          <img src="assets/Images/dell.png" style="width: 20px;margin-left: 10px;"
                            (click)="delete(diagtest.Sno)">
                        </a>
                      </td>
                    </tr>
                  </thead>
                </table>
              </div>
            </div>
            <br>
            <div class="row" *ngIf="SerachtestOn=='1'&&showothertest==1&&tablecount=='1'">
              <div class="col-lg-3">
              </div>
              <div class="col-lg-5">
                <button type="button" style="background-color: #f18235;color: white;" class="btn btn-secondary"
                data-toggle="modal" data-target="#SendEmailTest" (click)="insertDiagnostictestdetails()">{{labels[0].save}}</button>
              </div>
              <div class="col-lg-2">
              </div>
            </div>
            <br>
          </form>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" style="background-color: #f18235;color: white;" class="btn btn-default" id="close"
          (click)="onclosetest()">
          {{labels[0].close}}
        </button>
      </div>
    </div>
  </div>
</div>





<!--add soap -->


<div class="backdrop" [ngStyle]="{ display: soapdisplay }"></div>
<div class="modal" tabindex="-1" role="dialog" [ngStyle]="{ display: soapdisplay }">
  <div class="modal-dialog modal-xl" role="document">
    <div class="modal-content modal-xl" style="margin-left: 114px;width: auto;">
      <p class="modal-title" style="line-height: 28px;
         ">
      </p>
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLongTitle">{{labels[0].soapp}}</h5>
        <button type="button" class="close" aria-label="Close" (click)="onsopclose()">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body" style="height:600px;overflow-y: auto;">
        <div class="container-fluid">
          <form #soapForm="ngForm">
            <div class="row">
              <div class="col-lg-3">

                <h6>{{labels[0].chooseFromtemplate}}</h6>

              </div>
              <div class="col-lg-7">
                <select class="form-control" (change)="GetTemplateID($event)">
                  <option value="0">{{labels[0].select}}</option>
                  <option *ngFor="let temp of templatelist" value="{{temp.id}}">{{temp.templateName}}</option>
                </select>
              </div>
            </div>
            <br>
            <div class="row">
              <div class="col-lg-4"></div>
              <div class="col-lg-8">
                <h6>{{labels[0].fillAllDetails}}</h6>
              </div>
            </div>
            <br>
            <div class="row">
              <div class="col-lg-3">
                <label>{{labels[0].followup}}</label>
              </div>
              <div class="col-lg-7">
                <input type="radio" [(ngModel)]="followupvisit" name="followupvisit" [value]="1">&nbsp;
                {{labels[0].yes}} &nbsp;&nbsp;
                <input type="radio" [(ngModel)]="followupvisit" name="followupvisit" [value]="0">&nbsp;
                {{labels[0].no}} &nbsp;&nbsp;
              </div>
            </div><br>
            <div class="row">
              <div class="col-lg-3">
                <label>
                  {{labels[0].subjective}}
                </label>
              </div>
              <div class="col-lg-7">
                <textarea class="form-control" [(ngModel)]="subjective" name="subjective" required rows="4"
                  placeholder="{{labels[0].subjective}}" [ngModelOptions]="{standalone: true}"></textarea>
              </div>
            </div>
            <br>
            <div class="row">
              <div class="col-lg-3">
                <label>
                  {{labels[0].objective}}
                </label>
                <span style="color: red;">*</span>
              </div>
              <div class="col-lg-7">
                <textarea class="form-control" rows="4" name="objective" required [(ngModel)]="objective"
                  placeholder="{{labels[0].objective}}" [ngModelOptions]="{standalone: true}"></textarea>
              </div>
            </div>
            <br>
            <div class="row">
              <div class="col-lg-3">
                <label>
                  {{labels[0].assessment}}
                </label>
                <span style="color: red;">*</span>
              </div>
              <div class="col-lg-7">
                <textarea class="form-control" rows="4" name="assessment" required [(ngModel)]="assessment"
                  placeholder="{{labels[0].assessment}}" [ngModelOptions]="{standalone: true}"></textarea>
              </div>
            </div>
            <br>
            <div class="row">
              <div class="col-lg-3">
                <label>
                  {{labels[0].plan}}
                </label>
                <span style="color: red;">*</span>
              </div>
              <div class="col-lg-7">
                <textarea class="form-control" rows="4" name="plan" required [(ngModel)]="plan"
                  placeholder="{{labels[0].plan}}" [ngModelOptions]="{standalone: true}"></textarea>
              </div>
            </div>
            <br>
            <!-- <div class="row">
                <div class="col-lg-3">
                  <label>
                    <b>{{labels[0].diagnosisCode}}</b>
                  </label>
                
                </div>
                <div class="col-lg-7">
                  <input type="text" class="form-control" [(ngModel)]="diagnosiscode" name="diagnosiscode"
                    placeholder="{{labels[0].diagnosisCode}}" [ngModelOptions]="{standalone: true}" />
                </div>
              </div>
              <br> -->
            <div class="row">
              <div class="col-lg-3">
                <label>
                  {{labels[0].diagnposticCode}} :</label>
              </div>
              <div class="col-lg-7">
                <textarea rows="4" class="form-control" [(ngModel)]="icddesc"
                  placeholder="{{labels[0].diagnposticCode}}" name="icddesc"
                  (ngModelChange)="SearchIcrCode()"></textarea>

                <!-- <input id="typeahead-basic" type="text" class="form-control" placeholder="{{labels[0].diagnposticCode}}"
                  [(ngModel)]="icddesc" [ngModelOptions]="{standalone: true}" [ngbTypeahead]="search"
                  (ngModelChange)="getid()" /> -->
              </div>
            </div>
            <br>
            <div class="row" *ngIf="showsearchsoap=='1'">
              <!-- <div class="col-lg-1">
              </div> -->
              <div class="col-lg-12" style="overflow-y:auto;height:300px">
                <table>
                  <thead>
                    <tr>
                      <th>{{labels[0].diagnposticCode}}</th>
                      <th>Actions</th>
                    </tr>
                    <tr *ngFor="let code of icdcodelist|filter:icddesc| slice:0:100; let i=index">
                      <td (click)="GetIcrCodeID(code.id,code.description,code.icdCode)">
                        {{code.description}}</td>
                      <td>
                        <input type="checkbox" (click)="GetIcrCodeID(code.id,code.description,code.icdCode)">
                      </td>
                    </tr>
                  </thead>
                </table>
              </div>
              <br>
            </div>
            <div class="row">
              <div class="col-lg-3">
                <label>
                  {{labels[0].diagnosticDescription}} :</label>
              </div>
              <div class="col-lg-7">
                <!-- <textarea rows="4" class="form-control" [ngModelOptions]="{standalone: true}" placeholder="ICD Code"
                    name="icdcode" [(ngModel)]="icdcode"></textarea> -->
                <input type="text" class="form-control" disabled [ngModelOptions]="{standalone: true}"
                  placeholder="{{labels[0].diagnosticDescription}}" name="icdcode" [(ngModel)]="icdcode">
              </div>
            </div>
            <br>
            <div class="row">
              <div class="col-lg-3">
                <label>
                  {{labels[0].followUpPlan}}
                </label>
                <!-- <span style="color: red;">*</span> -->
              </div>
              <div class="col-lg-7">
                <input type="text" class="form-control" [ngModelOptions]="{standalone: true}" [(ngModel)]="followupplan"
                  name="followupplan" placeholder="{{labels[0].followUpPlan}}" />
              </div>
            </div>
            <br>
            <div class="row">
              <div class="col-lg-3">
                <label>
                  {{labels[0].signature}}
                </label>
                <!-- <span style="color: red;">*</span> -->
              </div>
              <div class="col-lg-7">
                <input type="text" class="form-control" [ngModelOptions]="{standalone: true}" disabled
                  [(ngModel)]="signature" name="signature" placeholder="{{labels[0].signature}}" />
              </div>
            </div>
            <br>
            <div class="row">
              <div class="col-lg-3">
                <label>
                  {{labels[0].notes}}
                </label>
              </div>
              <div class="col-lg-7">
                <textarea class="form-control" rows="4" [ngModelOptions]="{standalone: true}" name="notes"
                  [(ngModel)]="notes" placeholder="{{labels[0].notes}}"></textarea>
              </div>
            </div>
            <br>
            <div class="row">
              <div class="col-lg-3">
                <label for="" class="reglabel">Attachment :</label>
              </div>
              <div class="col-lg-7">
                <ngx-dropzone [multiple]="false" style="height: 50px;" (change)="UploadSoapAttchments($event)"
                  class="dropzone_vendorinvoice h-100">
                  <ngx-dropzone-label>{{dropzonelable}}</ngx-dropzone-label>
                </ngx-dropzone>
                <span *ngFor="let showphoto of shoprescphoto">
                  <img src="{{showphoto}}" style="height:50px;width:70px">&nbsp;
                </span>
                <span *ngIf="languageid=='1'" style="color:red">You can only upload one document per session* </span>
                <span *ngIf="languageid=='6'" style="color:red">Vous ne pouvez télécharger qu'un seul type de document à
                  la fois*
                </span>
              </div>
              <div>
              </div>
            </div>
            <br>
            <div class="row">
              <div class="col-lg-3">
                <label>
                  {{labels[0].saveastemplate}}
                </label>
              </div>
              <div class="col-lg-7">
                <input type="radio" [(ngModel)]="savetemplate" [ngModelOptions]="{standalone: true}" name="savetemplate"
                  [value]="1">&nbsp;{{labels[0].yes}} &nbsp;&nbsp;
                <input type="radio" [(ngModel)]="savetemplate" [ngModelOptions]="{standalone: true}" name="savetemplate"
                  [value]="2">&nbsp;{{labels[0].no}}
              </div>
            </div>
            <br>
            <div class="row" *ngIf="savetemplate=='1'">
              <div class="col-lg-3">
                <label>
                  {{labels[0].templateName}}
                </label>
              </div>
              <div class="col-lg-7">
                <textarea class="form-control" rows="4" [ngModelOptions]="{standalone: true}" name="templatename"
                  [(ngModel)]="templatename" placeholder="{{labels[0].templateName}}"></textarea>
              </div>
            </div>
            <br>
            <div class="row" *ngIf="misuse=='1'">
              <div class="col-lg-3">
                <label>
                  {{labels[0].misUseComments}}
                </label>
              </div>
              <div class="col-lg-7">
                <textarea class="form-control" rows="4" name="notes" [ngModelOptions]="{standalone: true}"
                  [(ngModel)]="miscomments" placeholder="{{labels[0].miscomments}}"></textarea>
              </div>
            </div>
            <br>
            <div class="row">
              <div class="col-lg-5">
              </div>
              <div class="col-lg-5">
                <button class="btn allbtns btncolor" style="background-color: #f18235;" (click)="insertsoapnotes1()"
                  data-dismiss="modal" [disabled]="soapForm.form.invalid">{{labels[0].save}}</button>
              </div>
              <div class="col-lg-2">
              </div>
            </div>
          </form>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" style="background-color: #f18235;color: white;" class="btn btn-default"
          (click)="onsopclose()">
          {{labels[0].close}}
        </button>
      </div>
    </div>
  </div>
</div>






<!-- previous test and Edit test -->


<div class="modal fade" id="exampleModalCenter1" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
  aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header modal-lg">
        <h5 class="modal-title" id="exampleModalLongTitle">{{labels[0].previousTests}}</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body" stylw="width:1100px">
        <div class="container-fluid">
          <div class="row">
            <div class="col-lg-12 tableheight">
              <table>
                <thead>
                  <tr>
                    <th id="imp">{{labels[0].appointmentNumber}}</th>
                    <th>{{labels[0].appointmentDate}}</th>
                    <th>{{labels[0].department}}</th>
                    <th>{{labels[0].doctorName}}</th>

                    <th>{{labels[0].testType}}</th>
                    <th>{{labels[0].test}}</th>
                    <!-- <th>Actions</th> -->
                  </tr>
                  <tr *ngFor="let dia of dialist">
                    <td>{{dia.appointmentID}}</td>
                    <td>{{dia.appdate}}</td>
                    <td>{{dia.departmentname}}</td>
                    <td>{{dia.doctorName}}</td>
                    <td>{{dia.name}}</td>
                    <td>{{dia.diagnosticTestName}}</td>
                    <!-- <td>
                      <ng-template #tipcontent9503>Edit</ng-template>
                      <a [ngbTooltip]="tipcontent9503" style="color:black">
                        <img src="assets/Images/edit.png" *ngIf="dia.showmyediticon=='1'" data-toggle="modal"
                          data-target="#edittest" (click)="GetDiaEditList(dia)" style="width: 18px">
                      </a>
                    </td> -->
                  </tr>
                </thead>
              </table>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" style="background-color: #f18235;color: white;" class="btn btn-default"
          data-dismiss="modal">{{labels[0].close}}</button>
      </div>
    </div>
  </div>
</div>



<!-- 
<div class="modal fade" id="edittest" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
  aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header modal-lg">
        <h5 class="modal-title" id="exampleModalLongTitle">Edit test</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body" stylw="width:1100px">
        <div class="container-fluid">
          <form #diaForm="ngForm">
            <div class="row">
              <div class="col-lg-5">
                <label>{{labels[0].testType}} :</label>
              </div>
              <div class="col-lg-7">
                <select class="form-control" (change)="GetDiagnosticTestID($event)" [(ngModel)]="testid" name="testid">
                  <option value="0" selected>{{labels[0].select}}</option>
                  <option *ngFor="let test of testslist" value={{test.id}}>{{test.name}}</option>
                </select>
              </div>
            </div>
            <br>
            <div class="row">
              <div class="col-lg-5">
                <label>{{labels[0].testName}} :</label>
              </div>
              <div class="col-lg-7">
                <select class="form-control" (change)="GetDiagnosticTestssID($event)" [(ngModel)]="testssid"
                  name="testssid">
                  <option value="0" selected>{{labels[0].select}}</option>
                  <option *ngFor="let tests of tsetssslist" value={{tests.id}}>{{tests.short}}</option>
                </select>
              </div>
            </div>
            <br>
            <div *ngIf="testssid=='59'||testssid=='60'">
              <div class="row">
                <div class="col-lg-5">
                  <label>{{labels[0].testName}} :</label>
                </div>
                <div class="col-lg-7">
                  <input type="text" class="form-control" placeholder="{{labels[0].testName}}"
                    [(ngModel)]="diagnostictestname" name="diagnostictestname">
                </div>
              </div> <br>
            </div>
            <div *ngIf="testid==2">
              <div class="row">
                <div class="col-lg-5">
                  <label>{{labels[0].clinicalInfo}} :</label>
                </div>
                <div class="col-lg-7">
                  <textarea rows="3" class="form-control" placeholder="{{labels[0].clinicalInfo}}"
                    [(ngModel)]="clinicalinfo" name="clinicalinfo"></textarea>
                </div>
              </div>
            </div><br>
            <div class="row">
              <div class="col-lg-5">
              </div>
              <div class="col-lg-2">
                <button type="button" style="background-color: #f18235;color: white;" class="btn btn-secondary"
                  (click)="updatedignostictest()" data-dismiss="modal">{{labels[0].update}}</button>
              </div>
              <div class="col-lg-5">
              </div>
            </div>
            <br>
          </form>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" style="background-color: #f18235;color: white;" class="btn btn-default"
          data-dismiss="modal">{{labels[0].close}}</button>
      </div>
    </div>
  </div>
</div> -->


<!-- Previous prescription edit -->


<div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
  aria-hidden="true">
  <div class="modal-dialog modal-xl">
    <div class="modal-content" style="width:1166px;margin-left: 61px;">
      <div class="modal-header modal-xl">
        <h5 class="modal-title" id="exampleModalLongTitle">{{labels[0].previousPrescription}}</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body" stylw="width:1100px">
        <div class="container-fluid">
          <div class="row" style="overflow: auto;">
            <div class="col-lg-12">
              <table style="font-size: 14px;">
                <tr>
                  <th *ngIf="languageid=='1'">Reference number</th>
                  <th *ngIf="languageid=='6'">Numéro de réference</th>
                  <th id="imp">{{labels[0].appointmentNumber}}</th>
                  <th>{{labels[0].date}}</th>
                  <th>{{labels[0].department}}</th>
                  <th>{{labels[0].doctorName}}</th>
                  <!-- <th>{{labels[0].medicineType}}</th> -->
                  <th>{{labels[0].drugName}}</th>
                  <!-- <th>{{labels[0].unitOfMeasure}}</th>
                  <th>{{labels[0].dosage}}</th>
                  <th>{{labels[0].duration}}</th> -->
                  <th>{{labels[0].sig}}</th>
                  <th>{{labels[0].dispenseQuantity}}</th>
                  <th>{{labels[0].substistude}} </th>
                  <th>{{labels[0].howmanyRefills}}</th>
                  <th>{{labels[0].noteToPharmasist}}</th>
                  <th *ngIf="languageid==1">Substitute Medicine Name</th>
                  <th *ngIf="languageid==6">Nom du médicament de substitution</th>
                  <th>{{labels[0].sig}}</th>
                  <th *ngIf="languageid==1">Quantity</th>
                  <th *ngIf="languageid==6">Quantité distribuée</th>
                  <!-- <th>Actions</th> -->
                </tr>
                <tr *ngFor="let presciption of prescrptionlist">
                  <td>{{presciption.referenceNumber}}</td>
                  <td>{{presciption.appointmentID}}</td>
                  <td>{{presciption.date}}</td>
                  <td>{{presciption.departmentname}}</td>
                  <td>{{presciption.doctorName}}</td>
                  <!-- <td>{{presciption.medicinetype}}</td> -->
                  <td [ngClass]="{'textstrike':presciption.substituteBit==true}">{{presciption.medicineName}}</td>
                  <!--                   
                  <td>{{presciption.unitOfMeasure}}</td>
                  <td>{{presciption.dosage}}</td> -->
                  <!-- <td>{{presciption.duration}}</td> -->
                  <td [ngClass]="{'textstrike':presciption.substituteBit==true}">{{presciption.sig}}</td>
                  <td [ngClass]="{'textstrike':presciption.substituteBit==true}">{{presciption.dispenseQuantity}}</td>
                  <td>
                    <span *ngIf="presciption.substainablenotPermitted=='1'">{{labels[0].yes}}</span>
                    <span *ngIf="presciption.substainablenotPermitted=='2'"> {{labels[0].no}}</span>
                  </td>
                  <td>{{presciption.howmanyRefills}}</td>
                  <td>{{presciption.noteToPharmasist}}</td>
                  <td [ngClass]="{'substiutecolor':presciption.substituteBit==true}">{{presciption.subMedicineName}}
                  </td>
                  <td [ngClass]="{'substiutecolor':presciption.substituteBit==true}">{{presciption.subPhysology}}</td>
                  <td [ngClass]="{'substiutecolor':presciption.substituteBit==true}">{{presciption.subQuantity}}</td>

                  <!-- <td>{{presciption.diagnosis}}</td> -->
                  <!-- <td>
                    <ng-template #tipcontent9503>Edit</ng-template>
                    <a [ngbTooltip]="tipcontent9503" style="color:black">
                      <img src="assets/Images/edit.png" *ngIf="presciption.showmyediticon=='1'" data-toggle="modal"
                        data-target="#edirprescription" (click)="GetPriviouesPrescriptionlist(presciption)"
                        style="width: 18px">
                    </a>
                  </td> -->
                </tr>
              </table>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" style="background-color: #f18235;color: white;" class="btn btn-default"
          data-dismiss="modal">{{labels[0].close}}</button>
      </div>
    </div>
  </div>
</div>



<div class="modal fade" id="edirprescription" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
  aria-hidden="true">
  <div class="modal-dialog modal-xl">
    <div class="modal-content" style="width:1000px;margin-left: 140px;">
      <div class="modal-header modal-xl">
        <h5 class="modal-title" id="exampleModalLongTitle">Edit prescription</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body" stylw="width:1100px">

        <div class="container-fluid">
          <form #medicineForm="ngForm">
            <div>
              <div class="row">
                <div class="col-lg-4">
                  <label>{{labels[0].enterManuallydruname}} :</label>
                </div>
                <div class="col-lg-4">
                  <input type="radio" [(ngModel)]="manuallydrug" name="manuallydrug" [value]="1">&nbsp;
                  {{labels[0].yes}} &nbsp;&nbsp;
                  <input type="radio" [(ngModel)]="manuallydrug" name="manuallydrug" [value]="2">&nbsp;
                  {{labels[0].no}} &nbsp;&nbsp;
                </div>
              </div>
              <br>
            </div>
            <div *ngIf="languageid=='1'&&manuallydrug=='2'">
              <div class="row">
                <div class="col-lg-4">
                  <label>{{labels[0].drugName}} :</label>
                  <span class="required">*</span>
                </div>
                <div class="col-lg-6">
                  <!-- <input type="text" class="form-control" required name="medicinename" [(ngModel)]="medicinename"
                    placeholder="{{labels[0].drugName}}"> -->

                  <input type="text" [(ngModel)]="medicinename" name="medicinename" class="form-control"
                    placeholder="{{labels[0].drugName}}" (ngModelChange)="SerchDrugName(medicinename)">
                </div>
              </div>
              <br>
            </div>
            <div *ngIf="languageid=='1'&&manuallydrug=='1'">
              <div class="row">
                <div class="col-lg-4">
                  <label>{{labels[0].drugName}} :</label>
                  <span class="required">*</span>
                </div>
                <div class="col-lg-6">
                  <input type="text" class="form-control" required name="medicinename" [(ngModel)]="medicinename"
                    placeholder="{{labels[0].drugName}}">

                </div>
              </div>
              <br>
            </div>
            <div *ngIf="languageid=='6'&&manuallydrug=='2'">
              <div class=row>
                <div class="col-lg-4">
                  <label>{{labels[0].drugName}} :</label>
                  <span class="required">*</span>
                </div>
                <div class="col-lg-6">
                  <!-- <input id="typeahead-basic" type="text" class="form-control" placeholder="{{labels[0].drugName}}"
                    [(ngModel)]="medicinename" [ngModelOptions]="{standalone: true}" [ngbTypeahead]="search1"
                    (ngModelChange)="GetDrugNameID()" /> -->
                  <input type="text" [(ngModel)]="medicinename" name="medicinename" class="form-control"
                    placeholder="{{labels[0].drugName}}" (ngModelChange)="SerchDrugName(medicinename)">
                </div>
              </div><br>
            </div>
            <div class="row" *ngIf="SerachOn=='1'">
              <!-- <div class="col-lg-4">
              </div> -->
              <div class="col-lg-12" style="overflow-y:auto;height:300px">
                <table>
                  <thead>
                    <tr>
                      <th>médicament</th>
                      <th>Dénomination </th>
                      <th>Forme & Dosage
                      </th>
                      <th>Actions</th>
                    </tr>
                    <tr *ngFor="let code of drugnamelist|filter:medicinename | slice:0:100; let i=index">
                      <td (click)="GetDrugID(code.medicinename)">{{code.medicament}}</td>
                      <td (click)="GetDrugID(code.medicinename)">{{code.denomination}}</td>
                      <td (click)="GetDrugID(code.medicinename)">{{code.dosage}}</td>
                      <td>
                        <input type="checkbox" (click)="GetDrugID(code.medicinename)">
                      </td>
                    </tr>
                  </thead>
                </table>
              </div>
              <br>
            </div>
            <div *ngIf="languageid=='6'&&manuallydrug=='1'">
              <div class="row">
                <div class="col-lg-4">
                  <label>{{labels[0].drugName}} :</label>
                  <span class="required">*</span>
                </div>
                <div class="col-lg-6">
                  <input type="text" class="form-control" required name="medicinename" [(ngModel)]="medicinename"
                    placeholder="{{labels[0].drugName}}">
                </div>
              </div>
              <br>
            </div>
            <div class="row">
              <div class="col-lg-4">
                <label>{{labels[0].sig}} :</label>
                <span class="required">*</span>
              </div>
              <div class="col-lg-6">
                <input type="text" class="form-control" required name="sig" [(ngModel)]="sig"
                  placeholder="{{labels[0].sig}}">
              </div>
            </div>
            <br>

            <div class="row">
              <div class="col-lg-4">
                <label>{{labels[0].dispenseQuantityy}} :</label>
              </div>
              <div class="col-lg-6">
                <input type="text" class="form-control" name="dispensequantity" [(ngModel)]="dispensequantity"
                  placeholder="{{labels[0].dispenseQuantityy}}">
              </div>
            </div>
            <br>
            <div class="row">
              <div class="col-lg-4">
                <label>{{labels[0].howmanyRefillss}} :</label>
                <span class="required">*</span>
              </div>
              <div class="col-lg-6">
                <input type="text" class="form-control" required name="howmanyrefills" [(ngModel)]="howmanyrefills"
                  placeholder="{{labels[0].howmanyRefillss}}">
              </div>
            </div>
            <br>
            <div class="row">
              <div class="col-lg-4">
                <label>{{labels[0].substistude}} :</label>
                <span class="required">*</span>
              </div>
              <div class="col-lg-6">
                <input type="radio" [(ngModel)]="substainable" required name="substainable" [value]="1">&nbsp;
                {{labels[0].yes}} &nbsp;&nbsp;
                <input type="radio" [(ngModel)]="substainable" required name="substainable" [value]="2">&nbsp;
                {{labels[0].no}} &nbsp;&nbsp;
              </div>
            </div>
            <br>

            <!-- <div class="row">
              <div class="col-lg-4">
                <label>{{labels[0].diagnosiss}} :</label>
              </div>
              <div class="col-lg-7">
                <input type="text" class="form-control" required name="diagnosis" [(ngModel)]="diagnosis" placeholder="{{labels[0].diagnosiss}}">
              </div>
            </div>
            <br> -->

            <div class="row">
              <div class="col-lg-4">
                <label>{{labels[0].noteToPharmasist}} :</label>
              </div>
              <div class="col-lg-6">
                <input type="text" class="form-control" name="notetopharmacist" [(ngModel)]="notetopharmacist"
                  placeholder="{{labels[0].noteToPharmasist}}">
              </div>
            </div>
            <br>
            <div class="row">
              <div class="col-lg-5">
              </div>
              <div class="col-lg-2">
                <button type="button" style="background-color: #f18235;color: white;" class="btn btn-default"
                  (click)="updateprescription()" data-dismiss="modal">{{labels[0].update}}</button>
              </div>
              <div class="col-lg-5">
              </div>
            </div>
          </form>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" style="background-color: #f18235;color: white;" class="btn btn-default"
          data-dismiss="modal">{{labels[0].close}}</button>
      </div>
    </div>
  </div>
</div>








<!-- patient uploaded photo video -->

<div class="modal fade" id="exampleModalLong2" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle"
  aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content ">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLongTitle">{{labels[0].patientUploadedPhotos}}</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="container-fluid">
          <div class="row" *ngIf="nophoto=='0'">
            <div class="col-lg-6" *ngFor="let showphoto of showimages">
              <br>
              <img src="{{showphoto.photoURL}}" style="width: 100%;" />
              <br>
            </div>
            <br>
          </div>
          <br>
          <div class="row" *ngIf="nophoto=='1'">
            <div class="col-lg-6">
              <br>
              <img src="assets/Images/noimage.jpg" style="width: 100%;" />
            </div>
            <br>
          </div>
          <br>
        </div>
      </div>
      <br>
      <div class="modal-footer">
        <button type="button" style="background-color: #f18235; color: white;"
          data-dismiss="modal">{{labels[0].close}}</button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="exampleModalLong3" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle"
  aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content ">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLongTitle">{{labels[0].patientUploadedVideo}}</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="container-fluid">
          <div class="row" *ngIf="novideo=='0'">
            <div class="col-lg-6" *ngFor="let showvedio of showvedioes">
              <br>
              <div class="video">
                <video controls id="videoPlayer" autoplay style="height:auto; width: 100%;">
                  <source src="{{showvedio.videoUrl}}" type="video/mp4" /> Browser not
                  supported
                </video>
              </div>
            </div>
            <br>
          </div>
          <br>
          <div class="row" *ngIf="novideo=='1'">
            <div class="col-lg-6">
              <br>
              <img src="assets/Images/nov.png" />
            </div>
            <br>
          </div>
          <br>
        </div>
      </div>
      <br>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" style="background-color: #f18235; color: white;"
          data-dismiss="modal">{{labels[0].close}}</button>
      </div>
    </div>
  </div>
</div>




<!-- genarate medical certificte-->

<div class="modal fade" id="exampleModalCenterSickSlip" tabindex="-1" role="dialog"
  aria-labelledby="exampleModalLongTitle" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content ">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLongTitle">{{labels[0].generateSickSlip}}</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="container-fluid">
          <br>
          <div class="row">
            <div class="col-lg-1"></div>
            <div class="col-lg-4">
              <label>
                {{labels1[0].patientname}} :
              </label>
              <span style="color: red;">*</span>
            </div>
            <div class="col-lg-5">
              <input type="text" [(ngModel)]="patientname" placeholder="{{labels1[0].patientname}}" name="patientname"
                disabled class="form-control">
              <br>
            </div>
          </div>
          <div class="row">
            <div class="col-lg-1"></div>
            <div class="col-lg-4">
              <label>
                {{labels1[0].patientNumber}} :
              </label>
              <span style="color: red;">*</span>
            </div>
            <div class="col-lg-5">
              <input type="text" [(ngModel)]="phonenumber" placeholder="{{labels1[0].patientNumber}}" name="phonenumber"
                disabled class="form-control">
              <br>
            </div>
          </div>
          <div class="row">
            <div class="col-lg-1"></div>
            <div class="col-lg-4">
              <label>
                {{labels1[0].email}} :</label>
              <span style="color: red;">*</span>
            </div>
            <div class="col-lg-5">
              <input type="text" [(ngModel)]="email" placeholder="{{labels1[0].email}}" name="email" disabled
                class="form-control">
              <br>
            </div>
          </div>
          <div class="row">
            <div class="col-lg-1"></div>
            <div class="col-lg-4">
              <label>
                {{labels1[0].from}} :
              </label>
              <span style="color: red;">*</span>
            </div>
            <div class="col-lg-5">
              <input *ngIf="languageid==1" type="text" class="form-control" placeholder="MM/DD/YYYY"
                [bsConfig]="{ showWeekNumbers:false }" name="fromdate" [bsConfig]="{ dateInputFormat: 'MM/DD/YYYY' }"
                [(ngModel)]="fromdate" bsDatepicker>
              <input *ngIf="languageid==6" type="text" class="form-control" placeholder="jj/mm/aa"
                [bsConfig]="{ showWeekNumbers:false }" name="fromdate" [bsConfig]="{ dateInputFormat: 'MM/DD/YYYY' }"
                [(ngModel)]="fromdate" bsDatepicker>
              <!-- <input type="date" [(ngModel)]="fromdate" name="fromdate" class="form-control"> -->
              <br>
            </div>
          </div>
          <div class="row">
            <div class="col-lg-1"></div>
            <div class="col-lg-4">
              <label>
                {{labels1[0].to}} :</label>
              <span style="color: red;">*</span>
            </div>
            <div class="col-lg-5">
              <input *ngIf="languageid==1" type="text" class="form-control" placeholder="MM/DD/YYYY"
                [bsConfig]="{ showWeekNumbers:false }" name="todate" [bsConfig]="{ dateInputFormat: 'MM/DD/YYYY' }"
                [(ngModel)]="todate" bsDatepicker>
              <input *ngIf="languageid==6" type="text" class="form-control" placeholder="jj/mm/aa"
                [bsConfig]="{ showWeekNumbers:false }" name="todate" [bsConfig]="{ dateInputFormat: 'MM/DD/YYYY' }"
                [(ngModel)]="todate" bsDatepicker>
              <!-- <input type="date" [(ngModel)]="todate" name="todate" class="form-control"> -->
              <br>
            </div>
          </div>
          <div class="row">
            <div class="col-lg-1"></div>
            <div class="col-lg-4">
              <label>
                {{labels1[0].leaveOfAbsence}} :
              </label>
              <span style="color: red;">*</span>
            </div>
            <div class="col-lg-2">
              <input type="radio" value="{{labels1[0].school}}" [(ngModel)]="leavefor" (change)="Getscholladate()"
                name="todate"> {{labels1[0].school}}
            </div>
            <div class="col-lg-2">
              <input type="radio" value="{{labels1[0].office}}" [(ngModel)]="leavefor" (change)="Getscholladate()"
                name="todate"> {{labels1[0].office}}
            </div>
          </div>
          <br>
          <div class="row">
            <div class="col-lg-1"></div>
            <div class="col-lg-4">
              <label>
                {{labels1[0].ailment}} :
              </label>
              <span style="color: red;">*</span>
            </div>
            <div class="col-lg-5">
              <textarea rows="4" [(ngModel)]="ailment" placeholder="{{labels1[0].ailment}}" name="ailment"
                class="form-control"></textarea>
              <!-- <input type="text" [(ngModel)]="ailment" placeholder="Ailment" name="ailment" class="form-control"><br> -->
            </div>
          </div>
          <br>
          <div class="row">
            <div class="col-lg-1"></div>
            <div class="col-lg-5">
            </div>
            <div class="col-lg-2">
              <button type="button" class="btn btncolor" style="background-color: #f18235;" data-dismiss="modal"
                data-toggle="modal" data-target="#mymedicalcertficate"
                (click)="InsertSickSlipGenarator()">{{labels1[0].generate}}</button>
            </div>
            <div class="col-lg-5">
            </div>
          </div>
          <br>
        </div>
      </div>
      <br>
      <div class="modal-footer">
        <button id="close" type="button" style="background-color: #f18235; color: white;" class="btn  btn-default"
          data-dismiss="modal">{{labels1[0].close}}</button>
      </div>
    </div>
  </div>
  <div id="qwerty" style="display: none;">
  </div>
</div>


<div id="myModal" class="modal fade" role="dialog">
  <div class="modal-dialog modal-lg">
    <div class="modal-content" style="margin-top: 65px;">
      <div class="modal-body">
        <div class="row">
          <div class="col-lg-12">
            <!-- <img src="assets/Images/logo.png" style="float: right;margin-bottom: -10%;"> -->
            <br>
          </div>
          <div class="col-lg-12" [innerHTML]="desc">

          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" style="background-color: #f18235; color: white;" class="btn btn-default"
          (click)="sendmail()" data-dismiss="modal">{{labels[0].send}}
        </button>
        <!-- <button type="button" style="background-color: #f18235; color: white;" class="btn btn-default"
          data-dismiss="modal">{{labels[0].close}}</button> -->
      </div>
    </div>
  </div>
</div>



<!-- Patient referarals -->

<div class="modal fade" id="exampleModalCenterRefferal" tabindex="-1" role="dialog"
  aria-labelledby="exampleModalLongTitle" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content " style="width: 120%;">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLongTitle">{{labels[0].refertodoctor}}</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="tab">
          <button class="tablinks" style="width: 50%;" id="defaultOpen"
            (click)="openCity($event, 'referdoctor')">{{labels[0].refersdoctor}}
          </button>
          <button class="tablinks" style="width: 50%;" (click)="openCity($event, 'previousreferels')">
            {{labels[0].previousrefererals}}</button>
          <!-- <button class="tablinks" onclick="openCity(event, 'Tokyo')">Edit Refer</button> -->
        </div>
        <div class="container-fluid" id="referdoctor" class="tabcontent" style="overflow: auto;">
          <br>
          <div class="row">
            <div class="col-lg-3">
              <label class="dname_label">{{labels[0].patintIDd}} :</label>
              <span class="required">*</span>
            </div>
            <div class="col-lg-6">
              <input type="text" placeholder="Patient ID" [ngModelOptions]="{standalone: true}" disabled
                class="form-control" [(ngModel)]="patientidd" name="patientidd">
            </div>
          </div>
          <br>
          <div class="row">
            <div class="col-lg-3">
              <label class="dname_label">{{labels[0].patientName}} :</label>
              <span class="required">*</span>
            </div>
            <div class="col-lg-6">
              <input type="text" placeholder="Patient Name" [ngModelOptions]="{standalone: true}" disabled
                class="form-control" [(ngModel)]="patientname" name="patientname">
            </div>
          </div>
          <br>
          <div class="row">
            <div class="col-lg-3">
              <label class="dname_label">{{labels[0].phoneNoo}} :</label>
              <span class="required">*</span>
            </div>
            <div class="col-lg-6">
              <input type="number" name="mobileno" [ngModelOptions]="{standalone: true}" [(ngModel)]="mobileno" disabled
                class="form-control">
            </div>
          </div>
          <br>
          <div class="row">
            <div class="col-lg-3">
              <label class="dname_label">{{labels[0].emaill}} :</label>
            </div>
            <div class="col-lg-6">
              <input type="text" class="form-control" [ngModelOptions]="{standalone: true}" disabled name="email"
                [(ngModel)]="email">
            </div>
          </div>
          <br>
          <br>
          <div class="row">
            <div class="col-lg-3">
              <label class="dname_label">{{labels[0].referTO}} :</label>
            </div>
            <div class="col-lg-8">
              <input type="radio" name="referaltypeid" [(ngModel)]="referaltypeid" value="1"
                (change)="GetReferencetypeID($event)">&nbsp; {{labels[0].internalDoctorr}} &nbsp;
              <input type="radio" name="referaltypeid" [(ngModel)]="referaltypeid" value="2"
                (change)="GetReferencetypeID($event)">&nbsp; {{labels[0].externalDoctorr}} &nbsp;
              <input type="radio" name="referaltypeid" [(ngModel)]="referaltypeid" value="3"
                (change)="GetReferencetypeID($event)">&nbsp; {{labels[0].genralref}} &nbsp;
            </div>
          </div>
          <br>
          <div *ngIf="referaltypeid=='1'">
            <div class="row">
              <div class="col-lg-12">
                <!-- <div class="row">
                  <div class="col-lg-3">
                    <label *ngIf="languageid==1" class="dname_label">Country :</label>
                    <label *ngIf="languageid==6" class="dname_label">Pays :</label>
                  </div>
                  <div class="col-lg-6">
              

                    <ng-multiselect-dropdown [placeholder]="selectlabel" [data]="countrylist" [settings]="countrydd"
                      (onSelect)="GetCountryID($event)">
                    </ng-multiselect-dropdown>
                  </div>
                </div>
                <br> -->
                <!-- 
                <div class="row">
                  <div class="col-lg-3">
                    <label class="dname_label">Province :</label>
                  </div>
                  <div class="col-lg-6">
                  
                    <ng-multiselect-dropdown [placeholder]="selectlabel" [data]="citylist" [settings]="citydd"
                      (onSelect)="GetCityID($event)">
                    </ng-multiselect-dropdown>
                  </div>
                </div>
                <br> -->
                <!-- <div class="row">
                  <div class="col-lg-3">
                    <label class="dname_label">{{labels2[0].city}} :</label>
                  </div>
                  <div class="col-lg-6">
                
                    <ng-multiselect-dropdown [placeholder]="selectlabel" [data]="arealist" [settings]="areadd"
                      (onSelect)="GetAreaID($event)">
                    </ng-multiselect-dropdown>

                  </div>
                </div>
                <br> -->
                <div class="row">
                  <div class="col-lg-3">
                    <label class="dname_label">{{labels[0].department}} :</label>
                  </div>
                  <div class="col-lg-6">
                    <select class="form-control" (change)="GetDepartmentID($event)" required [(ngModel)]="departmentid"
                      name="departmentid">
                      <option value="0" selected>{{labels[0].selectDepartment}}</option>
                      <option *ngFor="let department of departmentlist" value={{department.id}}>
                        {{department.departmentname}}
                      </option>
                    </select>
                  </div>
                </div>
                <br>
                <div class="row">
                  <div class="col-lg-3">
                    <label *ngIf="languageid==1" class="dname_label">Doctor :</label>
                    <label *ngIf="languageid==6" class="dname_label">Médecin :</label>
                    <span class="required">*</span>
                  </div>
                  <div class="col-lg-6">
                    <!-- <select class="form-control" (change)="GetDoctorID($event)">
                        <option>{{labels[0].selectDoctor}}</option>
                        <option *ngFor="let doc of referdoctorlist" value="{{doc.id}}">{{doc.doctorName}}</option>
                    </select> -->
                    <ng-multiselect-dropdown [placeholder]="selectlabel" [data]="referdoctorlist" [settings]="docdd"
                      (onSelect)="GetDoctorID($event)">
                    </ng-multiselect-dropdown>
                  </div>
                </div><br>
                <div class="row">
                  <div class="col-lg-3">
                    <label class="Email_label">SOAP Notes :</label>

                  </div>
                  <div class="col-lg-3">
                    <input type="radio" name="soap" [(ngModel)]="soap" [value]="1">&nbsp;{{labels[0].yes}} &nbsp;
                    <input type="radio" name="soap" [(ngModel)]="soap" [value]="0">&nbsp;{{labels[0].no}}
                  </div>
                </div>
              </div>
            </div>
          </div><br>


          <div *ngIf="referaltypeid=='2'">
            <div class="row">
              <div class="col-lg-3">
                <label class="dname_label">{{labels[0].doctorName}} :</label>
                <span class="required">*</span>
              </div>
              <div class="col-lg-6">
                <input type="text" class="form-control" [ngModelOptions]="{standalone: true}" [(ngModel)]="doctorname"
                  name="doctorname" placeholder="{{labels[0].doctorName}}">
              </div>
            </div>
            <br>
            <div class="row">
              <div class="col-lg-3">
                <label class="dname_label">{{labels[0].email}} :</label>
                <span class="required">*</span>
              </div>
              <div class="col-lg-6">
                <input type="text" class="form-control" [ngModelOptions]="{standalone: true}"
                  placeholder="{{labels[0].email}}" name="doctoremail" [(ngModel)]="doctoremail">
              </div>
            </div>
            <br>
            <div class="row">
              <div class="col-lg-3">
                <label class="dname_label">{{labels[0].phoneNo}} :</label>
              </div>
              <div class="col-lg-6">
                <input type="text" class="form-control" [ngModelOptions]="{standalone: true}" name="docphoneno"
                  placeholder="{{labels[0].phoneNo}}" [(ngModel)]="docphoneno">
              </div>
            </div>
            <br>
            <br>
          </div>
          <div class="row">
            <div class="col-lg-3">
              <label *ngIf="languageid==1" class="dname_label">Notes :</label>
              <label *ngIf="languageid==6" class="dname_label">Remarques :</label>
              <span class="required">*</span>
            </div>
            <div class="col-lg-8">
              <ckeditor [editor]="Editor" [(ngModel)]="referalnotes" [ngModelOptions]="{standalone: true}"
                name="referalnotes" data=""></ckeditor>
            </div>
          </div>
          <br>
          <div class="row">
            <div class="col-lg-3">
              <label *ngIf="languageid==1" class="reglabel">Upload file :</label>
              <label *ngIf="languageid==6" class="reglabel">Télécharger des fichiers :</label>
            </div>
            <div class="col-lg-6">
              <ngx-dropzone [multiple]="false" (change)="onattachmentUpload1($event)"
                class="dropzone_vendorinvoice h-100">
                <ngx-dropzone-label>{{dropzonelable}}</ngx-dropzone-label>
              </ngx-dropzone>
              <span *ngFor="let pho of shoprescphoto">
                <img src="{{pho}}" style="height:50px;width:70px">&nbsp;
              </span>
            </div>
            <div>
            </div>
          </div>
          <br>
          <div class="row">
            <div class="col-lg-5">
            </div>
            <div class="col-lg-2">
              <button type="button" text_align="center" class="btn btn-md allbtns btncolor" (click)="insertdetails1()"
                data-dismiss="modal">{{labels[0].save}}</button>
            </div>
            <div class="col-lg-5">
            </div>
          </div>
        </div>
        <div class="container-fluid" id="previousreferels" class="tabcontent">
          <div class="row">
            <div class="col-lg-12" style="overflow: auto;">
              <table>
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Date</th>
                    <th>{{ labels2[0].patientID }}</th>
                    <th>{{ labels[0].patientName }}</th>
                    <th>{{ labels2[0].mobileNumber }}</th>
                    <th>{{ labels2[0].emailID }}</th>
                    <th>{{labels[0].referredby}}</th>
                    <th>{{ labels2[0].reffredto }}</th>
                    <th>{{ labels[0].referedDoctorPhno }}</th>
                    <th>{{ labels[0].referredDoctorEmail }}</th>
                    <!-- <th>{{ labels[0].notes }}</th>
                    <th>{{ labels[0].attachments }}</th> -->
                    <th *ngIf="languageid=='1'">Letters & Attachments</th>
                    <th *ngIf="languageid=='6'">Correspondance & pièces jointes</th>
                    <th>{{ labels[0].actions }}</th>
                  </tr>
                  <tr *ngFor="let ref of previousreferalist">
                    <td>
                      <label *ngIf="ref.referalTypeID=='1'">{{labels[0].voiladocNeteork}}</label>
                      <label *ngIf="ref.referalTypeID=='2'">{{labels[0].external}}</label>
                      <label *ngIf="ref.referalTypeID=='3'">{{labels[0].genaralRef}}</label>
                    </td>
                    <td>{{ref.date}}</td>
                    <td>{{ref.patientID}}</td>
                    <td>{{ref.patientName}}</td>
                    <td>{{ref.pMobileNo}}</td>
                    <td>{{ref.pEmail}}</td>
                    <td>{{ref.referefbydoctor}}</td>
                    <td>{{ref.doctorName}}</td>
                    <td>{{ref.doctorPhNo}}</td>
                    <td>{{ref.doctorEmail}}</td>
                    <td>
                      <a>
                        <img src="assets/Images/sendrefereal.png" title="{{ labels[0].patientCondition }}"
                          data-toggle="modal" data-target="#exampleModal9500" style="height:25px;"
                          (click)="GetPatientCondition(ref)" />
                      </a>&nbsp;
                      <a>
                        <img src="assets/Images/viewfile.png" data-toggle="modal" data-target="#exampleModal545"
                          style="height:25px;" title="View" (click)="GetAppointmentID(ref)" />
                      </a>
                    </td>
                    <!-- <td>
                     
                    </td> -->
                    <td>
                      <a>
                        <img src="assets/Images/edit.png" data-toggle="modal"
                          data-target="#exampleModalCenterRefferalss" *ngIf="ref.showmyediticon =='1'" title="Edit"
                          style="height:25px;" (click)="GetReferalletter(ref)" />
                      </a>
                    </td>
                  </tr>
                </thead>
              </table>
            </div>
            <br /><br />
          </div>
        </div>
      </div>
      <br>
      <div class="modal-footer">
        <button id="close" type="button" style="background-color: #f18235; color: white;" class="btn  btn-default"
          data-dismiss="modal">{{labels1[0].close}}</button>
      </div>
    </div>
  </div>
</div>






<div class="modal fade" id="exampleModalCenterRefferalss" tabindex="-1" role="dialog"
  aria-labelledby="exampleModalLongTitle" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content ">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLongTitle">{{labels1[0].refertodoctor}}</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="container-fluid">
          <br>
          <div class="row">
            <div class="col-lg-3">
              <label class="dname_label">{{labels[0].patintIDd}}:</label>
              <span class="required">*</span>
            </div>
            <div class="col-lg-4">
              <input type="text" placeholder="Patient ID" disabled class="form-control" [(ngModel)]="patientidd"
                name="patientidd">
            </div>
          </div>
          <br>
          <div class="row">
            <div class="col-lg-3">
              <label class="dname_label">{{labels2[0].patientName}}:</label>
              <span class="required">*</span>
            </div>
            <div class="col-lg-4">
              <input type="text" placeholder="Patient Name" disabled class="form-control" [(ngModel)]="patientname"
                name="patientname">
            </div>
          </div>
          <br>
          <div class="row">
            <div class="col-lg-3">
              <label class="dname_label">{{labels[0].phoneNoo}}:</label>
              <span class="required">*</span>
            </div>
            <div class="col-lg-4">
              <input type="number" name="mobileno" [(ngModel)]="mobileno" disabled class="form-control">
            </div>
          </div>
          <br>
          <div class="row">
            <div class="col-lg-3">
              <label class="dname_label">{{labels[0].emaill}}:</label>
            </div>
            <div class="col-lg-4">
              <input type="text" class="form-control" disabled name="email" [(ngModel)]="email">
            </div>
          </div>
          <br>
          <div class="row">
            <div class="col-lg-3">
              <label class="dname_label">{{labels[0].referalNotess}} :</label>
              <span class="required">*</span>
            </div>
            <div class="col-lg-9">
              <ckeditor [editor]="Editor" [(ngModel)]="showreferelnotes" name="showreferelnotes" data=""></ckeditor>
            </div>
          </div>
          <br>
          <div class="row">
            <div class="col-lg-5">
            </div>
            <div class="col-lg-2">
              <button type="button" text_align="center" class="btn btn-block btn-md allbtns btncolor"
                (click)="UpdateRefferalLetter()" data-dismiss="modal">{{labels[0].update}}</button>
            </div>
            <div class="col-lg-5">
            </div>
          </div>

        </div>
      </div>
      <br>
      <div class="modal-footer">
        <button id="close1" type="button" style="background-color: #f18235; color: white;" class="btn  btn-default"
          data-dismiss="modal">{{labels1[0].close}}</button>
      </div>
    </div>
  </div>
  <div id="qwerty123" style="display: none;">

  </div>
</div>

<div class="modal fade" id="exampleModal9500" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content modal-lg" style="width: 130%;">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">{{ labels[0].patientCondition }}</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="container-fluid">
          <div class="row">
            <div class="col-lg-12">
              <p innerHtml="{{showreferelnotes}}"></p>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <!-- <button type="button" (click)="GetSickSlipID()" data-toggle="modal" data-target="#exampleModalCenterRefferal"
          style="background-color: #f18235; color: white;" class="btn btn-default">Edit</button> -->
        <button id="close" type="button" style="background-color: #f18235;color: white;" class="btn btn-default"
          data-dismiss="modal">{{ labels[0].close }}</button>
      </div>
    </div>
  </div>
</div>


<div class="modal fade" id="exampleModal545" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">{{ labels1[0].attachments }}</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="container-fluid">
          <div class="row">
            <div class="col-lg-6" *ngFor="let att of attachments">
              <img src="assets/Images/pdf.png" style="width: 90px;" (click)="GetPdf(att.attchments)"><br>
              <button type="button" style="background-color: #f18235;color: white;" (click)="GetPdf(att.attchments)"
                class="btn btn-default">{{ labels1[0].view }}</button> &nbsp; &nbsp;
              <button type="button" style="background-color: #f18235;color: white;" (click)="Deletefile(att.id)"
                class="btn btn-default">{{ labels[0].delete }}</button>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" style="background-color: #f18235;color: white;" class="btn btn-default"
          data-toggle="modal" data-target="#UploadFile">{{ labels[0].upload}}</button>
        <button id="closeview" type="button" style="background-color: #f18235;color: white;" class="btn btn-default"
          data-dismiss="modal">{{ labels[0].close }}</button>
      </div>
    </div>
  </div>
</div>


<div class="modal fade" id="UploadFile" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content modal-lg">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel" *ngIf="languageid=='1'">Upload</h5>
        <h5 class="modal-title" id="exampleModalLabel" *ngIf="languageid=='6'">Télécharger</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="container-fluid">
          <div class="row">
            <div class="col-lg-3">
              <label for="" class="reglabel">{{labels[0].attachments}} :</label>
            </div>
            <div class="col-lg-5">
              <ngx-dropzone [multiple]="false" (change)="onattachmentUpload15($event)"
                class="dropzone_vendorinvoice h-100">
                <ngx-dropzone-label>{{dropzonelable}}</ngx-dropzone-label>
              </ngx-dropzone>
              <span *ngFor="let photo of showattachdoc">
                <img src="{{photo}}" style="height:70px;width:50px">&nbsp;
              </span>
            </div>
            <div>
            </div>
          </div>
          <br>
        </div>
      </div>
      <div class="modal-footer" style="justify-content: center;">
        <button type="button" style="background-color: #f18235;color: white; text-align: center;"
          class="btn btn-default" (click)="InsertDoctorRefererlasAttachemenys()"
          data-dismiss="modal">{{labels[0].save}}</button>
      </div>
    </div>
  </div>
</div>


<!-- video call receipt -->



<div class="modal fade" id="Reciept" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content" style="width: 153%;
      margin-left: -160px;
  ">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">{{labels[0].receiptt}}</h5>
        <!-- <img src="assets/Images/logo.png" style="height: 33px;
          margin-left: 539px;"> -->
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body ">
        <div class="container-fluid" id="content">
          <div class="row">
            <div class="col-lg-6">
              <div>Date : {{adate}}</div>
              <div>{{labels[0].receiptNo}} : {{appointmentID}} </div>
              <div>{{labels[0].patientName}} : {{patientName}}</div>
              <div>{{labels[0].nationalIDNo}} : {{nationaidno}}</div>
              <div>{{labels[0].address}} : {{patientaddress}}</div>
            </div>
            <div class="col-lg-2">
            </div>
            <div class="col-lg-4">
              <!-- <label>Video Call Reciept</label> -->
              <div>{{doctorName}}</div>
              <div>{{labels[0].registratinno}} : {{regno}} </div>
              <div>{{hospital_ClinicName}}</div>
              <div>{{docaddres}}</div>

              <!-- <div>{{labels[0].phoneNoo}} : {{mobileNumber}}</div>

            <div>{{labels[0].patientName}} : {{patientName}}</div> -->

            </div>
          </div>
          <hr>

          <!-- <label>Slot : {{slots}}</label>
  
              <label>Name : {{patientName}}</label>
  
              <label>Phone No : {{pMobileNo}}</label>
  
              <label>Paid Amount: {{videoAmount}}</label> -->

          <div class="row">
            <div class="col-lg-4">
              Date
              <hr style="margin-top: 5px;">
            </div>
            <div class="col-lg-4">
              Description
              <hr style="margin-top: 5px;">
            </div>
            <div class="col-lg-4">
              {{labels[0].charge}}
              <hr style="margin-top: 5px;">
            </div>
          </div>
          <div class="row">
            <div class="col-lg-4">
              {{adate}}
            </div>
            <div class="col-lg-4">
              {{labels[0].vediocallreciept}}
            </div>
            <div class="col-lg-4">
              {{videoAmount}} MAD
            </div>
          </div>
          <br>
          <hr>
          <br>
          <div style="text-align: end;
              margin-top: 81px;
              margin-right: 46px;">
            <!-- <label>{{labels[0].totalCharges}} : {{videoAmount}}</label> -->
          </div>

          <div style="margin-top: -83px;">
            {{labels[0].doctorr}} : {{doctorName}}
            <!-- <img src="{{signatureURL}}" style="height: 69px;"> -->

            <label style="text-align: end;float: right;">{{labels[0].totalCharges}} : {{videoAmount}} MAD</label>
          </div>
        </div>

      </div>

      <div class="modal-footer">
        <button type="button" class="btn btn-md allbtns btncolor" data-dismiss="modal">{{labels[0].close}}</button>
        <button type="button" class="btn btn-md allbtns btncolor" (click)="SavePDF()"
          data-dismiss="modal">{{labels[0].sendEmail}}</button>
      </div>
    </div>
  </div>
</div>






<!-- Upload test and soap -->

<div class="modal fade" id="UploadPhotos" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" *ngIf="languageid=='1'" id="exampleModalLabel">Upload Prescription</h5>
        <h5 class="modal-title" *ngIf="languageid=='6'" id="exampleModalLabel">Télécharger l’ordonnance</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="row">
          <!-- <label>Upload Photo</label> -->

          <div class="col-lg-12">
            <ngx-dropzone [multiple]="false" (change)="onattachmentUpload1($event)"
              class="dropzone_vendorinvoice h-100">
              <ngx-dropzone-label>{{dropzonelable}}</ngx-dropzone-label>
            </ngx-dropzone>
            <span *ngFor="let photo of shoprescphoto">
              <img src="{{photo}}" style="height:70px;width:50px">&nbsp;
            </span>
          </div>
        </div>
        <button style="margin-top: 10px;margin-left: 173px;" type="button" class="btn btn-md allbtns btncolor"
          (click)="InsertPrescrptionPhoto()" data-dismiss="modal">{{labels[0].save}}</button>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-md allbtns btncolor" data-dismiss="modal">{{labels[0].close}}</button>
        <!-- <button type="button" class="btn btn-secondary" (click)="SendReciept()" data-dismiss="modal">Send Email</button> -->
      </div>
    </div>
  </div>
</div>










<!-- Upload prescription photo -->

<div class="modal fade" id="UploadPhotosDiagnostic" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" *ngIf="languageid=='1'" id="exampleModalLabel">Upload documents</h5>
        <h5 class="modal-title" *ngIf="languageid=='6'" id="exampleModalLabel">Télécharger des documents</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">

        <div class="row">
          <!-- <div class="col-lg-2">

          </div> -->
          <div class="col-lg-4">
            <input type="radio" value="1" [(ngModel)]="diasoaptypeid" name="diasoaptypeid">&nbsp;{{labels[0].tests}}
          </div>
          <div class="col-lg-4">
            <input type="radio" value="3" [(ngModel)]="diasoaptypeid"
              name="diasoaptypeid">&nbsp;{{labels[0].ptrescriptions}}
          </div>
          <div class="col-lg-4">
            <input type="radio" value="2" [(ngModel)]="diasoaptypeid"
              name="diasoaptypeid">&nbsp;{{labels[0].soapnotess}}
          </div>
        </div><br>

        <div class="row">
          <div class="col-lg-4">
            <input type="radio" value="4" [(ngModel)]="diasoaptypeid"
              name="diasoaptypeid">&nbsp;{{labels[0].medcalCertificate}}
          </div>
          <div class="col-lg-6">
            <input type="radio" value="5" [(ngModel)]="diasoaptypeid"
              name="diasoaptypeid">&nbsp;{{labels[0].refeletter}}
          </div>
        </div>


        <div *ngIf="diasoaptypeid=='1'||diasoaptypeid=='2'||diasoaptypeid=='3'||diasoaptypeid=='4'||diasoaptypeid=='5'">
          <div class="row">
            <!-- <label>Upload Photo</label> -->

            <div class="col-lg-12">
              <ngx-dropzone [multiple]="false" (change)="onattachmentUpload1($event)"
                class="dropzone_vendorinvoice h-100">
                <ngx-dropzone-label>{{dropzonelable}}</ngx-dropzone-label>
              </ngx-dropzone>
              <span *ngFor="let photo of shoprescphoto">
                <img src="{{photo}}" style="height:70px;width:50px">&nbsp;
              </span>
            </div>
          </div>
          <button style="margin-top: 10px;margin-left: 126px;" type="button" class="btn btn-md allbtns btncolor"
            (click)="InsertDiagnostictestAndSoap()"
            *ngIf="diasoaptypeid=='1'||diasoaptypeid=='2'||diasoaptypeid=='4'||diasoaptypeid=='5'"
            data-dismiss="modal">{{labels[0].save}}</button>

          <button style="margin-top: 10px;margin-left: 126px;" type="button" class="btn btn-md allbtns btncolor"
            (click)="InsertPrescrptionPhoto()" *ngIf="diasoaptypeid=='3'"
            data-dismiss="modal">{{labels[0].save}}</button>
        </div>

      </div>
      <div class="modal-footer">
        <span *ngIf="languageid=='1'" style="color:gray;font-size: 14px;">You can only upload one document per session*
        </span>
        <span *ngIf="languageid=='6'" style="color:gray;font-size: 14px;">Vous ne pouvez télécharger qu'un seul document
          par session*
        </span>
        <button type="button" class="btn btn-md allbtns btncolor" data-dismiss="modal">{{labels[0].close}}</button>
        <!-- <button type="button" class="btn btn-secondary" (click)="SendReciept()" data-dismiss="modal">Send Email</button> -->
      </div>
    </div>
  </div>
</div>


<!-- chat -->

<div class="chat-popup" id="myForm">
  <form class="form-container" #chatfrom="ngForm">
    <div class="container-fluid card card-hover" style="height: 550px;width:530px;">
      <br>
      <div class="row">
        <div class="col-lg-5">
          <h5>{{labels[0].chat}}</h5>
        </div>
        <div class="col-lg-5">
        </div>
        <div class="col-lg-2">
          <img src="assets/Images/can.png" (click)="GetShowOff()">
        </div>
      </div>
      <div class="row">
        <div class="col-lg-3">
          <!-- <h4>{{labels[0].chatmessagee}}</h4> -->
          <!-- <span *ngIf="istyping==true">typing .... </span> -->
        </div>
      </div>
      <!-- id="chatboxdiv" -->
      <div style="height: 500px;overflow-y: scroll;" id="chatboxdiv">
        <div *ngFor='let convo of coversationarray'>
          <div class="container" *ngIf='convo.user=="doc"'>
            <div class="row">
              <div class="col-lg-4"></div>
              <div class="col-lg-1"></div>
              <div class="col-lg-7" style="background-color:#dbdbdb;border-radius: 5px;color:black;">
                <div *ngIf="convo.msgtype=='1'">
                  <img src="{{docphoto}}" class="rounded-circle" style="width:26px;;margin-top: 5px;margin-right: 3%;
                    float: left;">
                  <p style="margin-top: 5px;">{{convo.chatmsg}}
                    <span style="float: right;;margin-top: 5px;">
                      {{convo.time}}
                    </span>
                  </p>
                </div>
                <div *ngIf="convo.msgtype=='2'">
                  <img src="{{convo.chatmsg}}" style="width: 100%;">
                </div>
              </div>
            </div>
          </div>
          <div class="container" *ngIf='convo.user=="pat"'>
            <div class="row">
              <div class="col-lg-7" style="background-color:#1dbfd2;border-radius: 5px;color:black;margin-top: 1px;">
                <div *ngIf="convo.msgtype=='1'">
                  <p style="margin-top: 5px;">
                    <img src="{{patientphoto}}" class="rounded-circle" style="width:26px;margin-top: 5px;"> &nbsp;
                    {{convo.chatmsg}}
                    <span style="float: right;;margin-top: 5px;">
                      {{convo.time}}
                    </span>
                  </p>
                </div>
                <div *ngIf="convo.msgtype=='2'">
                  <img src="{{convo.chatmsg}}" style="width: 100%;">
                </div>
              </div>
            </div>
          </div>
          <br>
        </div>
      </div>
      <hr>
      <div class="container-fluid" style="border: 1px solid #bcbcbc;  padding-top: 2%;  padding-bottom: 1.5%;">
        <div class="row">
          <div class="col-lg-9">
            <!-- <input type="text" [(ngModel)]="chatconversation" name="chatconversation" required class="form-control"
                  placeholder="{{labels[0].typemsg}}"></textarea> -->
            <input type="text" [(ngModel)]="chatconversation" name="chatconversation" required class="form-control"
              style=" border-style:none;" placeholder="{{labels[0].typeamessage}}" />
          </div>
          <div class="col-lg-3">
            <button type="submit" class="chat form-control" [disabled]="chatfrom.form.invalid"
              (click)="InsertChatDetails()">{{labels[0].send}}
              <!-- <img src="assets/Images/send.png" alt="Avatar" class="right"  style="width:50%;"> -->
            </button>
          </div>
          <!-- <div class="col-lg-1">
                <ngx-dropzone [multiple]="false" (filesAdded)="onattachmentUpload($event)" class="dropzone_vendorinvoice h-100"
                  style="height: 50px;">
                </ngx-dropzone>
              </div> -->
        </div>
      </div>
      <br>
    </div>
    <br>
  </form>
</div>



<!-- Previous soap and Edit soap -->



<div class="modal fade" id="exampleModalCenter90" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
  aria-hidden="true">
  <div class="modal-dialog modal-xl">
    <div class="modal-content" style="width:1200px;margin-left: 80px;">
      <div class="modal-header modal-xl">
        <h5 class="modal-title" *ngIf="languageid=='1'" id="exampleModalLongTitle">{{labels[0].soap}}</h5>
        <h5 class="modal-title" *ngIf="languageid=='6'" id="exampleModalLongTitle">Notes SOAP antérieures</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="container-fluid ">
          <div class="row" style="overflow: auto;height:400px;">
            <div class="col-lg-12">
              <table style="font-size: 16px;">
                <tr>
                  <th>{{labels[0].appointmentDate}}</th>
                  <th>{{labels[0].department}}</th>
                  <th>{{labels[0].doctorName}}</th>
                  <th style="width: 113px;">{{labels[0].subjective}}</th>
                  <th>{{labels[0].objective}}</th>
                  <th>{{labels[0].assessment}}</th>
                  <th>{{labels[0].plan}}</th>
                  <th>{{labels[0].diagnposticCode}}</th>
                  <th>{{labels[0].diagnosticDescription}}</th>
                  <th>{{labels[0].followUpPlan}}</th>
                  <!-- <th>{{labels[0].signature}}</th> -->
                  <th>{{labels[0].notes}} </th>
                  <!-- <th>Actions</th> -->
                </tr>
                <tr *ngFor="let soap of soaplist1">
                  <td>{{soap.appointmentdate}}</td>
                  <td>{{soap.departmentname}}</td>
                  <td>{{soap.doctorName}}</td>
                  <td>{{soap.subjective}}</td>
                  <td>{{soap.objective}}</td>
                  <td>{{soap.assessment}}</td>
                  <td>{{soap.plan}}</td>
                  <td>{{soap.icrDescription}}</td>
                  <td>{{soap.diagnosisCode}}</td>
                  <td>{{soap.followUpPlan}}</td>
                  <!-- <td>{{soap.signature}}</td> -->
                  <td>{{soap.notes}}</td>
                  <!-- <td>
                    <ng-template #tipcontent9504>Edit</ng-template>
                    <a [ngbTooltip]="tipcontent9504" style="color:black">
                      <img src="assets/Images/edit.png" *ngIf="soap.showmyediticon=='1'" data-toggle="modal"
                        data-target="#EditSoapnotes" (click)="GetEditPrevioussoap(soap)" style="width: 18px">
                    </a>

                  </td> -->
                </tr>
              </table>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" *ngIf="languageid=='1'" style="background-color: #f18235;color: white;"
          class="btn btn-default" data-dismiss="modal">{{labels[0].close}}</button>

        <button type="button" *ngIf="languageid=='6'" style="background-color: #f18235;color: white;"
          class="btn btn-default" data-dismiss="modal">Fermer </button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="EditSoapnotes" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
  aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header modal-lg">
        <h5 class="modal-title" id="exampleModalLongTitle">Edit SOAP</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="container-fluid" style="overflow-y: auto;">
          <form #soapForm="ngForm">
            <div class="row">
              <div class="col-lg-3">
                <label>
                  <b>{{labels[0].subjective}}</b>
                </label>
              </div>
              <div class="col-lg-7">
                <textarea class="form-control" [(ngModel)]="subjective" name="subjective" required rows="4"
                  placeholder="{{labels[0].subjective}}" [ngModelOptions]="{standalone: true}"></textarea>
              </div>
            </div>
            <br>
            <div class="row">
              <div class="col-lg-3">
                <label>
                  <b>{{labels[0].objective}}</b>
                </label>
                <span style="color: red;">*</span>
              </div>
              <div class="col-lg-7">
                <textarea class="form-control" rows="4" name="objective" required [(ngModel)]="objective"
                  placeholder="{{labels[0].objective}}" [ngModelOptions]="{standalone: true}"></textarea>
              </div>
            </div>
            <br>
            <div class="row">
              <div class="col-lg-3">
                <label>
                  <b>{{labels[0].assessment}}</b>
                </label>
                <span style="color: red;">*</span>
              </div>
              <div class="col-lg-7">
                <textarea class="form-control" rows="4" name="assessment" required [(ngModel)]="assessment"
                  placeholder="{{labels[0].assessment}}" [ngModelOptions]="{standalone: true}"></textarea>
              </div>
            </div>
            <br>
            <div class="row">
              <div class="col-lg-3">
                <label>
                  <b>{{labels[0].plan}}</b>
                </label>
                <span style="color: red;">*</span>
              </div>
              <div class="col-lg-7">
                <textarea class="form-control" rows="4" name="plan" required [(ngModel)]="plan"
                  placeholder="{{labels[0].plan}}" [ngModelOptions]="{standalone: true}"></textarea>
              </div>
            </div>
            <br>
            <div *ngIf="categoryid=='1'">
              <div class="row">
                <div class="col-lg-3">
                  <label>
                    <b>{{labels[0].diagnposticCode}}</b> :</label>
                </div>
                <div class="col-lg-7">
                  <textarea rows="4" class="form-control" [(ngModel)]="icddesc"
                    placeholder="{{labels[0].diagnposticCode}}" name="icddesc"
                    (ngModelChange)="SearchIcrCode()"></textarea>

                  <!-- <input id="typeahead-basic" type="text" class="form-control" placeholder="{{labels[0].diagnposticCode}}"
                  [(ngModel)]="icddesc" [ngModelOptions]="{standalone: true}" [ngbTypeahead]="search"
                  (ngModelChange)="getid()" /> -->
                </div>
              </div>
              <br>

              <div class="row" *ngIf="showsearchsoap=='1'">
                <!-- <div class="col-lg-1">
              </div> -->
                <div class="col-lg-12" style="overflow-y:auto;height:300px">
                  <table>
                    <thead>
                      <tr>
                        <th>{{labels[0].diagnposticCode}}</th>
                        <th>Actions</th>
                      </tr>
                      <tr *ngFor="let code of icdcodelist|filter:icddesc| slice:0:100; let i=index">
                        <td (click)="GetIcrCodeID(code.id,code.description,code.icdCode)">
                          {{code.description}}</td>
                        <td>
                          <input type="checkbox" (click)="GetIcrCodeID(code.id,code.description,code.icdCode)">
                        </td>
                      </tr>
                    </thead>
                  </table>
                </div>
                <br>
              </div>
              <div class="row">
                <div class="col-lg-3">
                  <label>
                    <b>{{labels[0].diagnosticDescription}}</b> :</label>
                </div>
                <div class="col-lg-7">
                  <!-- <textarea rows="4" class="form-control" [ngModelOptions]="{standalone: true}" placeholder="ICD Code"
                    name="icdcode" [(ngModel)]="icdcode"></textarea> -->
                  <input type="text" class="form-control" disabled [ngModelOptions]="{standalone: true}"
                    placeholder="{{labels[0].diagnosticDescription}}" name="icdcode" [(ngModel)]="icdcode">
                </div>
              </div>
              <br>
            </div>
            <div class="row">
              <div class="col-lg-3">
                <label>
                  <b>{{labels[0].followUpPlan}}</b>
                </label>
                <!-- <span style="color: red;">*</span> -->
              </div>
              <div class="col-lg-7">
                <input type="text" class="form-control" [ngModelOptions]="{standalone: true}" [(ngModel)]="followupplan"
                  name="followupplan" placeholder="{{labels[0].followUpPlan}}" />
              </div>
            </div>
            <br>
            <div class="row">
              <div class="col-lg-3">
                <label>
                  <b>{{labels[0].signature}}</b>
                </label>
                <!-- <span style="color: red;">*</span> -->
              </div>
              <div class="col-lg-7">
                <input type="text" class="form-control" [ngModelOptions]="{standalone: true}" disabled
                  [(ngModel)]="signature" name="signature" placeholder="{{labels[0].signature}}" />
              </div>
            </div>
            <br>
            <div class="row">
              <div class="col-lg-3">
                <label>
                  <b>{{labels[0].notes}}</b>
                </label>
              </div>
              <div class="col-lg-7">
                <textarea class="form-control" rows="4" [ngModelOptions]="{standalone: true}" name="notes"
                  [(ngModel)]="notes" placeholder="{{labels[0].notes}}"></textarea>
              </div>
            </div>
            <br>

            <div class="row">
              <div class="col-lg-5">
              </div>
              <div class="col-lg-5">
                <button class="btn allbtns btncolor" style="background-color: #f18235;" (click)="updatesoapnotes()"
                  data-dismiss="modal" [disabled]="soapForm.form.invalid">{{labels[0].update}}</button>
              </div>
              <div class="col-lg-2">
              </div>
            </div>
          </form>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" style="background-color: #f18235;color: white;" class="btn btn-default"
          data-dismiss="modal">{{labels[0].close}}</button>
      </div>
    </div>
  </div>
</div>




<!-- Previous medical certificate -->

<div class="modal fade" id="Previousmedicalcertificate" tabindex="-1" role="dialog"
  aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    <div class="modal-content" style="width:898px;margin-left: 186px;">
      <div class="modal-header modal-xl">
        <h5 class="modal-title" id="exampleModalLongTitle">{{labels[0].previousmediclcertificate}}</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="container-fluid">
          <div class="row">
            <div class="col-lg-12">
              <table>
                <tr>
                  <th>Date</th>
                  <th>{{labels[0].docname}}</th>
                  <th>{{labels[0].patientName}}</th>
                  <th>{{labels[0].patientno}}</th>
                  <th>{{labels[0].email}}</th>
                  <th>{{labels[0].medicalcertficate}}</th>
                  <!-- <th>{{labels[0].email}}</th> -->
                  <th>Actions</th>
                </tr>
                <tr *ngFor="let ss of previousmedicallist|filter:term">
                  <td>{{ss.sdate}}</td>
                  <td>{{ss.doctorName}}</td>
                  <td>{{ss.patientName}}</td>
                  <td>{{ss.mobileNumber}}</td>
                  <td>{{ss.emailID}}</td>
                  <td>
                    <button class="btn btncolor" (click)="GetMysickslip(ss)" data-toggle="modal"
                      data-target="#mymedicalcertficate">{{labels[0].view}}</button>
                  </td>
                  <td>
                    <ng-template #tipcontent95585>Edit</ng-template>
                    <a [ngbTooltip]="tipcontent95585" style="color:black">
                      <img src="assets/Images/edit.png" *ngIf="ss.showmyediticon=='1'" data-toggle="modal"
                        data-target="#EditMedicalcertificate" (click)="GetSickSlipIDForEdit(ss.patientID,ss.id)"
                        style="width: 18px"></a>
                  </td>
                </tr>
              </table>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" style="background-color: #f18235;color: white;" class="btn btn-default"
          data-dismiss="modal">{{labels[0].close}}</button>
      </div>
    </div>
  </div>
</div>

<div id="mymedicalcertficate" class="modal fade" role="dialog">
  <div class="modal-dialog modal-lg">

    <div class="modal-content">
      <div class="modal-header modal-xl card">
        <h5 class="modal-title" id="exampleModalLongTitle"></h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body" id="medicalcontent">
        <div class="row">
          <div class="col-lg-9" style="margin-top:100px">
            <p [innerHTML]="desc"></p>
          </div>
          <div class="col-lg-3">
            <label>{{doctorname}}</label><br>
            <label>{{hospital_ClinicName}}</label><br>
            <label>{{address}}</label><br>
            <label>{{labels[0].registratinno}} : {{registrationNo}}</label><br>
            <label>{{labels[0].phoneNo}} : {{docmobileno}}</label>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" *ngIf="languageid=='1'" style="background-color: #f18235; color: white;"
          class="btn btn-default" (click)="SaveMedicalCertificatePdf()">Send To Patient</button>
        <button type="button" *ngIf="languageid=='6'" style="background-color: #f18235; color: white;"
          class="btn btn-default" (click)="SaveMedicalCertificatePdf()">Envoyer au patient </button>


        <!-- <button type="button" (click)="GetSickSlipID()" data-toggle="modal" data-target="#exampleModalCenterSickSlip"
          style="background-color: #f18235; color: white;" class="btn btn-default">{{labels1[0].edit}}</button> -->
        <!-- <button id="close" type="button" style="background-color: #f18235; color: white;" class="btn btn-default"
          data-dismiss="modal">{{labels[0].close}}</button> -->
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="EditMedicalcertificate" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle"
  aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content ">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLongTitle">{{labels[0].generateSickSlip}}</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="container-fluid">
          <br>
          <div class="row">
            <div class="col-lg-1"></div>
            <div class="col-lg-3">
              <label>
                <b>{{labels1[0].patientname}}: </b>
              </label>
              <span style="color: red;">*</span>
            </div>
            <div class="col-lg-4">
              <input type="text" [(ngModel)]="patientname" placeholder="{{labels1[0].patientname}}" name="patientname"
                disabled class="form-control">
              <br>
            </div>
          </div>
          <div class="row">
            <div class="col-lg-1"></div>
            <div class="col-lg-3">
              <label>
                <b>{{labels1[0].patientNumber}} :</b>
              </label>
              <span style="color: red;">*</span>
            </div>
            <div class="col-lg-4">
              <input type="text" [(ngModel)]="phonenumber" placeholder="{{labels1[0].patientNumber}}" name="phonenumber"
                disabled class="form-control">
              <br>
            </div>
          </div>
          <div class="row">
            <div class="col-lg-1"></div>
            <div class="col-lg-3">
              <label>
                <b>{{labels1[0].email}}</b> :</label>
              <span style="color: red;">*</span>
            </div>
            <div class="col-lg-4">
              <input type="text" [(ngModel)]="email" placeholder="{{labels1[0].email}}" name="email" disabled
                class="form-control">
              <br>
            </div>
          </div>
          <div class="row">
            <div class="col-lg-1"></div>
            <div class="col-lg-3">
              <label>
                <b>{{labels1[0].from}} :</b>
              </label>
              <span style="color: red;">*</span>
            </div>
            <div class="col-lg-4">
              <input *ngIf="languageid==1" type="text" class="form-control" placeholder="MM/DD/YYYY"
                [bsConfig]="{ showWeekNumbers:false }" name="fromdate" [bsConfig]="{ dateInputFormat: 'MM/DD/YYYY' }"
                [(ngModel)]="fromdate" bsDatepicker>
              <input *ngIf="languageid==6" type="text" class="form-control" placeholder="jj/mm/aa"
                [bsConfig]="{ showWeekNumbers:false }" name="fromdate" [bsConfig]="{ dateInputFormat: 'MM/DD/YYYY' }"
                [(ngModel)]="fromdate" bsDatepicker>
              <!-- <input type="date" [(ngModel)]="fromdate" name="fromdate" class="form-control"> -->
              <br>
            </div>
          </div>
          <div class="row">
            <div class="col-lg-1"></div>
            <div class="col-lg-3">
              <label>
                <b>{{labels1[0].to}}</b> :</label>
              <span style="color: red;">*</span>
            </div>
            <div class="col-lg-4">
              <input *ngIf="languageid==1" type="text" class="form-control" placeholder="MM/DD/YYYY"
                [bsConfig]="{ showWeekNumbers:false }" name="todate" [bsConfig]="{ dateInputFormat: 'MM/DD/YYYY' }"
                [(ngModel)]="todate" bsDatepicker>
              <input *ngIf="languageid==6" type="text" class="form-control" placeholder="jj/mm/aa"
                [bsConfig]="{ showWeekNumbers:false }" name="todate" [bsConfig]="{ dateInputFormat: 'MM/DD/YYYY' }"
                [(ngModel)]="todate" bsDatepicker>
              <!-- <input type="date" [(ngModel)]="todate" name="todate" class="form-control"> -->
              <br>
            </div>
          </div>
          <div class="row">
            <div class="col-lg-1"></div>
            <div class="col-lg-3">
              <label>
                <b>{{labels1[0].leaveOfAbsence}} :</b>
              </label>
              <span style="color: red;">*</span>
            </div>
            <div class="col-lg-2">
              <input type="radio" value="{{labels1[0].school}}" [(ngModel)]="leavefor" name="leavefor">
              {{labels1[0].school}}
            </div>
            <div class="col-lg-2">
              <input type="radio" value="{{labels1[0].office}}" [(ngModel)]="leavefor" name="leavefor">
              {{labels1[0].office}}
            </div>
          </div>
          <br>
          <!-- <div class="row">
            <div class="col-lg-1"></div>
            <div class="col-lg-3">
              <label>
                <b>{{labels1[0].ailment}} :</b>
              </label>
              <span style="color: red;">*</span>
            </div>
            <div class="col-lg-4">
              <textarea rows="4" [(ngModel)]="ailment" placeholder="{{labels1[0].ailment}}" name="ailment"
                class="form-control"></textarea>
             
            </div>
          </div>
          <br> -->
          <div class="row">
            <div class="col-lg-1"></div>
            <div class="col-lg-5">
            </div>
            <div class="col-lg-2">
              <button type="button" class="btn btncolor" style="background-color: #f18235;" data-dismiss="modal"
                (click)="UpdateSickSlip()">{{labels[0].update}}</button>
            </div>
            <div class="col-lg-5">
            </div>
          </div>
          <br>
        </div>
      </div>
      <br>
      <div class="modal-footer">
        <button id="close1" type="button" style="background-color: #f18235; color: white;" class="btn  btn-default"
          data-dismiss="modal">{{labels1[0].close}}</button>
      </div>
    </div>
  </div>
</div>




<!-- insurancedetails -->

<div class="modal fade" id="Insurancedetails" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
  aria-hidden="true">
  <div class="modal-dialog modal-xl">
    <div class="modal-content" style="width:898px;margin-left: 186px;">
      <div class="modal-header modal-xl">
        <h5 class="modal-title" id="exampleModalLongTitle">{{labels[0].insurencedetails}}</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="container-fluid">
          <div class="row" style="overflow: auto;">
            <div class="col-lg-12">
              <table style="font-size: 14px;">
                <tr>
                  <th>{{labels1[0].insurancePhoto}}</th>
                  <th>{{labels1[0].insuranceName}}</th>
                  <th>{{labels1[0].insuranceNo}}</th>
                  <!-- <th>{{labels1[0].description}} </th> -->
                <tr *ngFor="let insurence of insurancedetails">
                  <td>
                    <img src="{{insurence.photoURL}}" *ngIf="insurence.pdfstatus=='0'" style="width: 50px;height: 50px;"
                      data-toggle="modal" data-target="#insurancephoto" (click)="GetInsurencephoto(insurence.photoURL)">

                    <img src="assets/Images/pdf.png" *ngIf="insurence.pdfstatus=='1'" style="width: 50px;height: 50px;"
                      (click)="GetPdf(insurence.photoURL)">
                  </td>
                  <td>{{insurence.insuranceName}}</td>
                  <td>{{insurence.insuranceNumber}}</td>
                  <!-- <td>{{insurence.description}}</td> -->

                </tr>
              </table>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" style="background-color: #f18235;color: white;" class="btn btn-default"
          data-dismiss="modal">{{labels[0].close}}</button>
      </div>
    </div>
  </div>
</div>




<div class="modal fade" id="insurancephoto" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle"
  aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content ">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLongTitle">{{labels1[0].insurancePhoto}}</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="container-fluid">
          <div class="row">
            <div class="col-lg-12">
              <br>
              <img src="{{insurencephoto}}" style="    width: 100%;" />
              <br>
            </div>
            <br>
          </div>
          <br>
          <br>
        </div>
      </div>
      <br>
      <div class="modal-footer">
        <button type="button" style="background-color: #f18235; color: white;"
          data-dismiss="modal">{{labels[0].close}}</button>
      </div>
    </div>
  </div>
</div>

<!-- Medicalquestioners -->

<div class="modal fade" id="exampleModalLong78" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
  aria-hidden="true">
  <div class="modal-dialog modal-xl">
    <div class="modal-content" style="width:1000px;margin-left: 140px;">
      <div class="modal-header modal-xl">
        <h5 class="modal-title" id="exampleModalLongTitle">{{labels[0].viewdetils}}</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body" stylw="width:1100px">
        <div class="container-fluid">
          <div class="row" style="overflow: auto;">
            <div class="col-lg-12">
              <table style="font-size: 14px;">
                <tr>
                  <th>{{labels[0].nationalidentityno}}</th>
                  <th> {{labels[0].height}}</th>
                  <th>{{labels[0].weight}}</th>
                  <th>{{labels[0].bmi}} </th>
                  <th>{{labels[0].medicalhistory}} </th>
                  <th>{{labels[0].surgeryhistory}} </th>
                  <th>{{labels[0].longtermtreatment}} </th>
                  <th>{{labels[0].statutvaccinal}} </th>
                  <th>{{labels[0].dietaryissues}} </th>
                  <th>{{labels[0].doyoudrinkalcohol}} </th>
                  <th>{{labels[0].areyoasmoker}}</th>
                  <th>{{labels[0].doyouecescise}}</th>
                  <th>{{labels[0].medicalinsurance}}</th>
                  <th>Allergies</th>
                </tr>
                <tr *ngFor="let view of viewdetaillist">
                  <td>{{view.nationalidno}}</td>
                  <td>{{view.height}}</td>
                  <td>{{view.weight}}</td>
                  <td>{{view.bmi}}</td>
                  <td>{{view.medicalHistory}}</td>
                  <td>{{view.surgeryHistory}}</td>
                  <td>{{view.longtermTreatment}}</td>
                  <td>
                    <!-- {{view.vaccinationStatus}} -->

                    <div class="txtorng">
                      <!-- <span placement="right" ngbTooltip="{{view.firstVaccine}},{{view.secondVaccine}}" role="button"
                        data-toggle="tooltip"> -->
                      <img src="assets/Images/vaccination.png" style="width: 25px;" data-toggle="modal"
                        data-target="#vaccination" (click)="getvaccinatindetails()">
                      <!-- </span> -->
                    </div>
                  </td>
                  <td>{{view.dietaryIssues}}</td>
                  <td>
                    <p *ngIf="view.alcohol=='1'" style="margin-top: 14px;">{{labels[0].yes}}</p>
                    <p *ngIf="view.alcohol=='0'" style="margin-top: 14px;"></p>
                  </td>
                  <td>
                    <p *ngIf="view.smoker=='1'" style="margin-top: 14px;">{{labels[0].yes}}</p>
                    <p *ngIf="view.smoker=='0'" style="margin-top: 14px;"></p>
                  </td>
                  <td>
                    <p *ngIf="view.exercise=='1'" style="margin-top: 14px;">{{labels[0].yes}}</p>
                    <p *ngIf="view.exercise=='0'" style="margin-top: 14px;"></p>
                  </td>
                  <td>
                    <p *ngIf="view.medicalinsurance=='1'" style="margin-top: 14px;">{{labels[0].yes}}</p>
                    <p *ngIf="view.medicalinsurance=='0'" style="margin-top: 14px;"></p>
                  </td>
                  <td>
                    <!-- {{view.knownAllergies}} -->
                    <img src="assets/Images/allergy.png" style="width: 17px;" data-toggle="modal"
                      data-target="#Allergies" (click)="GetAllerges(view.knownAllergies)">
                  </td>
                </tr>
              </table>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" style="background-color: #f18235;color: white;" class="btn btn-default"
          data-dismiss="modal">{{labels[0].close}}</button>
      </div>
    </div>
  </div>
</div>




<div class="modal fade" id="Allergies" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
  aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document" style="margin-left: 787px;">
    <div class="modal-content modal-lg">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLongTitle">{{labels[0].modifieAllergies}}</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="container-fluid">
          <div class="row">
            <div class="col-lg-12">
              <table>
                <thead>
                  <tr>
                    <th>Allergies</th>
                    <th>Actions</th>
                  </tr>
                  <tr *ngFor="let allergilist of myarray">
                    <td>{{allergilist.Showallergies}}</td>
                    <td>
                      <ng-template #tipcontent2>{{labels[0].delete}}</ng-template>
                      <a [ngbTooltip]="tipcontent2">
                        <img src="assets/Images/dell.png" (click)="deletealergeies(allergilist.Snoo)"
                          style="width: 20px;margin-left: 10px;">
                      </a>
                    </td>
                  </tr>
                </thead>
              </table>
            </div>
          </div>
          <br>
          <div class="row">
            <div class="col-lg-3">
              <label>{{labels[0].allergies}}</label>
            </div>
            <div class="col-lg-8">
              <input type="text" class="form-control" placeholder="{{labels[0].allergies}}" [(ngModel)]="addallergies"
                name="addallergies">

              <!-- <ngx-tags-input class="form-control input-xl" style="height: 100px;" [(ngModel)]="allergies"
                name="allergies"></ngx-tags-input> -->
            </div>
          </div><br>
          <div class="row">
            <div class="col-lg-5">
            </div>
            <div class="col-lg-2">
              <button type="button" class="btn btn-primary" style="background-color: #f18235;color: white;"
                (click)="updatedetsils()">{{labels[0].save}}</button>
            </div>
            <div class="col-lg-5">
            </div>
          </div>

        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" style="background-color: #f18235;color: white;"
          data-dismiss="modal">{{labels[0].close}}</button>

      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="vaccination" tabindex="-1" role="dialog" aria-labelledby="vaccination" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">{{labels[0].vaccineeditts}}</h5>

        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="container-fluid">
          <div class="row">
            <div class="col-lg-12">
              <table>
                <tr>
                  <th>{{labels[0].vaccinename}}</th>
                  <th>Date</th>
                </tr>
                <tr *ngFor="let vaccine of vaccinationlist">
                  <td>{{vaccine.vaccinationName}}</td>
                  <td>{{vaccine.vaccinationDate}}</td>
                </tr>
              </table>
            </div>
          </div><br>

          <div class="row">
            <div class="col-lg-4">
              <label>{{labels[0].vaccinename}} :</label>
            </div>
            <div class="col-lg-5">
              <input type="text" class="form-control" placeholder="{{labels[0].vaccinename}}" [(ngModel)]="firstvaccine"
                name="firstvaccine">
            </div>

          </div><br>
          <div class="row">
            <div class="col-lg-4">
              <label>Date :</label>
            </div>
            <div class="col-lg-5">
              <input *ngIf="languageid==1" type="text" class="form-control" placeholder="MM/DD/YYYY"
                [bsConfig]="{ showWeekNumbers:false }" name="firstvaccinedate"
                [bsConfig]="{ dateInputFormat: 'MM/DD/YYYY' }" [(ngModel)]="firstvaccinedate" bsDatepicker>
              <input *ngIf="languageid==6" type="text" class="form-control" placeholder="jj/mm/aa"
                [bsConfig]="{ showWeekNumbers:false }" name="firstvaccinedate"
                [bsConfig]="{ dateInputFormat: 'MM/DD/YYYY' }" [(ngModel)]="firstvaccinedate" bsDatepicker>
            </div>

          </div><br>
          <div class="row">
            <div class="col-lg-5">

            </div>
            <div class="col-lg-2">
              <button class="btn btn-secondary" style="background-color: #f18235;color: white;"
                (click)="vaccinationStatus()" data-dismiss="modal">{{labels[0].savevaccine}}</button>
            </div>

          </div>

          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" style="background-color: #f18235;color: white;"
              data-dismiss="modal">{{labels[0].close}}</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>



<div class="modal fade" id="Vitaldetals" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
  aria-hidden="true" style="float: right;">
  <div class="modal-dialog modal-xl" style="float: right;">
    <div class="modal-content" style="width:751px;margin-left: 140px;">
      <div class="modal-header modal-xl">
        <h5 class="modal-title" id="exampleModalLongTitle">{{labels[0].vitalDetals}}</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body" stylw="width:1100px">
        <div class="container-fluid">
          <div class="row">
            <div class="col-lg-3">
              <label>BPM : </label>
            </div>
            <div class="col-lg-4">
              {{bpm}}
            </div>
          </div>
          <div class="row">
            <div class="col-lg-3">
              <label>CPM : </label>
            </div>
            <div class="col-lg-4">
              {{cpm}}
            </div>
          </div>
          <div class="row">
            <div class="col-lg-3">
              <label>{{labels[0].oxygen}} : </label>
            </div>
            <div class="col-lg-4">
              {{oxygen}}
            </div>
          </div>
          <div class="row">
            <div class="col-lg-3">
              <label>{{labels[0].stress}} : </label>
            </div>
            <div class="col-lg-4">
              {{stress}}
            </div>
          </div>
          <div class="row">
            <div class="col-lg-3">
              <label>{{labels[0].bloodpressure}} : </label>
            </div>
            <div class="col-lg-4">
              {{bloodpressure}}
            </div>
          </div>
          <div class="row">
            <div class="col-lg-5">
            </div>
            <div class="col-lg-3">
              <!-- <img src="assets/Images/arrowleft.jpg"> -->
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" *ngIf="languageid=='1'" style="background-color: #f18235;color: white;"
          class="btn btn-default" data-dismiss="modal">{{labels[0].close}}</button>

        <button type="button" *ngIf="languageid=='6'" style="background-color: #f18235;color: white;"
          class="btn btn-default" data-dismiss="modal">Fermer </button>

      </div>
    </div>
  </div>
</div>



<!-- early call -->

<div class="modal fade" id="exampleealycall" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenter15"
  aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel" *ngIf="languageid=='1'">{{labels[0].earlyCall}}</h5>
        <h5 class="modal-title" id="exampleModalLabel" *ngIf="languageid=='6'">Message à destination du patient.
          Modifier si necessaire. </h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="container-fluid">
          <div class="row">
            <div class="col-lg-1">
            </div>
            <div class="col-lg-10">
              <textarea class="form-control" [(ngModel)]="earlycallnotes" name="earlycallnotes" rows="5"
                cols="30"></textarea>
            </div>
          </div><br>
          <div class="row">
            <div class="col-lg-5">
            </div>
            <div class="col-lg-2">
              <button type="button" style="background-color: #f18235;color: white;" class="btn btn-default"
                data-dismiss="modal" (click)="InsertPatientEarlyCall()">{{labels[0].send}}</button>
            </div>
            <div class="col-lg-5">
            </div><br>

          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" style="background-color: #f18235;color: white;"
            data-dismiss="modal">{{labels[0].close}}</button>
        </div>
      </div>
    </div>
  </div>


  <!-- 
  vaccination -->