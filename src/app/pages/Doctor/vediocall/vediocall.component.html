<div class="container-fluid">
  <div class="row">
    <div class="col-lg-6">
      <!-- <p>Doctor Video</p> -->
      <!-- <br><br> -->
      <h6 *ngIf="languageid=='1'" style="margin-top:6px">Patient Video <span style="margin-left: 550px;"
          id="demo"></span> </h6>
      <h6 *ngIf="languageid=='6'" style="margin-top:6px">Vid√©o du patient<span style="margin-left: 550px;"
          id="demo"></span> </h6>
      <!-- <h6   id="demo"></h6> -->
      <div class="row">
        <div *ngIf="session">
          <div class="col-lg-6">
            <app-subscriber *ngFor="let stream of streams" [stream]="stream" [session]="session" id="subscibre">
            </app-subscriber><br>
          </div>
          <div class="col-lg-6">
            <app-publisher [session]="session" id="publishme" style="display: block;"></app-publisher>
          </div>
        </div>
      </div><br>
      <!-- <div class="row">
        <div class="col-lg-2">
          <input type="button" style="color: white;" class="btn btn-default" id="stoprecoring" value="{{endsession}}"
            (click)="stoparchive()" />
        </div>
      </div> -->
      <div class="row">
        <div class="col-lg-12" style="top:73%;position: fixed; width: 49%;">
          <table class="table table-bordered" style="background-color: white;">
            <tr>
              <th style="  background-color: #322b6b;text-align: left;color: white;border:2px solid;border:2px solid">
                Patient</th>
              <th style="  background-color: #322b6b;text-align: left;color: white;border:2px solid;border:2px solid">
                {{labels[0].ongoingtreatment}}</th>
            </tr>
            <tr>
              <td class="tabletdstyles">{{labels[0].patientNamess}} : {{patientname}} </td>
              <td class="tabletdstyles">{{labels[0].drugName}} : {{showdrugname}} </td>
            </tr>
            <tr>
              <td class="tabletdstyles">Age : {{age}}</td>
              <td class="tabletdstyles">{{labels[0].dosage}} : {{showdosage}}</td>
            </tr>
            <tr>
              <td class="tabletdstyles">
                <!-- {{labels[0].allergies}} : -->
                <div class="row">
                  <div class="col-lg-9">
                    {{labels[0].allergies}} : {{showallergies}}
                  </div>
                  <div class="col-lg-3">
                    <img src="assets/Images/edit.png" style="height:20px;" data-toggle="modal"
                      data-target="#exampleModalCenter" (click)="GetAllerges()" />
                  </div>
                </div>
                <!-- <div class="row">
                  <div class="col-lg-10">
                    <ngx-tags-input class="form-control input-xl" style="height: 40px; font-size: large;"
                      [(ngModel)]="allergies" name="allergies"></ngx-tags-input>
                  </div>
                  <div class="col-lg-2">
                    <img src="assets/Images/edit.png" style="height:20px;" data-toggle="modal"
                      data-target="#exampleModalCenter" />
                  </div>
                </div> -->
              </td>
              <td class="tabletdstyles">{{labels[0].frequency}} : {{showfrequency}} </td>
            </tr>
          </table>
        </div>
      </div>
      <br>
    </div>
    <div class="col-lg-4">
      <div class="row card card-hover">
        <table class="table table-bordered " style="overflow-y: auto;">
          <tr>
            <th style="background-color: #322b6b;text-align: left;">Patient</th>
            <th style="background-color: #322b6b;text-align: left;">{{labels[0].medicalEvaluation}}</th>
          </tr>
          <tr>
            <td class="tabletdstyles">
              {{labels[0].appointmentNumber}} : {{appointmentno}}
            </td>
            <td class="tabletdstyles">
              {{labels[0].attendingDoctor}} : {{attendingdoctor}}
            </td>
          </tr>
          <tr>
            <td class="tabletdstyles">
              <!-- {{labels[0].weight}} : <b>{{wight}}</b> -->
              {{labels[0].nationalidentityno}} : {{nationalidentityno}}
            </td>
            <td class="tabletdstyles">
              {{labels[0].medicalhistory}} : {{medicalhistory}}

            </td>
          </tr>
          <tr>
            <td class="tabletdstyles">

              {{labels[0].phoneNo}} : {{mobileno}}
            </td>
            <td class="tabletdstyles">
              {{labels[0].surgeryhistory}} : {{surgeryHistory}}

            </td>
          </tr>
          <tr>
            <td class="tabletdstyles">
              {{labels[0].email}} : {{email}}
            </td>
            <td class="tabletdstyles">
              {{labels[0].longtermtreatment}} : {{longtermtreatment}}

            </td>
          </tr>
          <tr>
            <td class="tabletdstyles">
              {{labels[0].dateOfBirth}} : {{dateofbirth}}
            </td>
            <td class="tabletdstyles">

              {{labels[0].statutvaccinal}} : {{vaccinationStatus}}

              <img src="assets/Images/vaccination.png" style="width: 25px;" data-toggle="modal"
              data-target="#vaccination" (click)="getvaccinatindetails()">
            </td>
          </tr>
          <tr>
            <td class="tabletdstyles">
              {{labels[0].gender}} : {{gender}}

            </td>
            <td class="tabletdstyles">


              {{labels[0].dietaryissues}} : {{dieteryissues}}
            </td>
          </tr>
          <tr>
            <td class="tabletdstyles">
              <!-- {{labels[0].medicalinsurance}} :

            <b> <label *ngIf="medicalinsurence=='1'"> {{labels[0].yes}}</label>
              <label *ngIf="medicalinsurence=='0'"> {{labels[0].yes}}</label>
            </b> -->
              {{labels[0].height}} : {{height}}
            </td>
            <td class="tabletdstyles">

              {{labels[0].doyoudrinkalcohol}} :
              <span *ngIf="alcohol=='1'"> {{labels[0].yes}}</span>
              <!-- <span *ngIf="alcohol=='0'"> {{labels[0].yes}}</span> -->

            </td>
          </tr>
          <tr>
            <td class="tabletdstyles">

              {{labels[0].weight}} : {{wight}}
            </td>

            <td class="tabletdstyles">
              {{labels[0].areyoasmoker}} :
              <span *ngIf="Smoker=='1'"> {{labels[0].yes}}</span>
              <!-- <span *ngIf="Smoker=='0'"> {{labels[0].yes}}</span> -->
            </td>
          </tr>
          <tr>
            <td class="tabletdstyles">
              {{labels[0].bmi}} : {{bmi}}

            </td>
            <td class="tabletdstyles">


              {{labels[0].doyouecescise}} :

              <span *ngIf="exercise=='1'"> {{labels[0].yes}}</span>
              <!-- <span *ngIf="exercise=='0'"> {{labels[0].yes}}</span> -->

            </td>
          </tr>
          <tr>
            <td class="tabletdstyles">
              {{labels[0].medicalinsurance}} :

              <span *ngIf="medicalinsurence=='1'"> {{labels[0].yes}}</span>
              <!-- <span *ngIf="medicalinsurence=='0'"> {{labels[0].yes}}</span> -->

              <!-- {{labels[0].appointmentNumber}}: <b>{{appointmentno}}</b> -->
            </td>
            <td class="tabletdstyles" *ngIf="genderid=='2'">
              {{labels[0].pragnency}} :

              <span *ngIf="ispatientpragnent=='1'"> {{labels[0].yes}}</span>&nbsp;&nbsp;

              {{labels[0].breastfedding}} :
              <span *ngIf="breastFeeding=='1'"> {{labels[0].yes}}</span>
            </td>
          </tr>
          <!-- <tr *ngIf="genderid=='2'">
            <td style="text-align: left;border:2px solid">
           
            </td>
            <td class="tabletdstyles">
            
           
            </td>
          </tr> -->
          <tr>
            <th style="background-color: #322b6b;text-align: left;" colspan="2">{{labels[0].photosPatientvideos}}</th>
          </tr>
          <tr>
            <td colspan="2" style="text-align: left;">
              Photos : <img src="assets/Images/imgicon.png" *ngIf="photoexist=='1'" title="{{labels[0].images}}"
                (click)="GetImagesID()" data-toggle="modal" data-target="#exampleModalLong2"
                style="margin: 2%;width: 20px;" />&nbsp;
              <span style="font-family: Helvetica Neue, Helvetica,Arial,sans-serif;"
                *ngIf="photoexist=='0'">{{labels[0].nophotos}}</span>&nbsp; <br>

              {{labels[0].videoss}} : <img src="assets/Images/showvedio.png" *ngIf="videoexist=='1'" data-toggle="modal"
                data-target="#exampleModalLong3" title="{{labels[0].video}}" style="margin: 2%;width: 20px;"
                (click)="GetVedioID()" />&nbsp;
                <span style="font-family: Helvetica Neue, Helvetica,Arial,sans-serif;"
                *ngIf="videoexist=='0'">{{labels[0].novideoes}}</span><br>

                {{labels[0].pdf}} : <img src="assets/Images/pdf.png" *ngIf="pdfexist=='1'" 
                title="{{labels[0].video}}" style="margin: 2%;width: 20px;"
                (click)="GetReportsssss()" />&nbsp;
                <span style="font-family: Helvetica Neue, Helvetica,Arial,sans-serif;"
                *ngIf="pdfexist=='0'">{{labels[0].nopdf}}</span><br>
          
            </td>
          </tr>
        </table>
      </div>
    </div>
    <div class="col-lg-2" style="margin-top: -14px;">
      <br>
      <div class="col-lg-12 ">
        <button class="buttonclass" id="buttonclssid" (mouseenter)="mouseEnter($event)"
          (mouseleave)="mouseleave($event)" data-toggle="modal" data-target="#Addprescription"
          (click)="showModal()">{{labels[0].addPrescription}}</button>
      </div>
      <div class="col-lg-12 ">
        <button class="buttonclass" (mouseenter)="mouseEnter($event)" (mouseleave)="mouseleave($event)"
          data-toggle="modal" data-target="#addsoap">{{labels[0].addSoapNotes}}</button>
      </div>
      <div class="col-lg-12 ">
        <button class="buttonclass" (mouseenter)="mouseEnter($event)" (mouseleave)="mouseleave($event)"
          data-toggle="modal" data-target="#addtest">{{labels[0].addTest}}</button>
      </div>
      <div class="col-lg-12">
        <button class="buttonclass" (mouseenter)="mouseEnter($event)" (mouseleave)="mouseleave($event)"
          data-toggle="modal" data-target="#previousprescription">{{labels[0].previousprescri}}</button>
      </div>
      <div class="col-lg-12">
        <button class="buttonclass" (mouseenter)="mouseEnter($event)" (mouseleave)="mouseleave($event)"
          data-toggle="modal" data-target="#previoussoap">{{labels[0].previoussoap}}</button>
      </div>
      <div class="col-lg-12">
        <button class="buttonclass" (mouseenter)="mouseEnter($event)" (mouseleave)="mouseleave($event)"
          data-toggle="modal" data-target="#previoustest">
          {{labels[0].previoustest}}</button>
      </div>
      <!-- <div class="col-lg-12">
        <button class="buttonclass" (mouseenter)="mouseEnter($event)" (mouseleave)="mouseleave($event)"
          data-toggle="modal" data-target="#Vitaldetals">
          {{labels[0].vitalDetals}}</button>
      </div> -->

      <div class="col-lg-12">
        <button class="buttonclass" (mouseenter)="mouseEnter($event)" (mouseleave)="mouseleave($event)"
          data-toggle="modal" data-target="#chat" (click)="GetChatShowID()">
          {{labels[0].chat}}</button>
      </div>


      <div class="col-lg-12">
        <ng-template #tipcontent948>whats app</ng-template>
        <a [ngbTooltip]="tipcontent948">
          <img src=" assets/Images/whatapp.png" style="height:47px;  margin-left: 62px;" (click)="GetDocWhatsaPP()" />
        </a>
      </div>
      <div class="col-lg-12">
        <input type="button" class="buttonclass"
          style="background-color: #f18235;border-radius: 14px;color:white;height: 51px;width: 100%; margin: 4px 2px;"
          class="btn btn-default" id="stoprecoring" value="{{endsession}}" (click)="stoparchive()" />

        <input type="button" class="buttonclass"
          style="background-color: #f18235;border-radius: 14px;color:white;height: 51px;width: 100%; margin: 4px 2px;"
          class="btn btn-default" *ngIf="showclosebutton=='0'" value="{{endsession}}" (click)="closewindow()" />
      </div>
      <!-- <div class="col-lg-12">
        <button class="buttonclass" style="background-color: #000080;" data-toggle="modal"
          data-target="#currentmedications"> {{labels[0].currentMedications}}</button>
      </div> -->

    </div>

  </div>
</div><br>


<div class="modal hide fade" id="Addprescription" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
  aria-hidden="true" style="float: right;">
  <div class="modal-dialog modal-xl" style="float: right;">
    <div class="modal-content" style="width:756px;">
      <div class="modal-header modal-xl">
        <h5 class="modal-title" id="exampleModalLongTitle">{{labels[0].addPrescription}}</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body" stylw="width:1100px">
        <div class="container-fluid">
          <form #medicineForm="ngForm">
            <div class="row">
              <div class="col-lg-6">
                <select class="form-control" (change)="GetDoctorPrecriptioTemplateID($event)">
                  <option selected="selected" value="0">{{labels[0].chooseFromtemplate}}</option>
                  <option *ngFor="let pretemp of docprtemplateslist" value="{{pretemp.id}}">{{pretemp.templateName}}
                  </option>
                </select>
              </div>
              <div class="col-g-4">
              </div>
              <div class="col-lg-2">
                <!-- <img src="assets/Images/arrowtop.jpg" style="margin-left: 291px;
                width: 44%;"> -->
              </div>
            </div>
            <br>
            <div>
              <div class="row">
                <div class="col-lg-6">
                  <label>{{labels[0].enterManuallydruname}} :</label>
                </div>
                <div class="col-lg-6">
                  <input type="radio" [(ngModel)]="manuallydrug" name="manuallydrug" [value]="1">&nbsp;
                  {{labels[0].yes}} &nbsp;&nbsp;
                  <input type="radio" [(ngModel)]="manuallydrug" name="manuallydrug" [value]="2">&nbsp;
                  {{labels[0].no}} &nbsp;&nbsp;
                </div>
              </div>
              <br>
            </div>
            <div class="row">
              <div class="col-lg-6" *ngIf="languageid=='1'&&manuallydrug=='1'">
                <input type="text" class="form-control" required name="medicinename" [(ngModel)]="medicinename"
                  placeholder="{{labels[0].drugName}}">
              </div>
              <div class="col-lg-6" *ngIf="languageid=='1'&&manuallydrug=='2'">
                <input type="text" [(ngModel)]="medicinename" name="medicinename" class="form-control"
                  placeholder="{{labels[0].drugName}}" (ngModelChange)="SerchDrugName(medicinename)">
              </div>
              <div class="col-lg-6" *ngIf="languageid=='6'&&manuallydrug=='1'">
                <input type="text" class="form-control" required name="medicinename" [(ngModel)]="medicinename"
                  placeholder="{{labels[0].drugName}}">
              </div>

              <div class="col-lg-6" *ngIf="languageid=='6'&&manuallydrug=='2'">
                <input type="text" [(ngModel)]="medicinename" name="medicinename" class="form-control"
                  placeholder="{{labels[0].drugName}}" (ngModelChange)="SerchDrugName(medicinename)">
              </div><br>
            </div>
            <div class="row" *ngIf="SerachOn=='1'">
              <div class="col-lg-7">
                <table style="overflow-y:auto;">
                  <thead>
                    <tr>
                      <th>Actions</th>
                      <th>Nom commercial </th>
                      <th>Principe actif</th>
                      <th>Dosage</th>
                    </tr>
                    <tr *ngFor="let code of drugnamelist|filter:medicinename| slice:0:100; let i=index">
                      <td>
                        <input type="checkbox" (click)="GetDrugID(code.medicinename)">
                      </td>
                      <td (click)="GetDrugID(code.medicinename)">{{code.medicament}}</td>
                      <td (click)="GetDrugID(code.medicinename)">{{code.denomination}}</td>
                      <td (click)="GetDrugID(code.medicinename)">{{code.dosage}}</td>
                    </tr>
                  </thead>
                </table>
              </div>
              <br>
            </div>
            <br>

            <div class="row">
              <div class="col-lg-6">
                <input type="text" class="form-control" required name="sig" [(ngModel)]="sig"
                  placeholder="{{labels[0].sig}}">
              </div>
              <div class="col-lg-6">
                <input type="text" class="form-control" name="dispensequantity" [(ngModel)]="dispensequantity"
                  placeholder="{{labels[0].dispenseQuantity}}">
              </div>
            </div><br>

            <div class="row">
              <div class="col-lg-6">
                <input type="text" class="form-control" required name="howmanyrefills" [(ngModel)]="howmanyrefills"
                  placeholder="{{labels[0].howmanyRefills}}">
              </div>
              <!-- <div class="col-lg-6">
                  <input type="text" class="form-control" required name="unitofmeasure" [(ngModel)]="unitofmeasure"
                    placeholder="{{labels[0].unitOfMeasure}}">
                </div> -->
            </div><br>
            <!-- <div class="row">
                <div class="col-lg-6">
                  <input type="text" class="form-control" required name="dosage" [(ngModel)]="dosage"
                    placeholder="{{labels[0].dosage}}">
                </div>
                <div class="col-lg-6">
                  <input type="text" class="form-control" required name="sig" [(ngModel)]="sig"
                    placeholder="{{labels[0].duration}}">
                </div>
              </div><br> -->

            <div class="row">
              <!-- <div class="col-lg-6">
                  <input type="text" class="form-control" required name="diagnosis" [(ngModel)]="diagnosis"
                    placeholder="{{labels[0].diagnosis}}">
                </div> -->

            </div><br>
            <div class="row">
              <div class="col-lg-4">
                {{labels[0].substistude}}
              </div>
              <div class="col-lg-7">
                <input type="radio" [(ngModel)]="substainable" required name="substainable" [value]="1">&nbsp;
                {{labels[0].yes}} &nbsp;&nbsp;
                <input type="radio" [(ngModel)]="substainable" required name="substainable" [value]="2">&nbsp;
                {{labels[0].no}} &nbsp;&nbsp;
              </div>
            </div>
            <br>
            <div class="row">
              <div class="col-lg-4">
                {{labels[0].saveastemplate}}
              </div>
              <div class="col-lg-7">
                <input type="radio" [(ngModel)]="medicinetemplate" name="medicinetemplate" [value]="1">&nbsp;
                {{labels[0].yes}}
                &nbsp;&nbsp;
                <input type="radio" [(ngModel)]="medicinetemplate" name="medicinetemplate" [value]="2">&nbsp;
                {{labels[0].no}}
                &nbsp;&nbsp;
              </div>
            </div>
            <br>
            <div class="row" *ngIf="medicinetemplate=='1'">
              <div class="col-lg-6">
                <input type="text" class="form-control" name="medicinetemplatename" [(ngModel)]="medicinetemplatename"
                  placeholder="{{labels[0].templateName}}">
              </div>
            </div>
            <br>
            <div class="row">
              <div class="col-lg-6">

                <textarea class="form-control" name="notetopharmacist" [(ngModel)]="notetopharmacist"
                  placeholder="{{labels[0].noteToPharmasist}}" rows="4"></textarea>

                <!-- <input type="text" class="form-control" name="notetopharmacist" [(ngModel)]="notetopharmacist"
                  placeholder="{{labels[0].noteToPharmasist}}"> -->
              </div>
            </div><br>
            <div class="row">
              <div class="col-lg-5">
              </div>
              <div class="col-lg-2">
                <button type="button" style="color: white;" class="btn btn-default"
                  [(disabled)]="medicineForm.form.invalid" (click)="adddetails1()">{{labels[0].add}}</button>
              </div>
              <div class="col-lg-5">
              </div>
            </div>
            <br>
            <div class="row" *ngIf="tablecuont1=='1'" style="overflow: auto;">
              <div class="col-lg-12">
                <table>
                  <thead>
                    <tr>
                      <th>{{labels[0].drugName}}</th>
                      <!-- <th>{{labels[0].unitOfMeasure}}</th> -->
                      <!-- <th>{{labels[0].dosage}}</th>
                        <th>{{labels[0].duration}}</th> -->
                      <th>{{labels[0].sig}}</th>
                      <th>{{labels[0].dispenseQuantity}}</th>
                      <th>{{labels[0].noteToPharmasist}}</th>
                      <!-- <th>{{labels[0].diagnosis}}</th> -->
                      <th>{{labels[0].substistude}} </th>
                      <th>{{labels[0].howmanyRefills}}</th>
                      <th>Actions</th>
                    </tr>
                    <tr *ngFor="let medicinelist of qwerty2">
                      <td>{{medicinelist.MedicineName}}</td>
                      <!-- <td>{{medicinelist.UnitOfMeasure}}</td>
                        <td>{{medicinelist.Dosage}}</td>
                        <td>{{medicinelist.Duration}}</td> -->
                      <td>{{medicinelist.SIG}}</td>

                      <td>{{medicinelist.DispenseQuantity}}</td>
                      <td>{{medicinelist.NoteToPharmasist}}</td>
                      <td>
                        <span *ngIf="medicinelist.SubstainablenotPermitted=='1'">{{labels[0].yes}}</span>
                        <span *ngIf="medicinelist.SubstainablenotPermitted=='2'"> {{labels[0].no}}</span>
                      </td>
                      <!-- <td>{{medicinelist.Diagnosis}}</td> -->
                      <td>{{medicinelist.HowmanyRefills}}</td>
                      <td>
                        <ng-template #tipcontent2>{{labels[0].delete}}</ng-template>
                        <a [ngbTooltip]="tipcontent2">
                          <img src="assets/Images/dell.png" style="width: 20px;margin-left: 10px;"
                            (click)="deleteMedicines(medicinelist.Sno)">
                        </a>
                      </td>
                    </tr>
                  </thead>
                </table>
              </div>
            </div><br>
            <div class="row" *ngIf="tablecuont1=='1'">
              <div class="col-lg-5">
              </div>
              <div class="col-lg-5">
                <button type="button" style="color: white;" class="btn btn-default" data-dismiss="modal"
                  (click)="InsertPrescription()">{{labels[0].save}}</button>
              </div>
              <div class="col-lg-2">
              </div>
            </div>
          </form>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" style="background-color: #f18235;color: white;" class="btn btn-default"
          data-dismiss="modal">{{labels[0].close}}</button>
      </div>
    </div>
  </div>
</div>


<div class="modal fade" id="addtest" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
  aria-hidden="true" style="float: right;">
  <div class="modal-dialog modal-lg" style="float: right;">
    <div class="modal-content" style="width:717px;margin-left: 83px;">
      <div class="modal-header modal-lg">
        <h5 class="modal-title" id="exampleModalLongTitle">{{labels[0].addTest}}</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body" stylw="width:1100px">
        <div class="container-fluid">
          <!-- <form #diaForm="ngForm">

            <div class="row">
              <div class="col-lg-5">
                <h6>{{labels[0].chooseFromtemplate}} </h6>
              </div>
              <div class="col-lg-7">
                <select class="form-control" (change)="GetTestTemplateID($event)">
                  <option selected="selected" value="0">{{labels[0].select}}</option>
                  <option *ngFor="let testtemp of TestTemplateList" value="{{testtemp.id}}">{{testtemp.templateName}}
                  </option>
                </select>
              </div>
            </div>
            <br>
            <div class="row">
              <div class="col-lg-4"></div>
              <div class="col-lg-8">
                <h6>{{labels[0].fillAllDetails}}</h6>
              </div>
            </div>
            <br>

            <div class="row">
              <div class="col-lg-5">
                <label>{{labels[0].testType}} :</label>
              </div>
              <div class="col-lg-7">
                <select class="form-control" (change)="GetDiagnosticTestID($event)" [(ngModel)]="testid" name="testid">
                  <option value="0" selected>{{labels[0].select}}</option>
                  <option *ngFor="let test of testslist" value={{test.id}}>{{test.name}}</option>
                </select>
              </div>
            </div>
            <br>
            <div class="row">
              <div class="col-lg-5">
                <label>{{labels[0].testName}} :</label>
              </div>
              <div class="col-lg-7">
                <select class="form-control" (change)="GetDiagnosticTestssID($event)" [(ngModel)]="testssid"
                  name="testssid">
                  <option value="0" selected>{{labels[0].select}}</option>
                  <option *ngFor="let tests of tsetssslist" value={{tests.id}}>{{tests.short}}</option>
                </select>
              </div>
            </div>
            <br>
            <div *ngIf="testssid=='59'||testssid=='60'">
              <div class="row">
                <div class="col-lg-5">
                  <label>{{labels[0].testName}} :</label>
                </div>
                <div class="col-lg-7">
                  <input type="text" class="form-control" placeholder="{{labels[0].testName}}"
                    [(ngModel)]="diagnostictestname" name="diagnostictestname">
                </div>
              </div> <br>
            </div>
           
            <div>
              <div class="row">
                <div class="col-lg-5">
                  <label>{{labels[0].clinicalInfo}} :</label>
                </div>
                <div class="col-lg-7">
                  <textarea rows="3" class="form-control" placeholder="{{labels[0].clinicalInfo}}"
                    [(ngModel)]="clinicalinfo" name="clinicalinfo"></textarea>
                </div>
              </div>
            </div><br>
            <div class="row">
              <div class="col-lg-5">
                <label>{{labels[0].saveastemplate}} :</label>
              </div>
              <div class="col-lg-6">
                <input type="radio" [(ngModel)]="testtemplate" name="testtemplate" [value]="1">&nbsp;
                {{labels[0].yes}} &nbsp;&nbsp;
                <input type="radio" [(ngModel)]="testtemplate" name="testtemplate" [value]="2">&nbsp;
                {{labels[0].no}} &nbsp;&nbsp;
              </div>
            </div>
            <br>
            <div *ngIf="testtemplate=='1'">
              <div class="row">
                <div class="col-lg-5">
                  <label>{{labels[0].templateName}} :</label>
                </div>
                <div class="col-lg-7">
                  <input type="text" class="form-control" name="testtemplatename" [(ngModel)]="testtemplatename"
                    placeholder="{{labels[0].templateName}}">
                </div>
              </div>
              <br>
            </div>
            <div class="row">
              <div class="col-lg-5">
              </div>
              <div class="col-lg-2">
                <button type="button" style="background-color: #f18235;color: white;" class="btn btn-default"
                  (click)="adddetails()">{{labels[0].add}}</button>
              </div>
              <div class="col-lg-5">
              </div>
            </div>
            <br>

            <div class="row">
              <div class="col-lg-12">
                <table *ngIf="tablecount=='1'">
                  <thead>
                    <tr>
                      <th>{{labels[0].testType}}</th>
                      <th>{{labels[0].testName}}</th>
                      <th>Actions</th>
                    </tr>
                  </thead>
                  <tr *ngFor="let diagtest of qwerty">
                    <td>{{diagtest.DiagnosticTestTypeName}}</td>
                    <td>{{diagtest.TestName}}</td>
                    <td>
                      <ng-template #tipcontent2>Delete</ng-template>
                      <a [ngbTooltip]="tipcontent2">
                        <img src="assets/Images/dell.png" style="width: 20px;margin-left: 10px;"
                          (click)="delete(diagtest.Sno)">
                      </a>
                    </td>
                  </tr>
                </table>
                <br>
              </div><br>
              <div class="row">
                <div class="col-lg-7">

                </div>
                <div class="col-lg-5">
                  <button type="button" *ngIf="tablecount=='1'" class="btn btn-default " style="background-color: #f18235;color: white
                ;" data-dismiss="modal" (click)="insertDiagnostictestdetails()">{{labels[0].save}}</button>
                </div>
              </div>

            </div>

          </form> -->
       
          <form #diaForm="ngForm">

         
            <div class="row">
              <div class="col-lg-2">

              </div>
              <div class="col-lg-4">
                <input type="radio" value="1" [(ngModel)]="showothertest"
                  name="showothertest">&nbsp;{{labels[0].testdtabase}}

              </div>
              <div class="col-lg-4">

                <input type="radio" value="2" [(ngModel)]="showothertest"
                  name="showothertest">&nbsp;{{labels[0].manuallywritten}}
              </div>
            </div><br>
            <div *ngIf="showothertest==2">
              <div class="row">
                <div class="col-lg-2">
                  <label>{{labels[0].testName}} :</label>
                  <span class="required">*</span>
                </div>
                <div class="col-lg-6">
                  <input type="text" class="form-control" placeholder="Tests" [(ngModel)]="diagnostictestname"
                    name="diagnostictestname">
                </div>
              </div><br>
              <div class="row">
                <div class="col-lg-3">
                </div>
                <div class="col-lg-5">
                  <button type="button" style="background-color: #f18235;color: white;" class="btn btn-secondary"
                    (click)="adddetailstestenter()">{{labels[0].add}}</button>
                </div>
                <div class="col-lg-2">
                </div>
              </div><br>
              <div class="row" *ngIf="tablecount5=='1'">

                <div class="col-lg-12">
                  <table>
                    <thead>
                      <tr>
                        <!-- <th>{{labels[0].testType}}</th> -->
                        <th>{{labels[0].testName}}</th>
                        <th>{{labels[0].delete}}</th>
                      </tr>
                      <tr *ngFor="let diagtest of DiaenterArray">
                        <!-- <td>{{diagtest.DiagnosticTestTypeName}}</td> -->
                        <td>{{diagtest.TestName}}</td>
                        <td>
                          <ng-template #tipcontent2>{{labels[0].delete}}</ng-template>
                          <a [ngbTooltip]="tipcontent2">
                            <img src="assets/Images/dell.png" style="width: 20px;margin-left: 10px;"
                              (click)="delete(diagtest.Sno)">
                          </a>
                        </td>
                      </tr>
                    </thead>
                  </table>
                </div>
              </div>
              <br> 
              <div class="row" *ngIf="tablecount5=='1'">
                <div class="col-lg-3">
                </div>
                <div class="col-lg-5">
                  <button type="button" style="background-color: #f18235;color: white;" class="btn btn-secondary"
                    (click)="insertDiagnostictest()">{{labels[0].save}}</button>
                </div>
                <div class="col-lg-2">
                </div>
              </div>
            </div>
            <div *ngIf="showothertest==1">
              <div class=row>
                <div class="col-lg-2">
                  <label>{{labels[0].testName}} :</label>
                  <span class="required">*</span>
                </div>
                <div class="col-lg-6">
                  <!-- <input id="typeahead-basic" type="text" class="form-control" placeholder="{{labels[0].drugName}}"
                    [(ngModel)]="medicinename" [ngModelOptions]="{standalone: true}" [ngbTypeahead]="search1"
                    (ngModelChange)="GetDrugNameID()" /> -->
                  <input type="text" [(ngModel)]="testsname" name="testsname" class="form-control"
                    placeholder="{{labels[0].testName}}" (ngModelChange)="SearchTestname(testsname)">
                </div>
              </div><br>
            </div>
            <div class="row" *ngIf="SerachtestOn=='1'&&showothertest==1">
              <!-- <div class="col-lg-4">
              </div> -->
              <div class="col-lg-12" style="overflow-y:auto;height:300px">
                <table>
                  <thead>
                    <tr>
                      <th>{{labels[0].testType}}</th>
                      <th>{{labels[0].testName}}</th>
                      <th>Actions</th>
                    </tr>
                    <tr *ngFor="let code of tsetssslist|filter:testsname">
                      <td>{{code.name}}</td>
                      <td>
                        <input type="text" class="form-control" [(ngModel)]="code.short" name="code.short" disabled
                          [ngModelOptions]="{standalone: true}">
                      </td>
                      <td>
                        <button (click)="adddetails(code)" class="Addbutton">{{labels[0].add}}</button>
                        <!-- <input type="checkbox" [(ngModel)]="code.checked" name="code.checked" > -->
                      </td>
                    </tr>
                  </thead>
                </table>
              </div>
              <br>
            </div><br>
            <div class="row" *ngIf="tablecount=='1'&&showothertest==1">

              <div class="col-lg-12">
                <table>
                  <thead>
                    <tr>
                      <th>{{labels[0].testType}}</th>
                      <th>{{labels[0].testName}}</th>
                      <th>{{labels[0].delete}}</th>
                    </tr>
                    <tr *ngFor="let diagtest of qwerty">
                      <td>{{diagtest.DiagnosticTestTypeName}}</td>
                      <td>{{diagtest.TestName}}</td>
                      <td>
                        <ng-template #tipcontent2>{{labels[0].delete}}</ng-template>
                        <a [ngbTooltip]="tipcontent2">
                          <img src="assets/Images/dell.png" style="width: 20px;margin-left: 10px;"
                            (click)="delete(diagtest.Sno)">
                        </a>
                      </td>
                    </tr>
                  </thead>
                </table>
              </div>
            </div>
            <br> 
            <div class="row" *ngIf="SerachtestOn=='1'&&showothertest==1&&tablecount=='1'">
              <div class="col-lg-3">
              </div>
              <div class="col-lg-5">
                <button type="button" style="background-color: #f18235;color: white;" class="btn btn-secondary"
                  (click)="insertDiagnostictestdetails()">{{labels[0].save}}</button>
              </div>
              <div class="col-lg-2">
              </div>
            </div>
            <br>
          </form>
       
       
       
       
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" *ngIf="languageid=='1'" style="background-color: #f18235;color: white;"
          class="btn btn-default" data-dismiss="modal">{{labels[0].close}}</button>
        <button type="button" *ngIf="languageid=='6'" style="background-color: #f18235;color: white;"
          class="btn btn-default" data-dismiss="modal">Annuler</button>
      </div>
    </div>
  </div>
</div>


<div class="modal fade" id="addsoap" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
  aria-hidden="true" style="float: right;">
  <div class="modal-dialog modal-xl" style="float: right;">
    <div class="modal-content" style="width:700px">
      <div class="modal-header modal-xl">
        <h5 class="modal-title" id="exampleModalLongTitle">{{labels[0].addSoapNotes}}</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="container-fluid">
          <form #soapForm="ngForm">
            <div class="row">
              <div class="col-lg-6">
                <select class="form-control" (change)="GetTemplateID($event)">
                  <option value="0">{{labels[0].chooseFromtemplate}}</option>
                  <option *ngFor="let temp of templatelist" value="{{temp.id}}">{{temp.templateName}}</option>
                </select>
              </div>
              <div class="col-g-4">
              </div>
              <div class="col-lg-2">
                <!-- <img src="assets/Images/arrowtop.jpg" style=" width: 43%; margin-left: 284px;"> -->
              </div>
            </div>
            <br>
            <div class="row">
              <div class="col-lg-6">
                <textarea class="form-control" [(ngModel)]="subjective" name="subjective" required rows="4"
                  placeholder="{{labels[0].subjective}}"></textarea>
              </div>
              <div class="col-lg-6">
                <textarea class="form-control" rows="4" name="objective" [(ngModel)]="objective"
                  placeholder="{{labels[0].objective}}"></textarea>
              </div>
            </div><br>

            <div class="row">
              <div class="col-lg-6">
                <textarea class="form-control" rows="4" name="assessment" required [(ngModel)]="assessment"
                  placeholder="{{labels[0].assessment}}"></textarea>
              </div>
              <div class="col-lg-6">
                <textarea class="form-control" rows="4" name="plan" required [(ngModel)]="plan"
                  placeholder="{{labels[0].plan}}"></textarea>
              </div>
            </div><br>
            <div class="row">
              <div class="col-lg-6">
                <textarea rows="4" class="form-control" [(ngModel)]="icddesc"
                  placeholder="{{labels[0].diagnposticCode}}" name="icddesc"
                  (ngModelChange)="SearchIcrCode()"></textarea>
                <!-- <input id="typeahead-basic" type="text" class="form-control"
                  placeholder="{{labels[0].diagnposticCode}}" [(ngModel)]="icddesc"
                  [ngModelOptions]="{standalone: true}" [ngbTypeahead]="search" (ngModelChange)="getid()" /> -->
              </div>
              <div class="col-lg-6">
                <textarea class="form-control" rows="4" name="followupplan" required [(ngModel)]="followupplan"
                  placeholder="{{labels[0].followUpPlan}}"></textarea>

                <!-- <input type="text" class="form-control" [(ngModel)]="followupplan" name="followupplan"
                  placeholder="" /> -->
              </div>
            </div>
            <br>
            <div class="row" *ngIf="showsearchsoap=='1'">
              <!-- <div class="col-lg-1">
              </div> -->
              <div class="col-lg-12" style="overflow-y:auto;height:300px">
                <table>
                  <thead>
                    <tr>
                      <th>{{labels[0].diagnposticCode}}</th>
                      <th>Actions</th>
                    </tr>
                    <tr *ngFor="let code of icdcodelist|filter:icddesc| slice:0:100; let i=index">
                      <td (click)="GetIcrCodeID(code.id,code.description,code.icdCode)">
                        {{code.description}}</td>
                      <td>
                        <input type="checkbox" (click)="GetIcrCodeID(code.id,code.description,code.icdCode)">
                      </td>
                    </tr>
                  </thead>
                </table>
              </div>
              <br>
            </div>
            <div class="row">
              <div class="col-lg-6">
                <input type="text" class="form-control" disabled [ngModelOptions]="{standalone: true}"
                  [(ngModel)]="icdcode" name="icdcode" placeholder="{{labels[0].diagnosticDescription}}" />
              </div>
              <div class="col-lg-6">
                <input type="text" class="form-control" disabled [(ngModel)]="signature" name="signature"
                  placeholder="{{labels[0].signature}}" />
              </div>
            </div>
            <br>
            <div class="row">
              <div class="col-lg-6">
                <textarea class="form-control" rows="4" name="notes" [(ngModel)]="notes"
                  placeholder="{{labels[0].notes}}"></textarea>
              </div>
              <div class="col-lg-6">
                <ngx-dropzone [multiple]="false" style="height: 50px;" (change)="UploadSoapAttchments($event)"
                  class="dropzone_vendorinvoice h-100">
                  <ngx-dropzone-label>{{dropzonelable}}</ngx-dropzone-label>
                  <span *ngFor="let showphoto of shoprescphoto">
                    <img src="{{showphoto}}" style="height:50px;width:70px">&nbsp;
                  </span>
                </ngx-dropzone>

                <span *ngIf="languageid=='1'" style="color:red">You can only upload one document per session* </span>
                <span *ngIf="languageid=='6'" style="color:red">Vous ne pouvez t√©l√©charger qu'un seul document par
                  session* </span>
              </div>

            </div>
            <!-- <br>
              <div class="row">
                <div class="col-lg-6">
                  <input type="checkbox" (change)="GetPateintMisUseCheck($event)" value="true">
                  {{labels[0].patientMisUse}}
                  <span style="color: red;">*</span>
                </div>
                <div class="col-lg-6">
                  <textarea class="form-control" rows="4" name="notes" [(ngModel)]="miscomments"
                    placeholder="{{labels[0].miscomments}}"></textarea>
                </div>
              </div> -->
            <br>
            <!-- <div class="row">
          
              <div class="col-lg-6">
                <ngx-dropzone [multiple]="false" (change)="UploadSoapAttchments($event)" class="dropzone_vendorinvoice h-100">
                  <ngx-dropzone-label>{{dropzonelable}}</ngx-dropzone-label>
                </ngx-dropzone>
                <span *ngFor="let showphoto of shoprescphoto">
                  <img src="{{showphoto}}" style="height:50px;width:70px">&nbsp;
                </span>
              </div>
              <div>
              </div>
            </div>
            <br> -->
            <div class="row">
              <div class="col-lg-3">
                {{labels[0].saveastemplate}}

              </div>
              <div class="col-lg-3">
                <input type="radio" [(ngModel)]="savetemplate" name="savetemplate" [value]="1">&nbsp;{{labels[0].yes}}
                &nbsp;&nbsp;
                <input type="radio" [(ngModel)]="savetemplate" name="savetemplate" [value]="2">&nbsp;{{labels[0].no}}
              </div>
              <div class="col-lg-6" *ngIf="savetemplate=='1'">
                <textarea class="form-control" rows="4" name="templatename" [(ngModel)]="templatename"
                  placeholder="{{labels[0].templateName}}"></textarea>
              </div>
            </div>
            <br>
            <div class="row">
              <div class="col-lg-5">
              </div>
              <div class="col-lg-5">
                <button class="btn allbtns btncolor" style="background-color: #f18235;" (click)="insertsoapnotes1()"
                  data-dismiss="modal" data-dismiss="modal"
                  [disabled]="soapForm.form.invalid">{{labels[0].save}}</button>
              </div>
              <div class="col-lg-2">
              </div>
            </div>
          </form>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" style="background-color: #f18235;color: white;" class="btn btn-default"
          data-dismiss="modal">{{labels[0].close}}</button>
      </div>
    </div>
  </div>
</div>


<div class="modal fade" id="previousprescription" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
  aria-hidden="true" style="float: right;">
  <div class="modal-dialog modal-xl" style="float: right;">
    <div class="modal-content" style="width:730px;margin-left: 140px;">
      <div class="modal-header modal-xl">
        <h5 class="modal-title" id="exampleModalLongTitle">{{labels[0].prescription}}</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="container-fluid">
          <div class="row" style="overflow: auto; margin-left: -26px;">
            <div class="col-lg-12">
              <table>
                <thead>
                  <tr>
                    <th>{{labels[0].date}}</th>
                    <!-- <th>{{labels[0].medicineType}}</th> -->
                    <th>{{labels[0].drugName}}</th>
                    <!-- <th>{{labels[0].unitOfMeasure}}</th>
                      <th>{{labels[0].dosage}}</th>
                      <th>{{labels[0].duration}}</th> -->
                    <th>{{labels[0].sig}}</th>
                    <th>{{labels[0].dispenseQuantity}}</th>
                    <th>{{labels[0].howmanyRefills}}</th>

                    <th>{{labels[0].substistude}} </th>
                    <!-- <th>{{labels[0].diagnosis}}</th> -->
                    <th>{{labels[0].noteToPharmasist}}</th>

                    <!-- <th>{{labels[0].actions}}</th> -->
                  </tr>
                  <tr *ngFor="let presciption of prescrptionlist">
                    <td>{{presciption.date}}</td>
                    <td>{{presciption.medicineName}}</td>
                    <td>{{presciption.sig}}</td>
                    <td>{{presciption.dispenseQuantity}}</td>
                    <td>{{presciption.howmanyRefills}}</td>
                    <td>
                      <span *ngIf="presciption.substainablenotPermitted=='1'">{{labels[0].yes}}</span>
                      <span *ngIf="presciption.substainablenotPermitted=='2'"> {{labels[0].no}}</span>
                    </td>
                    <td>{{presciption.noteToPharmasist}}</td>
                    <!-- <td>{{presciption.diagnosis}}</td> -->
                    <!-- <td> -->
                      <!-- <ng-template #tipcontent2>{{labels[0].delete}}</ng-template>
                      <a [ngbTooltip]="tipcontent2">
                        <img src="assets/Images/dell.png" style="width: 20px;margin-left: 10px;"
                          (click)="deleteprscriptonforpatient(presciption.id)">
                      </a>&nbsp;&nbsp; -->
                      <!-- <button type="button" class="form-control"
                     style="background-color: #1dbfd2;"   (click)="renewprescription(presciption)">{{labels[0].renewal}}</button>
                    <br> -->
                      <!-- <ng-template #tipcontent9503>{{labels[0].edit}}</ng-template>
                      <a [ngbTooltip]="tipcontent9503" style="color:black">
                        <img src="assets/Images/edit.png" *ngIf="presciption.showmyediticon=='1'" data-toggle="modal" data-target="#edirprescription"
                          (click)="GetPriviouesPrescriptionlist(presciption)" style="width: 24px">
                      </a> -->
                    <!-- </td> -->
                  </tr>
                </thead>
              </table>
            </div>
          </div>
          <div class="row">
            <div class="col-lg-5">
            </div>
            <div class="col-lg-3">
              <!-- <img src="assets/Images/arrowleft.jpg"> -->
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" style="background-color: #f18235;color: white;" class="btn btn-default"
          data-dismiss="modal">{{labels[0].close}}</button>
      </div>
    </div>
  </div>
</div>


<div class="modal fade" id="edirprescription" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
  aria-hidden="true">
  <div class="modal-dialog modal-lg" style="float: right;width: 46%;">
    <div class="modal-content" style="width:1000px;margin-left: 140px;" style="float: right;">
      <div class="modal-header modal-lg">
        <h5 class="modal-title" id="exampleModalLongTitle">Edit prescription</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">

        <div class="container-fluid">
          <form #medicineForm="ngForm">
            <div>
              <div class="row">
                <div class="col-lg-4">
                  <label>{{labels[0].enterManuallydruname}} :</label>
                </div>
                <div class="col-lg-4">
                  <input type="radio" [(ngModel)]="manuallydrug" name="manuallydrug" [value]="1">&nbsp;
                  {{labels[0].yes}} &nbsp;&nbsp;
                  <input type="radio" [(ngModel)]="manuallydrug" name="manuallydrug" [value]="2">&nbsp;
                  {{labels[0].no}} &nbsp;&nbsp;
                </div>
              </div>
              <br>
            </div>
            <div *ngIf="languageid=='1'&&manuallydrug=='2'">
              <div class="row">
                <div class="col-lg-4">
                  <label>{{labels[0].drugName}} :</label>
                  <span class="required">*</span>
                </div>
                <div class="col-lg-6">
                  <!-- <input type="text" class="form-control" required name="medicinename" [(ngModel)]="medicinename"
                    placeholder="{{labels[0].drugName}}"> -->

                  <input type="text" [(ngModel)]="medicinename" name="medicinename" class="form-control"
                    placeholder="{{labels[0].drugName}}" (ngModelChange)="SerchDrugName(medicinename)">
                </div>
              </div>
              <br>
            </div>
            <div *ngIf="languageid=='1'&&manuallydrug=='1'">
              <div class="row">
                <div class="col-lg-4">
                  <label>{{labels[0].drugName}} :</label>
                  <span class="required">*</span>
                </div>
                <div class="col-lg-6">
                  <input type="text" class="form-control" required name="medicinename" [(ngModel)]="medicinename"
                    placeholder="{{labels[0].drugName}}">

                </div>
              </div>
              <br>
            </div>
            <div *ngIf="languageid=='6'&&manuallydrug=='2'">
              <div class=row>
                <div class="col-lg-4">
                  <label>{{labels[0].drugName}} :</label>
                  <span class="required">*</span>
                </div>
                <div class="col-lg-6">
                  <!-- <input id="typeahead-basic" type="text" class="form-control" placeholder="{{labels[0].drugName}}"
                    [(ngModel)]="medicinename" [ngModelOptions]="{standalone: true}" [ngbTypeahead]="search1"
                    (ngModelChange)="GetDrugNameID()" /> -->
                  <input type="text" [(ngModel)]="medicinename" name="medicinename" class="form-control"
                    placeholder="{{labels[0].drugName}}" (ngModelChange)="SerchDrugName(medicinename)">
                </div>
              </div><br>
            </div>
            <div class="row" *ngIf="SerachOn=='1'">
              <!-- <div class="col-lg-4">
              </div> -->
              <div class="col-lg-12" style="overflow-y:auto;height:300px">
                <table>
                  <thead>
                    <tr>
                      <th>m√©dicament</th>
                      <th>D√©nomination </th>
                      <th>Forme & Dosage
                      </th>
                      <th>Actions</th>
                    </tr>
                    <tr *ngFor="let code of drugnamelist|filter:medicinename | slice:0:100; let i=index">
                      <td (click)="GetDrugID(code.medicinename)">{{code.medicament}}</td>
                      <td (click)="GetDrugID(code.medicinename)">{{code.denomination}}</td>
                      <td (click)="GetDrugID(code.medicinename)">{{code.dosage}}</td>
                      <td>
                        <input type="checkbox" (click)="GetDrugID(code.medicinename)">
                      </td>
                    </tr>
                  </thead>
                </table>
              </div>
              <br>
            </div>
            <div *ngIf="languageid=='6'&&manuallydrug=='1'">
              <div class="row">
                <div class="col-lg-4">
                  <label>{{labels[0].drugName}} :</label>
                  <span class="required">*</span>
                </div>
                <div class="col-lg-6">
                  <input type="text" class="form-control" required name="medicinename" [(ngModel)]="medicinename"
                    placeholder="{{labels[0].drugName}}">
                </div>
              </div>
              <br>
            </div>
            <div class="row">
              <div class="col-lg-4">
                <label>{{labels[0].sig}} :</label>
                <span class="required">*</span>
              </div>
              <div class="col-lg-6">
                <input type="text" class="form-control" required name="sig" [(ngModel)]="sig"
                  placeholder="{{labels[0].sig}}">
              </div>
            </div>
            <br>

            <div class="row">
              <div class="col-lg-4">
                <label>{{labels[0].dispenseQuantityy}} :</label>
              </div>
              <div class="col-lg-6">
                <input type="text" class="form-control" name="dispensequantity" [(ngModel)]="dispensequantity"
                  placeholder="{{labels[0].dispenseQuantityy}}">
              </div>
            </div>
            <br>
            <div class="row">
              <div class="col-lg-4">
                <label>{{labels[0].howmanyRefillss}} :</label>
                <span class="required">*</span>
              </div>
              <div class="col-lg-6">
                <input type="text" class="form-control" required name="howmanyrefills" [(ngModel)]="howmanyrefills"
                  placeholder="{{labels[0].howmanyRefillss}}">
              </div>
            </div>
            <br>
            <div class="row">
              <div class="col-lg-4">
                <label>{{labels[0].substistude}} :</label>
                <span class="required">*</span>
              </div>
              <div class="col-lg-6">
                <input type="radio" [(ngModel)]="substainable" required name="substainable" [value]="1">&nbsp;
                {{labels[0].yes}} &nbsp;&nbsp;
                <input type="radio" [(ngModel)]="substainable" required name="substainable" [value]="2">&nbsp;
                {{labels[0].no}} &nbsp;&nbsp;
              </div>
            </div>
            <br>

            <!-- <div class="row">
              <div class="col-lg-4">
                <label>{{labels[0].diagnosiss}} :</label>
              </div>
              <div class="col-lg-7">
                <input type="text" class="form-control" required name="diagnosis" [(ngModel)]="diagnosis" placeholder="{{labels[0].diagnosiss}}">
              </div>
            </div>
            <br> -->

            <div class="row">
              <div class="col-lg-4">
                <label>{{labels[0].noteToPharmasist}} :</label>
              </div>
              <div class="col-lg-6">
                <input type="text" class="form-control" name="notetopharmacist" [(ngModel)]="notetopharmacist"
                  placeholder="{{labels[0].noteToPharmasist}}">
              </div>
            </div>
            <br>
            <div class="row">
              <div class="col-lg-5">
              </div>
              <div class="col-lg-2">
                <button type="button" style="background-color: #f18235;color: white;" class="btn btn-default"
                  (click)="updateprescription()" data-dismiss="modal">{{labels[0].update}}</button>
              </div>
              <div class="col-lg-5">
              </div>
            </div>
          </form>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" style="background-color: #f18235;color: white;" class="btn btn-default"
          data-dismiss="modal">{{labels[0].close}}</button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="previoussoap" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
  aria-hidden="true" style="float: right;">
  <div class="modal-dialog modal-lg" style="float: right;">
    <div class="modal-content" style="width:654px;margin-left: 140px;">
      <div class="modal-header modal-lg">
        <h5 class="modal-title" id="exampleModalLongTitle">{{labels[0].soap}}</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body" style="width:672px">
        <div class="container-fluid">
          <div class="row">
            <div class="col-lg-12">
              <table>
                <thead>
                  <tr>
                    <th>{{labels[0].appointmentDate}}</th>
                    <th>{{labels[0].reasonForVisit}}</th>
                    <th>{{labels[0].previousSoapNotes}}</th>
                  </tr>
                  <tr *ngFor="let soppp of soaplist1">
                    <td>{{soppp.appointDate}}</td>
                    <td>{{soppp.reasonForVisit}}</td>
                    <td>
                      <ng-template #tipcontent7>{{labels[0].previousSoapNotes}}</ng-template>
                      <a [ngbTooltip]="tipcontent7">
                        <img src="assets/Images/pview.png" data-toggle="modal" data-target="#exampleModalLong1"
                          style="height:25px;" (click)="GetSoapID(soppp.soapID)" />
                      </a>&nbsp;
                      <!-- <ng-template #tipcontent9504>Edit</ng-template>
                      <a [ngbTooltip]="tipcontent9504" style="color:black">
                        <img src="assets/Images/edit.png" *ngIf="soppp.showmyediticon=='1'" data-toggle="modal" data-target="#EditSoapnotes"
                          (click)="GetSoapID(soppp.soapID)" style="width: 23px;"  data-toggle="modal" data-target="#exampleModalLong12345" style="width: 18px">
                      </a> -->
                    </td>
                  </tr>
                </thead>
              </table>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" style="background-color: #f18235;color: white;" class="btn btn-default"
          data-dismiss="modal">{{labels[0].close}}</button>
      </div>
    </div>
  </div>
</div>



<div class="modal fade" id="previoustest" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
  aria-hidden="true" style="float: right;">
  <div class="modal-dialog modal-xl" style="float: right;">
    <div class="modal-content" style="width:755px;margin-left: 140px;">
      <div class="modal-header modal-xl">
        <h5 class="modal-title" id="exampleModalLongTitle">{{labels[0].labtest}}</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body" style="width:725px">
        <div class="container-fluid" style="overflow: y;">
          <br>
          <div class="row">
            <div class="col-lg-12">
              <table>
                <thead>
                  <tr>
                    <th>{{labels[0].appointmentDate}}</th>
                    <th>{{labels[0].testType}}</th>
                    <th>{{labels[0].testName}}</th>
                    <!-- <th>Actions</th> -->
                    <!-- <th>{{labels[0].reports}}</th> -->
                  </tr>
                  <tr *ngFor="let details of diagnosticlist">
                    <td>{{details.appdate}}</td>
                    <td>{{details.name}}</td>
                    <td>{{details.testName}}</td>
                    <!-- <td>
                      <ng-template #tipcontent9503>Edit</ng-template>
                      <a [ngbTooltip]="tipcontent9503" style="color:black">
                        <img src="assets/Images/edit.png" *ngIf="details.showmyediticon=='1'" data-toggle="modal" data-target="#edittest"
                          (click)="GetDiaEditList(details)" style="width: 18px">
                      </a>
                    </td> -->
                  </tr>
                </thead>
              </table>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" style="background-color: #f18235;color: white;" class="btn btn-default"
          data-dismiss="modal">{{labels[0].close}}</button>
      </div>
    </div>
  </div>
</div>


<div class="modal fade" id="edittest" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
  aria-hidden="true">
  <div class="modal-dialog modal-lg" style="float: right;">
    <div class="modal-content">
      <div class="modal-header modal-lg" style="float: right;">
        <h5 class="modal-title" id="exampleModalLongTitle">Edit test</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body" stylw="width:1100px">
        <div class="container-fluid">
          <form #diaForm="ngForm">
            <!-- <div class="row">
              <div class="col-lg-5">
                <h6>{{labels[0].chooseFromtemplate}} </h6>
              </div>
              <div class="col-lg-7">
                <select class="form-control" (change)="GetTestTemplateID($event)">
                  <option selected="selected" value="0">{{labels[0].select}}</option>
                  <option *ngFor="let testtemp of TestTemplateList" value="{{testtemp.id}}">{{testtemp.templateName}}
                  </option>
                </select>
              </div>
            </div>
            <br>
            <div class="row">
              <div class="col-lg-4"></div>
              <div class="col-lg-8">
                <h6>{{labels[0].fillAllDetails}}</h6>
              </div>
            </div>
            <br> -->
            <div class="row">
              <div class="col-lg-5">
                <label>{{labels[0].testType}} :</label>
              </div>
              <div class="col-lg-7">
                <select class="form-control" (change)="GetDiagnosticTestID($event)" [(ngModel)]="testid" name="testid">
                  <option value="0" selected>{{labels[0].select}}</option>
                  <option *ngFor="let test of testslist" value={{test.id}}>{{test.name}}</option>
                </select>
              </div>
            </div>
            <br>
            <div class="row">
              <div class="col-lg-5">
                <label>{{labels[0].testName}} :</label>
              </div>
              <div class="col-lg-7">
                <select class="form-control" (change)="GetDiagnosticTestssID($event)" [(ngModel)]="testssid"
                  name="testssid">
                  <option value="0" selected>{{labels[0].select}}</option>
                  <option *ngFor="let tests of tsetssslist" value={{tests.id}}>{{tests.short}}</option>
                </select>
              </div>
            </div>
            <br>
            <div *ngIf="testssid=='59'||testssid=='60'">
              <div class="row">
                <div class="col-lg-5">
                  <label>{{labels[0].testName}} :</label>
                </div>
                <div class="col-lg-7">
                  <input type="text" class="form-control" placeholder="{{labels[0].testName}}"
                    [(ngModel)]="diagnostictestname" name="diagnostictestname">
                </div>
              </div> <br>
            </div>
            <div *ngIf="testid==2">
              <div class="row">
                <div class="col-lg-5">
                  <label>{{labels[0].clinicalInfo}} :</label>
                </div>
                <div class="col-lg-7">
                  <textarea rows="3" class="form-control" placeholder="{{labels[0].clinicalInfo}}"
                    [(ngModel)]="clinicalinfo" name="clinicalinfo"></textarea>
                </div>
              </div>
            </div><br>
            <div class="row">
              <div class="col-lg-5">
                <label>{{labels[0].saveastemplate}} :</label>
              </div>
              <div class="col-lg-6">
                <input type="radio" [(ngModel)]="testtemplate" name="testtemplate" [value]="1">&nbsp;
                {{labels[0].yes}} &nbsp;&nbsp;
                <input type="radio" [(ngModel)]="testtemplate" name="testtemplate" [value]="2">&nbsp;
                {{labels[0].no}} &nbsp;&nbsp;
              </div>
            </div>
            <br>
            <div *ngIf="testtemplate=='1'">
              <div class="row">
                <div class="col-lg-5">
                  <label>{{labels[0].templateName}} :</label>
                </div>
                <div class="col-lg-7">
                  <input type="text" class="form-control" name="testtemplatename" [(ngModel)]="testtemplatename"
                    placeholder="{{labels[0].templateName}}">
                </div>
              </div>
              <br>
            </div>


            <div class="row">
              <div class="col-lg-5">
              </div>
              <div class="col-lg-2">
                <button type="button" style="background-color: #f18235;color: white;" class="btn btn-secondary"
                  (click)="updatedignostictest()" data-dismiss="modal">{{labels[0].update}}</button>
              </div>
              <div class="col-lg-5">
              </div>
            </div>
            <br>
          </form>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" style="background-color: #f18235;color: white;" class="btn btn-default"
          data-dismiss="modal">{{labels[0].close}}</button>
      </div>
    </div>
  </div>
</div>



<div class="modal fade" id="exampleModalLong1" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
  aria-hidden="true" style="float: right;">
  <div class="modal-dialog modal-lg" style="float: right;width: 709px;">
    <div class="modal-content">
      <div class="modal-header modal-lg" style="width: 709px;">
        <h5 class="modal-title" id="exampleModalLongTitle"> {{labels[0].previousSoapNotes}}</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="container-fluid" style="overflow-y: auto;">
          <form #soapForm="ngForm">
            <div class="row">
              <div class="col-lg-5">
                <label>
                  <b>{{labels[0].subjective}}</b>
                </label>
              </div>
              <div class="col-lg-7">
                <textarea class="form-control" [(ngModel)]="subjective" name="subjective" required rows="4"
                  placeholder="{{labels[0].subjective}}" [ngModelOptions]="{standalone: true}"></textarea>
              </div>
            </div>
            <br>
            <div class="row">
              <div class="col-lg-5">
                <label>
                  <b>{{labels[0].objective}}</b>
                </label>
                <span style="color: red;">*</span>
              </div>
              <div class="col-lg-7">
                <textarea class="form-control" rows="4" name="objective" required [(ngModel)]="objective"
                  placeholder="{{labels[0].objective}}" [ngModelOptions]="{standalone: true}"></textarea>
              </div>
            </div>
            <br>
            <div class="row">
              <div class="col-lg-5">
                <label>
                  <b>{{labels[0].assessment}}</b>
                </label>
                <span style="color: red;">*</span>
              </div>
              <div class="col-lg-7">
                <textarea class="form-control" rows="4" name="assessment" required [(ngModel)]="assessment"
                  placeholder="{{labels[0].assessment}}" [ngModelOptions]="{standalone: true}"></textarea>
              </div>
            </div>
            <br>
            <div class="row">
              <div class="col-lg-5">
                <label>
                  <b>{{labels[0].plan}}</b>
                </label>
                <span style="color: red;">*</span>
              </div>
              <div class="col-lg-7">
                <textarea class="form-control" rows="4" name="plan" required [(ngModel)]="plan"
                  placeholder="{{labels[0].plan}}" [ngModelOptions]="{standalone: true}"></textarea>
              </div>
            </div>
            <br>
            <div class="row">
              <div class="col-lg-5">
                <label>
                  <b>{{labels[0].diagnposticCode}}</b> :</label>
              </div>
              <div class="col-lg-7">
                <textarea rows="4" class="form-control" [(ngModel)]="icddesc"
                  placeholder="{{labels[0].diagnposticCode}}" name="icddesc"
                  (ngModelChange)="SearchIcrCode()"></textarea>

                <!-- <input id="typeahead-basic" type="text" class="form-control" placeholder="{{labels[0].diagnposticCode}}"
                  [(ngModel)]="icddesc" [ngModelOptions]="{standalone: true}" [ngbTypeahead]="search"
                  (ngModelChange)="getid()" /> -->
              </div>
            </div>
            <br>
            <div class="row" *ngIf="showsearchsoap=='1'">
              <!-- <div class="col-lg-1">
              </div> -->
              <div class="col-lg-12" style="overflow-y:auto;height:300px">
                <table>
                  <thead>
                    <tr>
                      <th>{{labels[0].diagnposticCode}}</th>
                      <th>Actions</th>
                    </tr>
                    <tr *ngFor="let code of icdcodelist|filter:icddesc| slice:0:100; let i=index">
                      <td (click)="GetIcrCodeID(code.id,code.description,code.icdCode)">
                        {{code.description}}</td>
                      <td>
                        <input type="checkbox" (click)="GetIcrCodeID(code.id,code.description,code.icdCode)">
                      </td>
                    </tr>
                  </thead>
                </table>
              </div>
              <br>
            </div>
            <div class="row">
              <div class="col-lg-5">
                <label>
                  <b>{{labels[0].diagnosticDescription}}</b> :</label>
              </div>
              <div class="col-lg-7">
                <!-- <textarea rows="4" class="form-control" [ngModelOptions]="{standalone: true}" placeholder="ICD Code"
                    name="icdcode" [(ngModel)]="icdcode"></textarea> -->
                <input type="text" class="form-control" disabled [ngModelOptions]="{standalone: true}"
                  placeholder="{{labels[0].diagnosticDescription}}" name="icdcode" [(ngModel)]="icdcode">
              </div>
            </div>
            <br>
            <div class="row">
              <div class="col-lg-5">
                <label>
                  <b>{{labels[0].followUpPlan}}</b>
                </label>
                <!-- <span style="color: red;">*</span> -->
              </div>
              <div class="col-lg-7">
                <input type="text" class="form-control" [ngModelOptions]="{standalone: true}" [(ngModel)]="followupplan"
                  name="followupplan" placeholder="{{labels[0].followUpPlan}}" />
              </div>
            </div>
            <br>
            <div class="row">
              <div class="col-lg-5">
                <label>
                  <b>{{labels[0].signature}}</b>
                </label>
                <!-- <span style="color: red;">*</span> -->
              </div>
              <div class="col-lg-7">
                <input type="text" class="form-control" [ngModelOptions]="{standalone: true}" disabled
                  [(ngModel)]="signature" name="signature" placeholder="{{labels[0].signature}}" />
              </div>
            </div>
            <br>
            <div class="row">
              <div class="col-lg-5">
                <label>
                  <b>{{labels[0].notes}}</b>
                </label>
              </div>
              <div class="col-lg-7">
                <textarea class="form-control" rows="4" [ngModelOptions]="{standalone: true}" name="notes"
                  [(ngModel)]="notes" placeholder="{{labels[0].notes}}"></textarea>
              </div>
            </div>
            <br>

            <!-- <div class="row">
              <div class="col-lg-5">
              </div>
              <div class="col-lg-5">
                <button class="btn allbtns btncolor" style="background-color: #f18235;" (click)="updatesoapnotes()"
                  data-dismiss="modal" [disabled]="soapForm.form.invalid">{{labels[0].update}}</button>
              </div>
              <div class="col-lg-2">
              </div>
            </div> -->
          </form>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" style="background-color: #f18235;color: white;" class="btn btn-default"
          data-dismiss="modal">{{labels[0].close}}</button>
      </div>
    </div>
  </div>
</div>


<div class="modal fade" id="exampleModalLong2" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle"
  aria-hidden="true">
  <div class="modal-dialog modal-lg" style=" float: right;">
    <div class="modal-content ">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLongTitle">{{labels[0].patientUploadedPhotos}}</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="container-fluid">
          <div class="row" *ngIf="nophoto=='0'">
            <div class="col-lg-12" *ngFor="let showphoto of showimages">
              <br>
              <img src="{{showphoto.photoURL}}" style="height: 300px;width:300px" />
              <br>
            </div>
            <br>
          </div>
          <br>
          <div class="row" *ngIf="nophoto=='1'">
            <div class="col-lg-12">
              <br>
              <img src="assets/Images/noimage.jpg" style="height:300px;width:100%" />
            </div>
            <br>
          </div>
          <br>
        </div>
      </div>
      <br>
      <div class="modal-footer">
        <button type="button" style="background-color: #f18235; color: white;"
          data-dismiss="modal">{{labels[0].close}}</button>
      </div>
    </div>
  </div>
</div>


<div class="modal fade" id="exampleModalLong3" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle"
  aria-hidden="true">
  <div class="modal-dialog modal-lg" style=" float: right;">
    <div class="modal-content ">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLongTitle">{{labels[0].patientUploadedVideo}}</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="container-fluid">
          <div class="row" *ngIf="novideo=='0'">
            <div class="col-lg-12" *ngFor="let showvedio of showvedioes">
              <br>
              <div class="video">
                <video controls id="videoPlayer" autoplay>
                  <source src="{{showvedio.videoUrl}}" type="video/mp4" style="height:auto; width: 100%;" /> Browser not
                  supported
                </video>
              </div>
            </div>
            <br>
          </div>
          <br>
          <div class="row" *ngIf="novideo=='1'">
            <div class="col-lg-12">
              <br>
              <img src="assets/Images/nov.png" />
            </div>
            <br>
          </div>
          <br>
        </div>
      </div>
      <br>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" style="background-color: #f18235; color: white;"
          data-dismiss="modal">{{labels[0].close}}</button>
      </div>
    </div>
  </div>
</div>



<div class="modal fade" id="exampleModalLong12345" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle"
  aria-hidden="true" style="float: right;">
  <div class="modal-dialog modal-lg" role="document" style="float: right;width: 709px;">
    <div class="modal-content">
      <div class="modal-header" style="width: 709px;">
        <h5 class="modal-title" id="exampleModalLongTitle" *ngIf="details1!=null">
          {{labels[0].previousSoapNotes}}
        </h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="container-fluid" style="overflow-y: auto;">
          <form #soapForm="ngForm">
            <div class="row">
              <div class="col-lg-3">
                <label>
                  <b>{{labels[0].subjective}}</b>
                </label>
              </div>
              <div class="col-lg-7">
                <textarea class="form-control" [(ngModel)]="subjective" name="subjective" required rows="4"
                  placeholder="{{labels[0].subjective}}" [ngModelOptions]="{standalone: true}"></textarea>
              </div>
            </div>
            <br>
            <div class="row">
              <div class="col-lg-3">
                <label>
                  <b>{{labels[0].objective}}</b>
                </label>
                <span style="color: red;">*</span>
              </div>
              <div class="col-lg-7">
                <textarea class="form-control" rows="4" name="objective" required [(ngModel)]="objective"
                  placeholder="{{labels[0].objective}}" [ngModelOptions]="{standalone: true}"></textarea>
              </div>
            </div>
            <br>
            <div class="row">
              <div class="col-lg-3">
                <label>
                  <b>{{labels[0].assessment}}</b>
                </label>
                <span style="color: red;">*</span>
              </div>
              <div class="col-lg-7">
                <textarea class="form-control" rows="4" name="assessment" required [(ngModel)]="assessment"
                  placeholder="{{labels[0].assessment}}" [ngModelOptions]="{standalone: true}"></textarea>
              </div>
            </div>
            <br>
            <div class="row">
              <div class="col-lg-3">
                <label>
                  <b>{{labels[0].plan}}</b>
                </label>
                <span style="color: red;">*</span>
              </div>
              <div class="col-lg-7">
                <textarea class="form-control" rows="4" name="plan" required [(ngModel)]="plan"
                  placeholder="{{labels[0].plan}}" [ngModelOptions]="{standalone: true}"></textarea>
              </div>
            </div>
            <br>
            <div class="row">
              <div class="col-lg-3">
                <label>
                  <b>{{labels[0].diagnposticCode}}</b> :</label>
              </div>
              <div class="col-lg-7">
                <textarea rows="4" class="form-control" [(ngModel)]="icddesc"
                  placeholder="{{labels[0].diagnposticCode}}" name="icddesc"
                  (ngModelChange)="SearchIcrCode()"></textarea>

                <!-- <input id="typeahead-basic" type="text" class="form-control" placeholder="{{labels[0].diagnposticCode}}"
                  [(ngModel)]="icddesc" [ngModelOptions]="{standalone: true}" [ngbTypeahead]="search"
                  (ngModelChange)="getid()" /> -->
              </div>
            </div>
            <br>
            <div class="row" *ngIf="showsearchsoap=='1'">
              <!-- <div class="col-lg-1">
              </div> -->
              <div class="col-lg-12" style="overflow-y:auto;height:300px">
                <table>
                  <thead>
                    <tr>
                      <th>{{labels[0].diagnposticCode}}</th>
                      <th>Actions</th>
                    </tr>
                    <tr *ngFor="let code of icdcodelist|filter:icddesc| slice:0:100; let i=index">
                      <td (click)="GetIcrCodeID(code.id,code.description,code.icdCode)">
                        {{code.description}}</td>
                      <td>
                        <input type="checkbox" (click)="GetIcrCodeID(code.id,code.description,code.icdCode)">
                      </td>
                    </tr>
                  </thead>
                </table>
              </div>
              <br>
            </div>
            <div class="row">
              <div class="col-lg-3">
                <label>
                  <b>{{labels[0].diagnosticDescription}}</b> :</label>
              </div>
              <div class="col-lg-7">
                <!-- <textarea rows="4" class="form-control" [ngModelOptions]="{standalone: true}" placeholder="ICD Code"
                    name="icdcode" [(ngModel)]="icdcode"></textarea> -->
                <input type="text" class="form-control" disabled [ngModelOptions]="{standalone: true}"
                  placeholder="{{labels[0].diagnosticDescription}}" name="icdcode" [(ngModel)]="icdcode">
              </div>
            </div>
            <br>
            <div class="row">
              <div class="col-lg-3">
                <label>
                  <b>{{labels[0].followUpPlan}}</b>
                </label>
                <!-- <span style="color: red;">*</span> -->
              </div>
              <div class="col-lg-7">
                <input type="text" class="form-control" [ngModelOptions]="{standalone: true}" [(ngModel)]="followupplan"
                  name="followupplan" placeholder="{{labels[0].followUpPlan}}" />
              </div>
            </div>
            <br>
            <div class="row">
              <div class="col-lg-3">
                <label>
                  <b>{{labels[0].signature}}</b>
                </label>
                <!-- <span style="color: red;">*</span> -->
              </div>
              <div class="col-lg-7">
                <input type="text" class="form-control" [ngModelOptions]="{standalone: true}" disabled
                  [(ngModel)]="signature" name="signature" placeholder="{{labels[0].signature}}" />
              </div>
            </div>
            <br>
            <div class="row">
              <div class="col-lg-3">
                <label>
                  <b>{{labels[0].notes}}</b>
                </label>
              </div>
              <div class="col-lg-7">
                <textarea class="form-control" rows="4" [ngModelOptions]="{standalone: true}" name="notes"
                  [(ngModel)]="notes" placeholder="{{labels[0].notes}}"></textarea>
              </div>
            </div>
            <br>

            <div class="row">
              <div class="col-lg-5">
              </div>
              <div class="col-lg-5">
                <button class="btn allbtns btncolor" style="background-color: #f18235;" (click)="updatesoapnotes()"
                  data-dismiss="modal" [disabled]="soapForm.form.invalid">{{labels[0].update}}</button>
              </div>
              <div class="col-lg-2">
              </div>
            </div>
          </form>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">{{labels[0].close}}</button>
      </div>
    </div>
  </div>
</div>


<div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
  aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document" style="margin-left: 787px;">
    <div class="modal-content modal-lg">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLongTitle">{{labels[0].modifieAllergies}}</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="container-fluid">
          <div class="row">
            <div class="col-lg-12">
              <table>
                <thead>
                  <tr>
                    <th>Allergies</th>
                    <th>Actions</th>
                  </tr>
                  <tr *ngFor="let allergilist of myarray">
                    <td>{{allergilist.Showallergies}}</td>
                    <td>
                      <ng-template #tipcontent2>{{labels[0].delete}}</ng-template>
                      <a [ngbTooltip]="tipcontent2">
                        <img src="assets/Images/dell.png" (click)="deletealergeies(allergilist.Snoo)"
                          style="width: 20px;margin-left: 10px;">
                      </a>
                    </td>
                  </tr>
                </thead>
              </table>
            </div>
          </div>
          <br>
          <div class="row">
            <div class="col-lg-3">
              <label>{{labels[0].allergies}}</label>
            </div>
            <div class="col-lg-8">
              <input type="text" class="form-control" placeholder="{{labels[0].allergies}}" [(ngModel)]="addallergies"
                name="addallergies">

              <!-- <ngx-tags-input class="form-control input-xl" style="height: 100px;" [(ngModel)]="allergies"
                name="allergies"></ngx-tags-input> -->
            </div>
          </div><br>
          <div class="row">
            <div class="col-lg-5">
            </div>
            <div class="col-lg-2">
              <button type="button" class="btn btn-primary" (click)="updatedetsils()">{{labels[0].save}}</button>
            </div>
            <div class="col-lg-5">
            </div>
          </div>

        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">{{labels[0].close}}</button>

      </div>
    </div>
  </div>
</div>



<div class="modal fade" id="currentmedications" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
  aria-hidden="true" style="float: right;">
  <div class="modal-dialog modal-xl" style="float: right;">
    <div class="modal-content" style="width:751px;margin-left: 140px;">
      <div class="modal-header modal-xl">
        <h5 class="modal-title" id="exampleModalLongTitle">{{labels[0].currentMedications}}</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body" stylw="width:1100px">
        <div class="container-fluid">
          <div class="row" style="overflow: auto; margin-left: -26px;">
            <div class="col-lg-12">
              <table class="table">
                <thead>
                  <tr>
                    <th>{{labels[0].drugName}}</th>
                    <th>{{labels[0].dosage}}</th>
                    <th>{{labels[0].frequency}}</th>
                  </tr>
                  <tr *ngFor="let medication of medicationlist">
                    <td>{{medication.drugName}}</td>
                    <td>{{medication.dosage}}</td>
                    <td>{{medication.frequency}}</td>
                  </tr>
                </thead>
              </table>
            </div>
          </div>
          <div class="row">
            <div class="col-lg-5">
            </div>
            <div class="col-lg-3">
              <!-- <img src="assets/Images/arrowleft.jpg"> -->
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" style="background-color: #f18235;color: white;" class="btn btn-default"
          data-dismiss="modal">{{labels[0].close}}</button>
      </div>
    </div>
  </div>
</div>





<!-- 
Vital details -->


<div class="modal fade" id="Vitaldetals" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
  aria-hidden="true" style="float: right;">
  <div class="modal-dialog modal-xl" style="float: right;">
    <div class="modal-content" style="width:751px;margin-left: 140px;">
      <div class="modal-header modal-xl">
        <h5 class="modal-title" id="exampleModalLongTitle">{{labels[0].vitalDetals}}</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body" stylw="width:1100px">
        <div class="container-fluid">
          <div class="row">
            <div class="col-lg-3">
              <label>BPM : </label>
            </div>
            <div class="col-lg-4">
              {{bpm}}
            </div>
          </div>
          <div class="row">
            <div class="col-lg-3">
              <label>CPM : </label>
            </div>
            <div class="col-lg-4">
              {{cpm}}
            </div>
          </div>
          <div class="row">
            <div class="col-lg-3">
              <label>{{labels[0].oxygen}} : </label>
            </div>
            <div class="col-lg-4">
              {{oxygen}}
            </div>
          </div>
          <div class="row">
            <div class="col-lg-3">
              <label>{{labels[0].stress}} : </label>
            </div>
            <div class="col-lg-4">
              {{stress}}
            </div>
          </div>
          <div class="row">
            <div class="col-lg-3">
              <label>{{labels[0].bloodpressure}} : </label>
            </div>
            <div class="col-lg-4">
              {{bloodpressure}}
            </div>
          </div>
          <div class="row">
            <div class="col-lg-5">
            </div>
            <div class="col-lg-3">
              <!-- <img src="assets/Images/arrowleft.jpg"> -->
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" *ngIf="languageid=='1'" style="background-color: #f18235;color: white;"
          class="btn btn-default" data-dismiss="modal">{{labels[0].close}}</button>

        <button type="button" *ngIf="languageid=='6'" style="background-color: #f18235;color: white;"
          class="btn btn-default" data-dismiss="modal">Fermer </button>

      </div>
    </div>
  </div>
</div>



<!-- 
vaccination -->




<div class="modal fade" id="vaccination" tabindex="-1" role="dialog" aria-labelledby="vaccination" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content" style="margin-left: 439px;">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">{{labels[0].vaccineeditts}}</h5>

        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="container-fluid">
          <div class="row">
            <div class="col-lg-12">
              <table>
                <tr>
                  <th>{{labels[0].vaccinename}}</th>
                  <th>Date</th>
                </tr>
                <tr *ngFor="let vaccine of vaccinationlist">
                  <td>{{vaccine.vaccinationName}}</td>
                  <td>{{vaccine.vaccinationDate}}</td>
                </tr>
              </table>
            </div>
          </div><br>

          <div class="row">
            <div class="col-lg-4">
              <label>{{labels[0].vaccinename}} :</label>
            </div>
            <div class="col-lg-5">
              <input type="text" class="form-control" placeholder="{{labels[0].vaccinename}}" [(ngModel)]="firstvaccine"
                name="firstvaccine">
            </div>

          </div><br>
          <div class="row">
            <div class="col-lg-4">
              <label>Date :</label>
            </div>
            <div class="col-lg-5">
              <input *ngIf="languageid==1" type="text" class="form-control" placeholder="MM/DD/YYYY"
                [bsConfig]="{ showWeekNumbers:false }" name="firstvaccinedate"
                [bsConfig]="{ dateInputFormat: 'MM/DD/YYYY' }" [(ngModel)]="firstvaccinedate" bsDatepicker>
              <input *ngIf="languageid==6" type="text" class="form-control" placeholder="jj/mm/aa"
                [bsConfig]="{ showWeekNumbers:false }" name="firstvaccinedate"
                [bsConfig]="{ dateInputFormat: 'MM/DD/YYYY' }" [(ngModel)]="firstvaccinedate" bsDatepicker>
            </div>

          </div><br>
          <div class="row">
            <div class="col-lg-5">

            </div>
            <div class="col-lg-2">
              <button class="btn btn-secondary" style="background-color: #f18235;color: white;"
                (click)="InsertvaccinationStatus()" data-dismiss="modal">{{labels[0].savevaccine}}</button>
            </div>

          </div>

          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" style="background-color: #f18235;color: white;"
              data-dismiss="modal">{{labels[0].close}}</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>




<!-- chat -->

<div class="chat-popup" id="myForm">
  <form class="form-container" #chatfrom="ngForm">
    <div class="container-fluid card card-hover" style="height: 550px;width:530px;">
      <br>
      <div class="row">
        <div class="col-lg-5">
          <h5>{{labels[0].chat}}</h5>
        </div>
        <div class="col-lg-5">
        </div>
        <div class="col-lg-2">
          <img src="assets/Images/can.png" (click)="GetShowOff()">
        </div>
      </div>
      <div class="row">
        <div class="col-lg-3">

        </div>
      </div>

      <div style="height: 500px;overflow-y: scroll;" id="chatboxdivs">
        <div *ngFor='let convo of coversationarray'>
          <div class="container" *ngIf='convo.user=="doc"'>
            <div class="row">
              <div class="col-lg-4"></div>
              <div class="col-lg-1"></div>
              <div class="col-lg-7" style="background-color:#dbdbdb;border-radius: 5px;color:black;">
                <div *ngIf="convo.msgtype=='1'">
                  <img src="{{docphoto}}" class="rounded-circle" style="width:26px;;margin-top: 5px;margin-right: 3%;
                    float: left;">
                  <p style="margin-top: 5px;">{{convo.chatmsg}}
                    <span style="float: right;;margin-top: 5px;">
                      {{convo.time}}
                    </span>
                  </p>
                </div>
                <div *ngIf="convo.msgtype=='2'">
                  <img src="{{convo.chatmsg}}" style="width: 100%;">
                </div>
              </div>
            </div>
          </div>
          <div class="container" *ngIf='convo.user=="pat"'>
            <div class="row">
              <div class="col-lg-7" style="background-color:#1dbfd2;border-radius: 5px;color:black;margin-top: 1px;">
                <div *ngIf="convo.msgtype=='1'">
                  <p style="margin-top: 5px;">
                    <img src="{{patientphoto}}" class="rounded-circle" style="width:26px;margin-top: 5px;"> &nbsp;
                    {{convo.chatmsg}}
                    <span style="float: right;;margin-top: 5px;">
                      {{convo.time}}
                    </span>
                  </p>
                </div>
                <div *ngIf="convo.msgtype=='2'">
                  <img src="{{convo.chatmsg}}" style="width: 100%;">
                </div>
              </div>
            </div>
          </div>
          <br>
        </div>
      </div>
      <hr>
      <div class="container-fluid" style="border: 1px solid #bcbcbc;  padding-top: 2%;  padding-bottom: 1.5%;">
        <div class="row">
          <div class="col-lg-9">

            <input type="text" [(ngModel)]="chatconversation" name="chatconversation" required class="form-control"
              style=" border-style:none;" placeholder="{{labels[0].typeamessage}}" />
          </div>
          <div class="col-lg-3">
            <button type="submit" class="chat form-control" [disabled]="chatfrom.form.invalid"
              (click)="dosendmsg()">{{labels[0].send}}

            </button>
          </div>

        </div>
      </div>
      <br>
    </div>
    <br>
  </form>
</div>